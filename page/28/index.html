<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">



  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css">













  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">







  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/panda/apple-touch-icon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/panda/favicon-32x32.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/panda/favicon-16x16.png?v=7.1.0">


  <link rel="mask-icon" href="/images/panda/safari-pinned-tab.svg?v=7.1.0" color="#222">


  <link rel="manifest" href="/images/panda/site.webmanifest">


  <meta name="msapplication-config" content="/images/panda/browserconfig.xml">





<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: true,
    lazyload: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="有时候阳光很好 有时候阳光很暗">
<meta name="keywords" content="独木舟的木">
<meta property="og:type" content="website">
<meta property="og:title" content="独木舟的木">
<meta property="og:url" content="https://andy0570.com/page/28/index.html">
<meta property="og:site_name" content="独木舟的木">
<meta property="og:description" content="有时候阳光很好 有时候阳光很暗">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="独木舟的木">
<meta name="twitter:description" content="有时候阳光很好 有时候阳光很暗">



  <link rel="alternate" href="/atom.xml" title="独木舟的木" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://andy0570.com/page/28/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>独木舟的木</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8229a094facca297f211d61323fd9fde";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/andy0570" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">独木舟的木</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">iOS Developer</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">14</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">39</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">314</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/05/GitHub使用入门：Hello World/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/05/GitHub使用入门：Hello World/" class="post-title-link" itemprop="url">GitHub使用入门：Hello World</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-05 01:16:00" itemprop="dateCreated datePublished" datetime="2016-12-05T01:16:00+08:00">2016-12-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:27:44" itemprop="dateModified" datetime="2019-04-18T00:27:44+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/05/GitHub使用入门：Hello World/" class="leancloud_visitors" data-flag-title="GitHub使用入门：Hello World">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-3ef41ffe024172f7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Github吉祥物 Octocat"></p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><strong>GitHub</strong>是一个通过<a href="https://zh.wikipedia.org/wiki/Git" target="_blank" rel="noopener">Git</a>进行<a href="https://zh.wikipedia.org/wiki/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6" target="_blank" rel="noopener">版本控制</a>的软件源代码托管服务，由GitHub公司（曾称Logical Awesome）的开发者Chris Wanstrath、PJ Hyett和Tom Preston-Werner使用<a href="https://zh.wikipedia.org/wiki/Ruby_on_Rails" target="_blank" rel="noopener">Ruby on Rails</a>编写而成。<br>GitHub同时提供<strong>付费账户</strong>和<strong>免费账户</strong>。这两种账户都可以创建公开的代码仓库，但是付费账户还可以创建私有的代码仓库。根据在2009年的Git用户调查，GitHub是最流行的Git访问站点.<br>除了允许个人和组织创建和访问保管中的代码以外，它也提供了一些方便社会化共同软件开发的功能，即一般人口中的社区功能，包括允许用户追踪其他用户、组织、软件库的动态，对软件代码的改动和bug提出评论等。GitHub也提供了图表功能，用于概观显示开发者们怎样在代码库上工作以及软件的开发活跃程度。<br>截止到2015年，GitHub已经有超过九百万注册用户和2110万代码库。<br>事实上已经成为了世界上最大的代码存放网站和开源社区<br><a href="https://zh.wikipedia.org/wiki/GitHub" target="_blank" rel="noopener">更多:维基百科</a></p>
<hr>
<h3 id="开始使用GitHub"><a href="#开始使用GitHub" class="headerlink" title="开始使用GitHub"></a>开始使用GitHub</h3><p>本文是我对于<a href="https://guides.github.com/activities/hello-world/" target="_blank" rel="noopener">官方文档：Hello World</a> 的翻译。<br><img src="http://upload-images.jianshu.io/upload_images/2648731-fb8ceb673c71c1b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><strong>Hello World</strong> 项目是计算机编程中一个历史悠久的传统。 这是一个在你开始学习新东西时候的简单练习。 让我们开始使用GitHub吧！<br><strong>您将学会：</strong></p>
<ul>
<li>创建和使用存储库（repository）；    </li>
<li>启动和管理新分支（branch）；     </li>
<li>对文件进行更改并将其推送提交（commit）到GitHub ；    </li>
<li>打开并合并一个<a href="https://www.zhihu.com/question/21682976" target="_blank" rel="noopener">Pull请求</a>。  </li>
</ul>
<h4 id="什么是GitHub？"><a href="#什么是GitHub？" class="headerlink" title="什么是GitHub？"></a>什么是GitHub？</h4><p>GitHub是用于版本控制和协作的代码托管平台。 它可以让你和其他人在任何地方协同工作同一个项目。<br>本教程教你GitHub的要素，如<em>仓库(</em>repositories<em>)</em>，<em>分支(</em>branches<em>)</em>，<em>提交(</em>commits<em>)</em> 和<em>Pull请求</em>。 您将创建自己的<strong>Hello World 项目</strong>存储库，并学习GitHub的Pull Request工作流程，这是一种流行的创建和审查代码的方法。</p>
<h5 id="无需编码"><a href="#无需编码" class="headerlink" title="无需编码"></a>无需编码</h5><p>要完成本教程，您需要一个<a href="https://github.com/" target="_blank" rel="noopener">GitHub帐户</a>和可以连接的Internet网络。 您不需要知道如何编码，使用命令行，或安装Git（GitHub的版本控制软件被建立于此）。</p>
<blockquote>
<p>提示：在单独的浏览器窗口（或选项卡）中打开此指南，以便在完成教程中的步骤时可以看到它。</p>
</blockquote>
<hr>
<h4 id="步骤1-创建存储库-Repository"><a href="#步骤1-创建存储库-Repository" class="headerlink" title="步骤1.创建存储库(Repository)"></a>步骤1.创建存储库(Repository)</h4><p><strong>存储库(repository)</strong>通常用于组织单个项目。 存储库可以包含文件夹和文件，图像，视频，电子表格和数据集 - 即项目需要的任何内容。 我们建议您包括一个README文件，或包含有关您的项目信息的文件。 GitHub使得在创建新存储库的同时添加一个README文件很容易实现。 它还提供其他常见选项，如许可证文件。<br>你的 <code>hello-world</code> 存储库 可以是一个你存储想法，资源，甚至与他人分享和讨论内容的地方。</p>
<h5 id="创建新存储库-Repository"><a href="#创建新存储库-Repository" class="headerlink" title="创建新存储库(Repository)"></a>创建新存储库(Repository)</h5><ol>
<li>在右上角，在您的头像或识别码旁边，单击 <strong>+</strong> 然后选择“Create new…”。</li>
<li>命名您的存储库名称为<code>hello-world</code>。</li>
<li>写一个简短的描述(description)。</li>
<li>勾选 <strong>Initialize this repository with a README</strong>（使用README初始化此存储库。）<br>[图片上传失败…(image-7fa7f1-1513732778552)]<br>点击 <strong>Create repository</strong>（创建存储库）。</li>
</ol>
<hr>
<h4 id="步骤2-创建分支（Branch）"><a href="#步骤2-创建分支（Branch）" class="headerlink" title="步骤2.创建分支（Branch）"></a>步骤2.创建分支（Branch）</h4><p><strong>分支（Branching）</strong> 是同时在同一个存储库中创建不同版本的方式。<br> 默认情况下，你的仓库有一个名称为<code>master</code>的分支，它被认为是最终分支。 我们使用分支进行实验和编辑，然后将分支提交到<code>master</code>。<br>当您在主<code>master</code>分支上创建分支时，您就创建了主<code>master</code>节点在该时间点的副本或快照。 如果有人在您在分支上工作时对主<code>master</code>分支进行了更改，你就可以提取这些更新。<br>此图显示：    </p>
<ul>
<li>主分支 The <code>master</code> branch    </li>
<li>一个新的分支称之为 映像（<code>feature</code>）（因为我们在这个分支上做“映像工作”）     </li>
<li><p>在映像（<code>feature</code>）被合并到主 <code>master</code>分支上的旅程<br>[图片上传失败…(image-b704e5-1513732778552)]</p>
<p>你曾经保存过一个文件的不同版本吗？ 就像是：</p>
<ul>
<li>story.txt</li>
<li>story-joe-edit.txt</li>
<li>story-joe-edit-reviewed.txt</li>
</ul>
<p><strong>分支(Branch)</strong> 在GitHub存储库中实现类似的目标。<br>在GitHub上，我们的开发人员，作家和设计师使用分支来保持错误的修复和功能工作在独立于我们的主（产品）分支上。 当更改准备就绪时，它们将其分支合并到主master（）节点上。</p>
<h5 id="创建一个新的分支"><a href="#创建一个新的分支" class="headerlink" title="创建一个新的分支"></a>创建一个新的分支</h5><ol>
<li>进入您的新存储库<code>hello-world</code>。    </li>
<li>单击文件列表顶部叫做 <strong>branch：master</strong> 的下拉列表。     </li>
<li>在新分支文本框中键入分支名称<strong>readme-edits</strong>。     </li>
<li>选择蓝色的 <strong>Create branch</strong> 框或按键盘上的“Enter”。<br>[图片上传失败…(image-900a77-1513732778552)]<br>现在你有两个分支，<code>master</code>和<code>readme-edits</code>。 他们看起来完全一样，但不长久！ 接下来，我们将把更改添加到新分支。</li>
</ol>
</li>
</ul>
<hr>
<h4 id="步骤3-制作并提交更改"><a href="#步骤3-制作并提交更改" class="headerlink" title="步骤3.制作并提交更改"></a>步骤3.制作并提交更改</h4><p>哇哦！ 现在，你在<code>readme-edits</code>分支的代码视图上，这是<code>master</code>的副本。 让我们做一些编辑。<br>在GitHub上，保存的更改称为<strong>提交(commit)</strong>。 每个提交都有一个相关的提交消息，这是一个描述为什么进行特定更改的描述。 提交消息会捕获您更改的历史记录，因此其他参与者可以了解您的操作以及原因。</p>
<h5 id="制作并提交更改"><a href="#制作并提交更改" class="headerlink" title="制作并提交更改"></a>制作并提交更改</h5><ol>
<li>单击<code>README.md</code>文件。</li>
<li>在文件视图的右上角单击✎铅笔图标编辑。</li>
<li>在编辑器中，写一点关于你自己的东西。</li>
<li>编写提交消息来描述您的更改的内容。</li>
<li>单击 <strong>Commit changes</strong> 提交更改按钮。<br>[图片上传失败…(image-8c610f-1513732778552)]<br>这些更改将只发生在<code>readme-edits</code>分支上的README文件，因此现在此分支包含的内容与<code>master</code>不同。</li>
</ol>
<hr>
<h4 id="步骤4-开启拉取请求（Pull-Request）"><a href="#步骤4-开启拉取请求（Pull-Request）" class="headerlink" title="步骤4.开启拉取请求（Pull Request）"></a>步骤4.开启拉取请求（Pull Request）</h4><p>干得漂亮！ 现在，您在<code>master</code>的分支中有更改，您可以开启拉取请求了。<br>Pull Request 请求是GitHub协作的核心。 当您开启拉取请求时，您就会提出您的更改和请求，并要求某人审核并提交您的贡献，并将其合并到他们的分支中。 拉取请求会显示来自两个分支的内容的差异或差异。 更改，添加和减少以绿色和红色显示。<br>一旦提交（commit）以后，您就可以开启一个拉取请求（Pull Request）并，在代码完成之前展开讨论。<br>通过在您的请求消息中使用GitHub的@<a href="https://help.github.com/articles/about-writing-and-formatting-on-github/#text-formatting-toolbar" target="_blank" rel="noopener">提醒系统</a>，您可以请求特定人员或团队的反馈，无论他们是在大厅还是在10个时区以外。<br>您甚至可以在您自己的存储库中开启拉取请求并自行合并它们。 这是一个在更大的项目之前学习GitHub流的伟大的方式。</p>
<p>#####　开启一个对README的更改的Pull Requset<br>点击图片获得更大的版本</p>
<table>
<thead>
<tr>
<th>步骤</th>
<th style="text-align:center">截图</th>
</tr>
</thead>
<tbody>
<tr>
<td>单击 <strong>Pull Requset</strong> 选项卡，然后在拉请求页面，单击绿色的 <strong>New pull request</strong> 按钮。</td>
<td style="text-align:center">[图片上传失败…(image-eae31e-1513732778552)]</td>
</tr>
<tr>
<td>选择您所做的分支<code>readme-edits</code>，以与<code>master</code>（原始）进行比较。</td>
<td style="text-align:center">[图片上传失败…(image-92ee70-1513732778552)]</td>
</tr>
<tr>
<td>查看比较页面上的差异更改，确保它们是您要提交的内容。</td>
<td style="text-align:center">[图片上传失败…(image-72991b-1513732778552)]</td>
</tr>
<tr>
<td>当您确定这些是您要提交的更改时，单击大的绿色“<strong>Create Pull Request</strong>”按钮。</td>
<td style="text-align:center">[图片上传失败…(image-45bab3-1513732778552)]</td>
</tr>
<tr>
<td>给你的Pull Request写一个标题，并写一个简短的描述你的更改。</td>
<td style="text-align:center">[图片上传失败…(image-870051-1513732778552)]</td>
</tr>
</tbody>
</table>
<p>当你完成填写以上信息后，点击 <strong>Create pull request</strong>。</p>
<blockquote>
<p>提示：您可以使用<a href="https://help.github.com/articles/basic-writing-and-formatting-syntax/#using-emoji" target="_blank" rel="noopener">表情符号</a>并将<a href="https://help.github.com/articles/file-attachments-on-issues-and-pull-requests/" target="_blank" rel="noopener">图片和GIF</a>拖放到你的评论和拉取请求上。</p>
</blockquote>
<hr>
<h4 id="步骤5-合并-merge-您的请求"><a href="#步骤5-合并-merge-您的请求" class="headerlink" title="步骤5.合并(merge)您的请求"></a>步骤5.合并(merge)您的请求</h4><p>在这最后一步，是时候把你的更改放在一起了 - 合并你的<code>readme-edits</code>分支到<code>master</code>分支。</p>
<ol>
<li>单击绿色<strong>Merge pull request</strong>按钮将更改合并到<code>master</code>中。<br>[图片上传失败…(image-fc048d-1513732778552)]     </li>
<li>单击确认合并（<strong>Confirm merge</strong>）。     </li>
<li>继续并删除分支，因为它的更改已被合并，删除分支（<strong>Delete branch</strong>）按钮在紫色框中。<br>[图片上传失败…(image-9a4969-1513732778552)]</li>
</ol>
<hr>
<h4 id="恭喜"><a href="#恭喜" class="headerlink" title="恭喜"></a>恭喜</h4><p>通过完成本教程，您已经学会了创建一个项目，并在GitHub上发出pull request了<br><img src="http://upload-images.jianshu.io/upload_images/2648731-dc773739fa00aba8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=":tada:"><br><img src="http://upload-images.jianshu.io/upload_images/2648731-20daba5a3d1d49bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=":octocat:"><br><img src="http://upload-images.jianshu.io/upload_images/2648731-85446d6ef1448565.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=":zap:">！</p>
<p>这里是你在本教程中完成的：     </p>
<ol>
<li>创建了一个开源库    </li>
<li>开始和管理一个新的分支    </li>
<li>更改了一个文件并将这些更改提交给GitHub     </li>
<li>开启并合并一个Pull Request</li>
</ol>
<p>看看你的GitHub个人资料，你会看到你的新<a href="https://help.github.com/articles/viewing-contributions-on-your-profile/" target="_blank" rel="noopener">贡献方块</a>！<br>如果您想了解有关Pull Request的更多功能，我们建议您阅读<a href="https://guides.github.com/introduction/flow/" target="_blank" rel="noopener">GitHub Flow Guide</a>。 您还可以访问<a href="https://github.com/explore" target="_blank" rel="noopener">GitHub探索</a>并参与开源项目.</p>
<blockquote>
<p>提示：请参阅我们的其他指南和YouTube频道，了解更多GitHub操作方法。</p>
</blockquote>
<hr>
<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><ul>
<li><a href="https://github.com/flyhigher139/Git-Cheat-Sheet" target="_blank" rel="noopener">Git Cheat Sheet 中文版 </a></li>
<li><a href="http://blog.devtang.com/2012/02/03/talk-about-svn-and-git/" target="_blank" rel="noopener">Git 的使用感受 @唐巧</a></li>
<li><a href="http://www.devzhang.com/14540765848355.html" target="_blank" rel="noopener">Git 常用命令</a></li>
<li><a href="https://github.com/larkjs/lark/wiki/怎样贡献代码" target="_blank" rel="noopener">怎样在Github上面贡献代码 @lark</a></li>
<li><a href="http://www.jianshu.com/p/3f12bd3ccf2a" target="_blank" rel="noopener">Git及GitHub快速入门图文全面详解（30分钟学会）</a></li>
<li><a href="https://datasift.github.io/gitflow/IntroducingGitFlow.html" target="_blank" rel="noopener">GitFlow</a> ⭐️⭐️⭐️</li>
</ul>
<h4 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h4><ul>
<li><a href="http://blog.csdn.net/runintolove/article/details/50705807" target="_blank" rel="noopener">GitHub Push出现的The local repository is out of date解决</a></li>
</ul>
<blockquote>
<p>最后更新：20190105</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/02/在 Mac 上创建加密文件夹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/02/在 Mac 上创建加密文件夹/" class="post-title-link" itemprop="url">在 Mac 上创建加密文件夹</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-02 09:52:00" itemprop="dateCreated datePublished" datetime="2016-12-02T09:52:00+08:00">2016-12-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 09:36:06" itemprop="dateModified" datetime="2019-04-18T09:36:06+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/02/在 Mac 上创建加密文件夹/" class="leancloud_visitors" data-flag-title="在 Mac 上创建加密文件夹">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h4 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h4><p><a href="http://bbs.feng.com/read-htm-tid-10951453.html" target="_blank" rel="noopener">在 Mac 上创建加密文件夹(出处: 威锋论坛)</a><br><strong>实测可用，最后更新：2016.12.02</strong></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/28/Atom：一款 Windows 下的 Markdown 编辑器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/28/Atom：一款 Windows 下的 Markdown 编辑器/" class="post-title-link" itemprop="url">Atom：一款 Windows 下的 Markdown 编辑器</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-28 00:48:00" itemprop="dateCreated datePublished" datetime="2016-11-28T00:48:00+08:00">2016-11-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 09:36:33" itemprop="dateModified" datetime="2019-04-18T09:36:33+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/28/Atom：一款 Windows 下的 Markdown 编辑器/" class="leancloud_visitors" data-flag-title="Atom：一款 Windows 下的 Markdown 编辑器">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.iplaysoft.com/item/atom-shortcuts" target="_blank" rel="noopener">Atom编辑器快捷键</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/28/Markdown：轻量级「标记语言」/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/28/Markdown：轻量级「标记语言」/" class="post-title-link" itemprop="url">Markdown：轻量级「标记语言」</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-28 00:48:00" itemprop="dateCreated datePublished" datetime="2016-11-28T00:48:00+08:00">2016-11-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:35:07" itemprop="dateModified" datetime="2019-04-18T00:35:07+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/28/Markdown：轻量级「标记语言」/" class="leancloud_visitors" data-flag-title="Markdown：轻量级「标记语言」">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>参考文献：</p>
<ul>
<li><a href="http://wowubuntu.com/markdown/#list" target="_blank" rel="noopener">Markdown 语法说明 (简体中文版) </a>（阅读难度：★★）</li>
<li><a href="http://www.jianshu.com/p/1e402922ee32/" target="_blank" rel="noopener">Markdown——入门指南</a>（阅读难度：★）</li>
<li><a href="http://www.jianshu.com/p/5256ecc06eec" target="_blank" rel="noopener">安利一下Typora：极致简洁的markdown编辑器 @yieku</a></li>
<li><a href="https://www.jianshu.com/p/q81RER" target="_blank" rel="noopener">献给写作者的 Markdown 新手指南</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/25/翻译：苹果开发者协议/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/25/翻译：苹果开发者协议/" class="post-title-link" itemprop="url">翻译：苹果开发者协议</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-25 18:24:00" itemprop="dateCreated datePublished" datetime="2016-11-25T18:24:00+08:00">2016-11-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:27:01" itemprop="dateModified" datetime="2019-04-18T00:27:01+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/翻译文档/" itemprop="url" rel="index"><span itemprop="name">翻译文档</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/25/翻译：苹果开发者协议/" class="leancloud_visitors" data-flag-title="翻译：苹果开发者协议">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p>THIS IS A LEGAL AGREEMENT BETWEEN YOU AND APPLE INC. (“APPLE”) STATING THE TERMS THAT GOVERN YOUR PARTICIPATION AS AN APPLE DEVELOPER.  PLEASE READ THIS APPLE DEVELOPER AGREEMENT (“AGREEMENT”) BEFORE PRESSING THE “AGREE” BUTTON AND CHECKING THE BOX AT THE BOTTOM OF THIS PAGE.  BY PRESSING “AGREE,” YOU ARE AGREEING TO BE BOUND BY THE TERMS OF THIS AGREEMENT.  IF YOU DO NOT AGREE TO THE TERMS OF THIS AGREEMENT, PRESS “CANCEL”.**</p>
<p><strong>这是您与苹果公司（“苹果”）之间的法律协议，声名你注册成为苹果开发者中的条款。 请在本页底部看到并按下“同意”按钮之前阅读此苹果开发者协议（“协议”）。 当按下“同意”按钮，您即同意受本协议条款的约束。 如果您不同意本协议的条款，请按“取消”。</strong></p>
<h1 id="Apple-Developer-Agreement"><a href="#Apple-Developer-Agreement" class="headerlink" title="Apple Developer Agreement"></a>Apple Developer Agreement</h1><h1 id="苹果开发者协议"><a href="#苹果开发者协议" class="headerlink" title="苹果开发者协议"></a>苹果开发者协议</h1><ol>
<li><p><strong>Relationship With Apple; Apple ID and Password.</strong>  You understand and agree that by registering with Apple to become an Apple Developer (“<strong>Apple Developer</strong>”), no legal partnership or agency relationship is created between you and Apple.  You agree not to represent otherwise.  You also certify that you are at least thirteen years of age and you represent that you are legally permitted to register as an Apple Developer.  This Agreement is void where prohibited by law and the right to register as an Apple Developer is not granted in such jurisdictions.  Unless otherwise agreed or permitted by Apple in writing, you cannot share or transfer any benefits you receive from Apple in connection with being an Apple Developer.  The Apple ID and password you use to log into your Apple Developer account cannot be shared in any way or with anyone.  You are responsible for maintaining the confidentiality of your Apple ID and password and for any activity in connection with your account.</p>
<p> <strong>与苹果的关系; Apple ID和密码。</strong> 您理解并同意，通过向Apple注册成为Apple开发者（“<strong>Apple开发人员</strong>”），您与Apple之间不会建立任何法律合作关系或代理关系。 您同意不以其他方式表示。 您还证明您至少十三岁，并且您代表您已合法获准注册为Apple开发人员。 本协议在法律禁止的情况下无效，并且在这些司法管辖区不授予注册为Apple开发人员的权利。 除非Apple以书面形式另有约定或允许，否则您不能分享或转让您从Apple成为Apple开发人员时收到的任何好处。 您用于登录Apple Developer帐户的Apple ID和密码不能以任何方式或与任何人共享。 您有责任保持您的Apple ID和密码以及与您的帐户相关的任何活动的机密性。</p>
</li>
<li><p><strong>Developer Benefits.</strong>  As an Apple Developer, you may have the opportunity to attend certain Apple developer conferences, technical talks, and other events (including online or electronic broadcasts of such events) (“<strong>Apple Events</strong>”).  In addition, Apple may offer to provide you with certain services (“<strong>Services</strong>”), as described more fully herein and on the Apple Developer web pages (“<strong>Site</strong>”), solely for your own use in connection with your participation as an Apple Developer.  Services may include, but not be limited to, any services Apple offers at Apple Events or on the Site as well as the offering of any content or materials displayed on the Site (“<strong>Content</strong>”).  Apple may change, suspend or discontinue providing the Services, Site and Content to you at any time, and may impose limits on certain features and materials offered or restrict your access to parts or all of such materials without notice or liability.</p>
<p> <strong>开发者优势</strong>。作为Apple开发者，您可以有机会参加某些Apple开发人员会议，技术会谈和其他活动（包括此类活动的在线或电子广播）（“Apple活动”）。 此外，苹果可能会向您提供某些服务（“服务”），如本文和Apple开发人员网页（“网站”）中所述，仅供您自己使用，作为您作为Apple开发人员的参与 。 服务可能包括但不限于Apple在Apple活动或网站上提供的任何服务，以及网站上显示的任何内容或材料（“内容”）的提供。 Apple可能随时更改，暂停或停止向您提供服务，网站和内容，并且可能对所提供的某些功能和材料施加限制，或限制您访问部分或所有此类材料，而无需通知或承担任何责任。</p>
</li>
<li><p><strong>Restrictions</strong>.  You agree not to exploit the Site, or any Services, Apple Events or Content provided to you by Apple as an Apple Developer, in any unauthorized way, including but not limited to, by trespass, burdening network capacity or using the Services, Site or Content other than for authorized purposes.  Copyright and other intellectual property laws protect the Site and Content provided to you, and you agree to abide by and maintain all notices, license information, and restrictions contained therein.  Unless expressly permitted herein or otherwise permitted in a separate agreement with Apple, you may not modify, publish, network, rent, lease, loan, transmit, sell, participate in the transfer or sale of, reproduce, create derivative works based on, redistribute, perform, display, or in any way exploit any of the Site, Content or Services.  You may not decompile, reverse engineer, disassemble, or attempt to derive the source code of any software or security components of the Services, Site, or Content (except as and only to the extent any foregoing restriction is prohibited by applicable law or to the extent as may be permitted by any licensing terms accompanying the foregoing).  Use of the Site, Content or Services to violate, tamper with, or circumvent the security of any computer network, software, passwords, encryption codes, technological protection measures, or to otherwise engage in any kind of illegal activity, or to enable others to do so, is expressly prohibited.  Apple retains ownership of all its rights in the Site, Content, Apple Events and Services, and except as expressly set forth herein, no other rights or licenses are granted or to be implied under any Apple intellectual property.</p>
<p>  <strong>限制</strong>。您同意不以任何未经授权的方式（包括但不限于通过侵入，负载增加网络容量或使用服务，网站或网站）利用本网站或苹果作为Apple开发者向您提供的任何服务，Apple活动或内容。非授权用途的内容。版权和其他知识产权法律保护向您提供的网站和内容，并且您同意遵守并保留其中包含的所有通知，许可信息和限制。除非在本协议中明确允许或在与苹果的单独协议中另有许可，否则您不得修改，发布，网络，租赁，租赁，贷款，转让，出售，参与转让或销售，复制， ，执行，展示或以任何方式利用任何网站，内容或服务。您不得反编译，反向工程，反汇编或试图获取服务，网站或内容的任何软件或安全组件的源代码（除非适用法律禁止的前述限制或范围，由上述任何许可条款允许）。使用本网站，内容或服务侵犯，篡改或规避任何计算机网络，软件，密码，加密代码，技术保护措施的安全性，或从事任何形式的非法活动，或使他人这样做，是明确禁止的。苹果保留对网站，内容，Apple活动和服务中所有权利的所有权，除非本协议明确规定，否则任何其他权利或许可均不得被授予或暗示于任何苹果知识产权。</p>
</li>
<li><p><strong>Confidentiality</strong>.  Except as otherwise set forth herein, you agree that any Apple pre-release software, services, and/or hardware (including related documentation and materials) provided to you as an Apple Developer (“<strong>Pre-Release Materials</strong>”) and any information disclosed by Apple to you in connection with Apple Events will be considered and referred to as “<strong>Apple Confidential Information</strong>”. </p>
<p>  <strong>保密</strong>。 除非另有规定，否则您同意，作为Apple开发者（“<strong>预发布材料</strong>”）提供给您的任何Apple预发布软件，服务和/或硬件（包括相关文档和材料） Apple向您披露的任何与Apple事件相关的信息将被视为“<strong> Apple机密信息</strong>”。</p>
<p> Notwithstanding the foregoing, Apple Confidential Information will not include: (a) information that is generally and legitimately available to the public through no fault or breach of yours; (b) information that is generally made available to the public by Apple; (c) information that is independently developed by you without the use of any Apple Confidential Information; (d) information that was rightfully obtained from a third party who had the right to transfer or disclose it to you without limitation; or (e) any third party software and/or documentation provided to you by Apple and accompanied by licensing terms that do not impose confidentiality obligations on the use or disclosure of such software and/or documentation.  Further, Apple agrees that you will not be bound by the foregoing confidentiality terms with regard to technical information about Apple pre-release software, services and/or hardware disclosed by Apple at WWDC (Apple’s Worldwide Developers Conference), except that you may not post screen shots of, write public reviews of, or redistribute any such materials.</p>
<p>  尽管有上述规定，Apple机密信息将不包括：（a）普遍向公众投放的合法且无错误的或与您相违反的信息; （b）苹果一般向公众提供的信息; （c）您在未使用任何Apple保密信息的情况下独立开发的信息; （d）从有权无限制转让或披露给您的第三方正当获得的信息;（e）苹果向您提供的任何第三方软件和/或文档，并附有许可条款，不对使用或披露此类软件和/或文档施加保密义务。此外，苹果同意，您不受上述保密条款的约束关于苹果公布的苹果预发布软件，服务和/或硬件的技术信息在WWDC（苹果的全球开发人员会议），除了您不能发布屏幕截图，撰写公众评论或重新分发任何此类材料。</p>
</li>
<li><p><strong>Nondisclosure and Nonuse of Apple Confidential Information.</strong> Unless otherwise expressly agreed or permitted in writing by Apple, you agree not to disclose, publish, or disseminate any Apple Confidential Information to anyone other than to other Apple Developers who are employees and contractors working for the same entity as you and then only to the extent that Apple does not otherwise prohibit such disclosure.  Except for your authorized purposes as an Apple Developer or as otherwise expressly agreed or permitted by Apple in writing, you agree not to use Apple Confidential Information in any way, including, without limitation, for your own or any third party’s benefit without the prior written approval of an authorized representative of Apple in each instance.  You further agree to take reasonable precautions to prevent any unauthorized use, disclosure, publication, or dissemination of Apple Confidential Information.  You acknowledge that unauthorized disclosure or use of Apple Confidential Information could cause irreparable harm and significant injury to Apple that may be difficult to ascertain.  Accordingly, you agree that Apple will have the right to seek immediate injunctive relief to enforce your obligations under this Agreement in addition to any other rights and remedies it may have.  If you are required by law, regulation or pursuant to the valid binding order of a court of competent jurisdiction to disclose Apple Confidential Information, you may make such disclosure, but only if you have notified Apple before making such disclosure and have used commercially reasonable efforts to limit the disclosure and to seek confidential, protective treatment of such information.  A disclosure pursuant to the previous sentence will not relieve you of your obligations to hold such information as Apple Confidential Information.</p>
<p>  <strong>不披露和不使用Apple机密信息</strong>除非Apple另有明确约定或书面允许，否则您同意不向任何人士披露，发布或传播任何Apple保密信息，而不是向属于员工和承包商的其他Apple开发人员与您在同一实体工作，然后只在苹果没有另外禁止此类披露的范围内。除了您作为Apple开发人员的授权用途或Apple以书面形式明确同意或允许的，您同意不以任何方式使用Apple Confidential信息，包括但不限于您自己或任何第三方的利益，批准苹果授权代表。您还同意采取合理的预防措施，防止任何未经授权的使用，披露，出版或传播Apple机密信息。您承认未经授权披露或使用Apple机密信息可能会对Apple造成无法弥补的伤害和重大损害，这可能很难确定。因此，您同意苹果有权要求立即禁止救济，以执行您在本协议下的义务，以及任何其他权利和补救措施。如果法律，法规或根据有管辖权法院有效的约束性命令要求披露Apple机密信息，您可以进行此类披露，但前提是您在做出此类披露之前已通知Apple，并且已在商业上合理的努力限制披露和寻求这些信息的保密，保护性处理。根据前一句的披露不会免除您有义务保存此类信息（如Apple机密信息）。</p>
</li>
<li><p><strong>Confidential Pre-Release Materials License and Restrictions.</strong>  If Apple provides you with Pre-Release Materials, then subject to your compliance with the terms and conditions of this Agreement, Apple hereby grants you a nonexclusive, nontransferable, right and license to use the Pre-Release Materials only for the limited purposes set forth in this Section 6; provided however that if such Pre-Release Materials are subject to a separate license agreement, you agree that the license agreement accompanying such materials in addition to Sections 4 and 5 of this Agreement shall also govern your use of the Pre-Release Materials.  You further agree that in the event of any inconsistency between Section 4 and 5 of this Agreement and the confidentiality restrictions in the license agreement, the license agreement shall govern.  You agree not to use the Pre-Release Materials for any purpose other than testing and/or development by you of a product designed to operate in combination with the same operating system for which the Pre-Release Materials are designed.  This Agreement does not grant you any right or license to incorporate or make use of any Apple intellectual property (including for example and without limitation, trade secrets, patents, copyrights, trademarks and industrial designs) in any product.  Except as expressly set forth herein, no other rights or licenses are granted or to be implied under any Apple intellectual property.  You agree not to decompile, reverse engineer, disassemble, or otherwise reduce the Pre-Release Materials to a human-perceivable form, and you will not modify, network, rent, lease, transmit, sell, or loan the Pre-Release Materials in whole or in part.</p>
<p>  <strong>预发布机密材料许可和限制</strong>如果Apple提供了预发布材料，则在遵守本协议条款和条件的前提下，Apple特此授予您非独占，不可转让的权利和许可，使用预发布材料仅用于本第6节中规定的有限目的;但如果此类预发布材料受单独的许可协议约束，则您同意除本协议第4和第5节之外附带此类材料的许可协议也适用于您对预发布材料的使用。您还同意，如果本协议第4条和第5条之间存在任何不一致之处，以及许可协议中的保密限制，则以许可协议为准。您同意不将预发布材料用于除了测试和/或开发由设计与预发布材料设计的相同操作系统组合操作的产品之外的任何目的。本协议不授予您在任何产品中包含或使用任何Apple知识产权（包括但不限于商业秘密，专利，版权，商标和工业品外观设计）的任何权利或许可。除非在此明确规定，否则任何其他权利或许可均不得被授予或暗示在任何苹果知识产权下。您同意不反编译，反向工程，拆卸或以其他方式将预发布材料减少为人类可感知形式，并且您不得修改，广播，出租，租赁，传输，销售或借用预发布材料全部或部分。</p>
</li>
<li><p><strong>Developer Content License and Restrictions.</strong>  As an Apple Developer, you may have access to certain proprietary content (including, without limitation, video presentations and audio recordings) that Apple may make available to you from time to time (“<strong>Content</strong>”).  Content shall be considered Apple Confidential Information, unless otherwise agreed or permitted in writing by Apple.  You may not share the  Content with anyone, including, without limitation, employees and contractors working for the same entity as you, regardless of whether they are Apple Developers, unless otherwise expressly permitted by Apple.  Subject to these terms and conditions, Apple grants you a personal and nontransferable license to access and use the Content for authorized purposes as an Apple Developer; provided that you may only download one (1) copy of the Content and such download must be completed within the time period specified by Apple for such download.  Except as expressly permitted by Apple, you shall not modify, translate, reproduce, distribute, or create derivative works of the Content or any part thereof.  You shall not rent, lease, loan, sell, sublicense, assign or otherwise transfer any rights in the Content.  Apple and/or Apple’s licensor(s) retain ownership of the Content itself and any copies or portions thereof.  The Content is licensed, not sold, to you by Apple for use only under this Agreement, and Apple reserves all rights not expressly granted to you.  Your rights under this license to use and access the Content will terminate automatically without notice from Apple if you fail to comply with any of these provisions. </p>
<p><strong>开发者内容许可和限制</strong>作为Apple开发者，您可以访问Apple可能不时向您提供的某些专有内容（包括但不限于视频演示和录音）（“<strong>内容</strong>”）。内容应被视为Apple机密信息，除非苹果另有约定或书面允许。您不得与任何人（包括但不限于与您在同一实体工作的员工和承包商）共享内容，无论他们是否为Apple Developers，除非Apple明确许可。根据这些条款和条件，Apple授予您个人和不可转让的许可，以访问和使用内容作为Apple开发人员的授权用途;但前提是您只能下载一（1）份内容副本，且此类下载必须在Apple指定的下载时间内完成。除非经Apple明确许可，否则您不得修改，翻译，复制，分发或创作内容或其任何部分的衍生作品。您不得出租，租赁，贷款，出售，转授权，转让或以其他方式转让内容中的任何权利。苹果和/或苹果的许可人保留内容本身及其任何副本或部分的所有权。 Apple仅根据本协议授权使用内容，而不是销售给您，Apple保留未明确授予您的所有权利。如果您未能遵守这些条款中的任何条款，您在本许可下的使用和访问内容的权利将自动终止，而不会通知Apple。</p>
</li>
<li><p><strong>Compatibility Labs; Developer Technical Support (DTS)</strong>.  As an Apple Developer, you may have access to Apple’s software and/or hardware compatibility testing and development labs (“<strong>Labs</strong>”) and/or developer technical support incidents (“<strong>DTS Services</strong>”) that Apple may make available to you from time to time as an Apple developer benefit or for a separate fee.  You agree that all use of such Labs and DTS Services will be in accordance with Apple’s usage policies for such services, which are subject to change from time to time, with or without prior notice to you.  Without limiting the foregoing, Apple may post on the Site and/or send an email to you with notices of such changes.  It is your responsibility to review the Site and/or check your email address registered with Apple for any such notices.  You agree that Apple shall not be liable to you or any third party for any modification or cessation of such services.  As part of the DTS Services, Apple may supply you with certain code snippets, sample code, software, and other materials (“<strong>Materials</strong>”).  You agree that any Materials that Apple provides as part of the DTS Services are licensed to you and shall be used by you only in accordance with the terms and conditions accompanying the Materials.  Apple retains ownership of all of its right, title and interest in such Materials and no other rights or licenses are granted or to be implied under any Apple intellectual property.  You have no right to copy, decompile, reverse engineer, sublicense or otherwise distribute such Materials, except as may be expressly provided in the terms and conditions accompanying the Materials.  <strong>YOU AGREE THAT WHEN REQUESTING AND RECEIVING TECHNICAL SUPPORT FROM DTS SERVICES, YOU WILL NOT PROVIDE APPLE WITH ANY INFORMATION, INCLUDING THAT INCORPORATED IN YOUR SOFTWARE, THAT IS CONFIDENTIAL TO YOU OR ANY THIRD PARTY.  YOU AGREE THAT ANY NOTICE, LEGEND, OR LABEL TO THE CONTRARY CONTAINED IN ANY SUCH MATERIALS PROVIDED BY YOU TO APPLE SHALL BE WITHOUT EFFECT.  APPLE SHALL BE FREE TO USE ALL SUCH INFORMATION IT RECEIVES FROM YOU IN ANY MANNER IT DEEMS APPROPRIATE, SUBJECT TO ANY APPLICABLE PATENTS OR COPYRIGHTS.</strong>  Apple reserves the right to reject a request for access to Labs or for DTS Services at any time and for any reason, in which event Apple may credit you for the rejected lab or support request.  You shall be solely responsible for any restoration of lost or altered files, data, programs or other materials provided.</p>
<p> <strong>兼容性实验室;开发人员技术支持（DTS）</strong>。作为Apple开发者，您可以访问Apple的软件和/或硬件兼容性测试和开发实验室（“<strong>实验室</strong>”）和/或开发人员技术支持事件（“<strong> DTS服务</strong>”），作为苹果开发商的利益或单独的费用，不时提供给您。您同意，所有使用此类实验室和DTS服务将符合Apple对这些服务的使用政策，这些服务可能随时更改，有或没有事先通知您。在不限制前述的情况下，Apple可以在网站上发布和/或向您发送电子邮件，通知这些更改。您有责任查看网站和/或检查您在Apple注册的电子邮件地址是否有此类通知。您同意，苹果不对您或任何第三方负责任何修改或停止此类服务。作为DTS服务的一部分，Apple可能会向您提供某些代码段，示例代码，软件和其他材料（“<strong>材料</strong>”）。您同意，Apple提供的作为DTS服务一部分的任何材料均已获得您的许可，并且您只能根据材料附带的条款和条件使用。苹果保留对该材料的所有权利，所有权和利益的所有权，并且没有任何其他权利或许可被授予或暗示在任何苹果知识产权。您无权复制，反编译，反向工程，再授权或以其他方式分发此类材料，但材料中附带的条款和条件中明确规定的除外。 <strong>您同意在请求和接收DTS服务的技术支持时，您不会向苹果提供包含在您的软件中的任何信息，这些信息对您或任何第三方是保密的。您同意包含由您提供的任何此类材料所包含的任何通知，图例或标签不应无效。苹果有权使用任何适用的专利或版权，以任何方式从任何方式接收您的信息</strong>苹果保留随时拒绝访问实验室或DTS服务的请求的权利，由于任何原因，苹果可能会为您拒绝的实验室或支持请求。您将对所提供的丢失或更改的文件，数据，程序或其他资料的任何恢复负完全责任。</p>
</li>
<li><p><strong>Amendment; Communication.</strong>  Apple reserves the right, at its discretion, to modify this Agreement, including any rules and policies at any time.  You will be responsible for reviewing and becoming familiar with any such modifications (including new terms, updates, revisions, supplements, modifications, and additional rules, policies, terms and conditions)(“<strong>Additional Terms</strong>”) communicated to you by Apple.  All Additional Terms are hereby incorporated into this Agreement by this reference and your continued use of the Site will indicate your acceptance of any Additional Terms.  In addition, Apple may be sending communications to you from time to time.  Such communications may be in the form of phone calls and/or emails and may include, but not be limited to, membership information, marketing materials, technical information, and updates and/or changes regarding your participation as an Apple Developer.  By agreeing to this Agreement, you consent that Apple may provide you with such communications.</p>
<p> <strong>修订;通信</strong>。苹果有权自行决定随时修改本协议，包括任何规则和政策。您将负责审查并熟悉任何此类修改（包括新术语，更新，修订，补充，修改和附加规则，政策，条款和条件）（“**附加条款”），苹果。所有附加条款均通过此引用并入本协议，您继续使用本网站将表示您接受任何附加条款。此外，苹果可能会不时向您发送通信。这样的通信可以是电话呼叫和/或电子邮件的形式，并且可以包括但不限于会员信息，营销材料，技术信息以及关于作为苹果开发商参与的更新和/或改变。同意本协议，即表示您同意苹果可以向您提供此类通信。</p>
</li>
<li><p><strong>Term and Termination.</strong>  Apple may terminate or suspend you as a registered Apple Developer at any time in Apple’s sole discretion.  If Apple terminates you as a registered Apple Developer, Apple reserves the right to deny your reapplication at any time in Apple’s sole discretion.  You may terminate your participation as a registered Apple Developer at any time, for any reason, by notifying Apple in writing of your intent to do so.  Upon any termination or, at Apple’s discretion, suspension, all rights and licenses granted to you by Apple will cease, including your right to access the Site, and you agree to destroy any and all Apple Confidential Information that is in your possession or control.  At Apple’s request, you agree to provide certification of such destruction to Apple.  No refund or partial refund of any fees paid hereunder or any other fees will be made for any reason.  Following termination of this Agreement, Sections 1, 3-5, 7 (but only for so long as the duration specified by Apple for such usage), 10-19 shall continue to bind the parties.</p>
<p><strong>期限和终止。</strong>苹果可以随时自行决定终止或暂停您作为注册的Apple开发人员。如果苹果终止您作为注册的苹果开发商，苹果保留随时自行决定拒绝您的重新申请的权利。您可以随时以任何理由通过以书面形式通知Apple您的意图终止您作为注册Apple开发者的参与。在任何终止或苹果的酌情决定，暂停，苹果授予您的所有权利和许可将停止，包括您的访问本网站的权利，并且您同意销毁您拥有或控制的任何和所有的Apple机密信息。根据苹果的要求，您同意向苹果提供此类销毁的认证。由于任何原因，不会退还任何费用或任何其他费用的部分退款。在本协议终止后，第1，第3-5，第7条（但只限于苹果为此规定的期限），10-19将继续约束双方。</p>
</li>
<li><p><strong>Apple Independent Development.</strong>  Nothing in this Agreement will impair Apple’s right to develop, acquire, license, market, promote or distribute products, software or technologies that perform the same or similar functions as, or otherwise compete with, any other products, software or technologies that you may develop, produce, market, or distribute.  In the absence of a separate written agreement to the contrary, Apple will be free to use any information, suggestions or recommendations you provide to Apple pursuant to this Agreement for any purpose, subject to any applicable patents or copyrights.</p>
<p><strong>苹果独立开发</strong>本协议中的任何内容均不会损害苹果开发，获取，许可，营销，促销或分发执行与任何其他产品相同或类似功能或与之竞争的产品，软件或技术的权利 ，您可能开发，生产，市场或分销的软件或技术。 在没有单独的书面协议相反，苹果将自由使用您提供给苹果的任何信息，建议或建议根据本协议为任何目的，受任何适用的专利或版权。</p>
</li>
<li><p><strong>Use Of Apple Trademarks, Logos, etc.</strong>  You agree to follow Apple’s trademark and copyright guidelines as published at: <a href="http://www.apple.com/legal/guidelinesfor3rdparties.html" target="_blank" rel="noopener">www.apple.com/legal/guidelinesfor3rdparties.html</a> (“<strong>Guidelines</strong>”) and as may be modified from time to time.  You agree not to use the marks “Apple,” the Apple Logo, “Mac”, “iPhone,” “iPod touch” or any other marks belonging or licensed to Apple in any way except as expressly authorized in writing by Apple in each instance or as permitted in Apple’s Guidelines.  You agree that all goodwill arising out of your authorized use of Apple’s marks shall inure to the benefit of and belong to Apple.</p>
<p><strong>使用苹果商标，标志等</strong>您同意遵守Apple的商标和版权指南，网址为：<a href="http://www.apple.com/legal/guidelinesfor3rdparties.html（“**指南**”），" target="_blank" rel="noopener">www.apple.com/legal/guidelinesfor3rdparties.html（“**指南**”），</a> 随时修改。 您同意不使用苹果公司，苹果标志，“Mac”，“iPhone”，“iPod touch”或苹果任何其他属于或授权的任何其他标志的标记，除非苹果在每个例子中明确授权或苹果指南允许。 您同意，您授权使用Apple的商标所产生的所有商誉都应归属于Apple的利益。</p>
</li>
<li><p><strong>No Warranty.</strong>  APPLE AND ITS AFFILIATES, SUBSIDIARIES, OFFICERS, DIRECTORS, EMPLOYEES, AGENTS, PARTNERS, AND LICENSORS (COLLECTIVELY, “<strong>APPLE</strong>” FOR PURPOSES OF THIS SECTION 13 AND 14) DO NOT PROMISE THAT THE SITE, CONTENT, SERVICES  (INCLUDING, FUNCTIONALITY OR FEATURES OF THE FOREGOING), LABS, DTS SERVICES, OR ANY OTHER INFORMATION OR MATERIALS THAT YOU RECEIVE HEREUNDER AS AN APPLE DEVELOPER (COLLECTIVELY, THE “<strong>SERVICE</strong>” FOR PURPOSES OF THIS SECTION 13 AND 14) WILL BE ACCURATE, RELIABLE, TIMELY, SECURE, ERROR-FREE OR UNINTERRUPTED, OR THAT ANY DEFECTS WILL BE CORRECTED.  THE SERVICE IS PROVIDED ON AN “AS-IS” AND “AS-AVAILABLE” BASIS AND THE SERVICE IS SUBJECT TO CHANGE WITHOUT NOTICE.  APPLE CANNOT ENSURE THAT ANY CONTENT (INCLUDING FILES, INFORMATION OR OTHER DATA) YOU ACCESS OR DOWNLOAD FROM THE SERVICE WILL BE FREE OF VIRUSES, CONTAMINATION OR DESTRUCTIVE FEATURES.  FURTHER, APPLE DOES NOT GUARANTEE ANY RESULTS OR IDENTIFICATION OR CORRECTION OF PROBLEMS AS PART OF THE SERVICE AND APPLE DISCLAIMS ANY LIABILITY RELATED THERETO.  APPLE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING ANY WARRANTIES OF ACCURACY, NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  APPLE DISCLAIMS ANY AND ALL LIABILITY FOR THE ACTS, OMISSIONS AND CONDUCT OF ANY THIRD PARTIES IN CONNECTION WITH OR RELATED TO YOUR USE OF THE SERVICE.  YOU ASSUME TOTAL RESPONSIBILITY AND ALL RISKS FOR YOUR USE OF THE SERVICE, INCLUDING, BUT NOT LIMITED TO, ANY INFORMATION OBTAINED THEREON.  YOUR SOLE REMEDY AGAINST APPLE FOR DISSATISFACTION WITH THE SERVICE IS TO STOP USING THE SERVICE.  THIS LIMITATION OF RELIEF IS A PART OF THE BARGAIN BETWEEN THE PARTIES.  TO THE EXTENT THAT APPLE MAKES ANY PRE-RELEASE SOFTWARE, HARDWARE OR OTHER PRODUCTS, SERVICES OR INFORMATION RELATED THERETO AVAILABLE TO YOU AS AN APPLE DEVELOPER, YOU UNDERSTAND THAT APPLE IS UNDER NO OBLIGATION TO PROVIDE UPDATES, ENHANCEMENTS, OR CORRECTIONS, OR TO NOTIFY YOU OF ANY PRODUCT OR SERVICES CHANGES THAT APPLE MAY MAKE, OR TO PUBLICLY ANNOUNCE OR INTRODUCE THE PRODUCT(S) OR SERVICE AT ANY TIME IN THE FUTURE. </p>
<p><strong>无保证。</strong>苹果及其附属公司，子公司，官员，董事，员工，代理，合作伙伴和许可人（统称为“<strong>苹果</strong>”用于本第13部分和第14部分的目的）不承认网站，内容，服务（包括前述的功能或功能），LABS，DTS服务或任何其他信息或材料，您作为苹果开发商接收（集体，“<strong>服务</strong>”为此目的第13和14节）将是准确，可靠，及时，安全，无错误或不间断，或任何缺陷将得到纠正。本服务是在“按原样”和“按可用”基础上提供的，并且服务将随时更改，恕不另行通知。苹果不能确保您从服务访问或下载的任何内容（包括文件，信息或其他数据）不会有病毒，污染或破坏性功能。此外，苹果不保证作为服务的一部分的问题的任何结果或识别或校正，并且苹果拒绝与此相关的任何责任。苹果拒绝任何明示或暗示的担保，包括任何担保的准确性，非侵权，适销性和特定用途的适用性。苹果对任何第三方与您使用本服务有关或与您使用本服务有关的行为，疏忽和行为负有任何和所有责任。您承担使用本服务的全部责任和所有风险，包括但不限于获得的任何信息。您对本服务不满意的苹果的唯一补救措施是停止使用服务。这种放宽限制是缔约方之间贿赂的一部分。在任何情况下，苹果制造任何预发布软件，硬件或其他与产品，服务或信息相关的可作为苹果开发商，您了解苹果是没有义务提供更新，增强或修正，或通知您对任何产品或服务的更改，以及在未来的任何时间更改，或公开宣传或介绍产品或服务。</p>
</li>
<li><p><strong>Disclaimer of Liability.</strong>  TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, IN NO EVENT WILL APPLE BE LIABLE FOR PERSONAL INJURY, OR ANY INCIDENTAL, SPECIAL, INDIRECT, CONSEQUENTIAL OR PUNITIVE DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, DAMAGES RESULTING FROM DELAY OF DELIVERY, FOR LOSS OF PROFITS, DATA, BUSINESS OR GOODWILL, FOR BUSINESS INTERRUPTION OR ANY OTHER COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO THIS AGREEMENT OR YOUR USE OR INABILITY TO USE THE SERVICE, HOWEVER CAUSED, WHETHER UNDER A THEORY OF CONTRACT, WARRANTY, TORT (INCLUDING NEGLIGENCE), PRODUCTS LIABILITY, OR OTHERWISE, EVEN IF APPLE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, AND NOTWITHSTANDING THE FAILURE OF ESSENTIAL PURPOSE OF ANY REMEDY.  IN NO EVENT SHALL APPLE’S TOTAL LIABILITY TO YOU UNDER THIS AGREEMENT FOR ALL DAMAGES (OTHER THAN AS MAY BE REQUIRED BY APPLICABLE LAW IN CASES INVOLVING PERSONAL INJURY) EXCEED THE AMOUNT OF FIFTY DOLLARS ($50.00).</p>
<p><strong>免责声明</strong>在适用法律禁止的范围内，在任何情况下，苹果对任何人身伤害或任何偶然的，特殊的，间接的，后果性的或惩罚性的损害负责，包括但不限于损害赔偿 延迟交付，因使用或无法使用本服务而导致的利润，数据，业务或商誉损失，业务中断或任何其他商业损害或损失，无论何种原因造成的， 合同，担保，侵权（包括疏忽），产品责任或其他原因，即使苹果已被告知此类损害的可能性，并且尽管任何救济的基本目的失败。 在任何情况下，苹果对于根据本协议针对所有损害（根据适用法律在涉及人身伤害的案例中可能需要的除外）所承担的全部责任超过五十美元（$ 50.00）的金额。</p>
</li>
<li><p><strong>Third-Party Notices and Products.</strong>  Third-party software provided by Apple to you as an Apple Developer may be accompanied by its own licensing terms, in which case such licensing terms will govern your use of that particular third-party software.  Mention of third-parties and third-party products in any materials, documentation, advertising, or promotions provided to you as an Apple Developer is for informational purposes only and constitutes neither an endorsement nor a recommendation.  All third-party product specifications and descriptions are supplied by the respective vendor or supplier, and Apple shall have no responsibility with regard to the selection, performance, or use of these vendors or products.  All understandings, agreements, or warranties, if any, take place directly between the vendors and the prospective users.</p>
<p><strong>第三方声明和产品</strong>由Apple向您提供作为Apple开发人员的第三方软件可能伴有其自己的许可条款，在这种情况下，此类许可条款将控制您对该特定第三方软件的使用 。 在作为Apple开发人员提供给您的任何材料，文档，广告或促销中提及第三方和第三方产品仅供参考，不构成背书或建议。 所有第三方产品规格和描述由相应的供应商或供应商提供，Apple对这些供应商或产品的选择，性能或使用不承担任何责任。 所有的理解，协议或保证（如果有的话）直接在供应商和潜在用户之间进行。</p>
</li>
<li><p><strong>Export Control.</strong>  You may not use or otherwise export or re-export any Apple Confidential Information received from Apple except as authorized by United States law and the laws of the jurisdiction in which the Apple Confidential Information was obtained.  In particular, but without limitation, the Apple Confidential Information may not be exported or re-exported (a) into any U.S. embargoed countries or (b) to anyone on the U.S. Treasury Department’s list of Specially Designated Nationals or the U.S. Department of Commerce Denied Person’s List or Entity List or any other restricted party lists.  By becoming an Apple Developer or using any Apple Confidential Information, you represent and warrant that you are not located in any such country or on any such list.  You also agree that you will not use any Apple Confidential Information for any purposes prohibited by United States law, including, without limitation, the development, design, manufacture or production of nuclear, chemical or biological weapons.</p>
<p><strong>出口控制。</strong>您不得使用或以其他方式出口或再出口从苹果收到的任何苹果机密信息，除非经美国法律和获得苹果机密信息管辖权的法律授权。特别是但不限于，Apple机密信息不得出口或再出口（a）进入任何美国禁运国家，或（b）任何人在美国财政部的特别指定国民名单或美国商务部拒绝人员列表或实体列表或任何其他受限制方列表。成为Apple开发人员或使用任何Apple机密信息，即表示并保证您不位于任何此类国家或任何此类列表。您也同意，您不会将任何Apple保密信息用于美国法律禁止的任何目的，包括但不限于开发，设计，制造或生产核，化学或生物武器。</p>
</li>
<li><p><strong>Governing Law.</strong>  This Agreement will be governed by and construed in accordance with the laws of the State of California, excluding its conflict of law provisions. The parties further submit to and waive any objections to personal jurisdiction of and venue in any of the following forums:  U.S. District Court for the Northern District of California, California Superior Court for Santa Clara County, Santa Clara County Municipal Court, or any other forum in Santa Clara County, for any disputes arising out of this Agreement.</p>
<p><strong>适用法律</strong>本协议将受加利福尼亚州法律的管辖和解释，但不包括其冲突法规定。 双方还就任何以下论坛的个人管辖权和地点提出异议并放弃任何异议：美国加利福尼亚北部地区法院，加利福尼亚州圣克拉拉县高级法院，圣克拉拉县市法院或任何其他论坛 在圣克拉拉县，因本协议引起的任何争议。</p>
</li>
<li><p><strong>Government End Users.</strong>  Certain Apple Confidential Information may be considered “Commercial Items”, as that term is defined at 48 C.F.R. §2.101, consisting of “Commercial Computer Software” and “Commercial Computer Software Documentation”, as such terms are used in 48 C.F.R. §12.212 or 48 C.F.R. §227.7202, as applicable.  Consistent with 48 C.F.R. §12.212 or 48 C.F.R. §227.7202-1 through 227.7202-4, as applicable, the Commercial Computer Software and Commercial Computer Software Documentation are being licensed to U.S. Government end users (a) only as Commercial Items and (b) with only those rights as are granted to all other end users pursuant to the terms and conditions herein.  Unpublished-rights reserved under the copyright laws of the United States.</p>
<p><strong>政府最终用户。</strong>某些Apple机密信息可能被视为“商业项目”，该术语定义为48 C.F.R. §2.101，由“商业计算机软件”和“商业计算机软件文档”组成，因为这些术语在48 C.F.R.中使用。 §12.212或48 C.F.R. §227.7202。 与48 C.F.R. §12.212或48 C.F.R. §227.7202-1至227.7202-4（如适用），商业计算机软件和商业计算机软件文档被授予美国政府最终用户（a）仅作为商业项目，（b）仅授予所有其他 最终用户根据本条款和条件。 根据美国版权法保留的未公开权利。</p>
</li>
<li><p><strong>Miscellaneous.</strong>  No delay or failure to take action under this Agreement will constitute a waiver unless expressly waived in writing, signed by a duly authorized representative of Apple, and no single waiver will constitute a continuing or subsequent waiver.  This Agreement will bind your successors but may not be assigned, in whole or part, by you without the written approval of an authorized representative of Apple.  Any non-conforming assignment shall be null and void.  If any provision is found to be unenforceable or invalid, that provision shall be limited or eliminated to the minimum extent necessary so that this Agreement shall otherwise remain in full force and effect and enforceable.  This Agreement constitutes the entire agreement between the parties with respect to its subject matter and supersedes all prior or contemporaneous understandings regarding such subject matter.  No addition to or removal or modification of any of the provisions of this Agreement will be binding upon Apple unless made in writing and signed by an authorized representative of Apple.  The parties hereto confirm that they have requested that this Agreement and all attachments and related documents be drafted in English.  Les parties ont exigé que le présent contrat et tous les documents connexes soient rédigés en anglais. </p>
<p><strong>其他</strong>除非得到苹果正式授权代表签署的书面明确放弃，否则根据本协议不延迟或不采取行动将构成弃权，任何单一豁免均不构成持续或随后的豁免。本协议对您的继任者有约束力，但未经苹果授权代表书面批准，不得全部或部分转让。任何不合格的转让均为无效。如果发现任何条款不可执行或无效，则该条款应在必要的最低限度内予以限制或消除，以使本协议在其他情况下保持完全有效和可强制执行。本协议构成双方之间就其主题事项达成的完整协议，并取代对此类主题的所有先前或同期谅解。除非以书面形式并由苹果授权代表签署，否则不得对本协议的任何条款的增加或删除或修改对苹果公司具有约束力。本协议双方确认，他们已要求本协议及所有附件和相关文件以英文起草。 Les parties ontexigéque leprésentcontrat et tous les documents connexes soientrédigésen anglais。</p>
</li>
</ol>
<p>EA1283<br>6/8/15</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/25/iOS 编程：NSURLSession/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/25/iOS 编程：NSURLSession/" class="post-title-link" itemprop="url">iOS 编程：NSURLSession</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-25 17:04:00" itemprop="dateCreated datePublished" datetime="2016-11-25T17:04:00+08:00">2016-11-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-17 16:55:15" itemprop="dateModified" datetime="2019-04-17T16:55:15+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/25/iOS 编程：NSURLSession/" class="leancloud_visitors" data-flag-title="iOS 编程：NSURLSession">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="The-URL-Loading-System"><a href="#The-URL-Loading-System" class="headerlink" title="The URL Loading System"></a>The URL Loading System</h1><p>定义：描述 <strong>Foundation</strong> 框架类在标准的网络传输协议下，用 URLs 连接因特网并与服务器交互的一整套体系。</p>
<h2 id="支持的传输协议："><a href="#支持的传输协议：" class="headerlink" title="支持的传输协议："></a>支持的传输协议：</h2><ul>
<li>File Transfer Protocol (<code>ftp://</code>)</li>
<li>Hypertext Transfer Protocol (<code>http://</code>)</li>
<li>Hypertext Transfer Protocol with encryption (<code>https://</code>)</li>
<li>Local file URLs (<code>file:///</code>)</li>
<li>Data URLs (<code>data://</code>)</li>
</ul>
<h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><h3 id="网络系统模块"><a href="#网络系统模块" class="headerlink" title="网络系统模块"></a>网络系统模块</h3><p>5个模块：代理支持、身份验证和凭据、cookie 存储、配置管理和缓存管理。</p>
<p>Cookie，有时也用其复数形式 <a href="https://baike.baidu.com/item/Cookies/187064" target="_blank" rel="noopener">Cookies</a>，指某些网站为了辨别用户身份、进行 session 跟踪而储存在用户本地终端上的数据（通常经过加密）。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-051981bc3031c38f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="NSURLSessionTask"><a href="#NSURLSessionTask" class="headerlink" title="NSURLSessionTask"></a>NSURLSessionTask</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-fe67c8e448c7ce34.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="NSURLSessionDelegate-委托协议"><a href="#NSURLSessionDelegate-委托协议" class="headerlink" title="NSURLSessionDelegate 委托协议"></a>NSURLSessionDelegate 委托协议</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-23944504e81ef45f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h2 id="Session-会话的概念"><a href="#Session-会话的概念" class="headerlink" title="Session 会话的概念"></a>Session 会话的概念</h2><p>Session中任务的行为取决于三个方面：</p>
<ol>
<li>Session 的类型（取决于创建的配置对象类型）；</li>
<li>task 任务的类型；</li>
<li>task 任务被创建时，app 是否处于前台状态？</li>
</ol>
<h3 id="Session-的类型"><a href="#Session-的类型" class="headerlink" title="Session 的类型"></a>Session 的类型</h3><ul>
<li><strong>默认会话（Default session）</strong>：与其他用于下载URL的 Foundation 方法类似。 使用永久性的基于磁盘的缓存并将凭据存储在用户的钥匙串中。</li>
<li><strong>短暂会话（Ephemeral session）</strong>：不会将任何数据存储到磁盘; 所有缓存，凭证等都保存在 RAM 中并与会话相关联。 因此，当应用程序使会话无效时，会自动清除该会话。</li>
<li><strong>后台会话（Background session）</strong>：类似于默认会话，但是会使用单独的进程处理所有数据传输。 后台会话有一些额外的限制。</li>
</ul>
<p>⚠️ <strong>NSURLSession</strong> 使用完需要释放，否则会引起内存泄漏问题。</p>
<h3 id="task-任务类型"><a href="#task-任务类型" class="headerlink" title="task 任务类型"></a>task 任务类型</h3><p><strong>NSURLSession</strong> 支持三种类型的任务：data tasks, download tasks 和 upload tasks。</p>
<ul>
<li><strong>data tasks</strong>：使用 <strong>NSData</strong> 对象发送和接收数据。 处理应用程序与服务器之间的简短的，经常交互的请求。 数据任务可以在每次接收到数据后就返回，或者通过 completion handler 一次性返回所有数据到您的应用程序。</li>
<li><strong>download tasks</strong>：下载任务以文件的形式检索数据，并在应用程序未运行时支持后台下载。</li>
<li><strong>upload tasks</strong>：上传任务以文件的形式发送数据，并在应用程序未运行时支持后台上传。</li>
</ul>
<h3 id="后台传输注意事项"><a href="#后台传输注意事项" class="headerlink" title="后台传输注意事项"></a>后台传输注意事项</h3><p><strong>NSURLSession</strong> 类在您的应用程序被暂停时支持后台传输。 后台传输仅由使用后台会话配置对象（调用 <code>backgroundSessionConfiguration :</code>返回的会话）提供。</p>
<ul>
<li>必须提供委托对象来进行事件传递。 （对于上传和下载任务，代理的行为与在进程内传输相同。）</li>
<li>只支持HTTP和HTTPS协议（没有自定义协议）。</li>
<li>始终遵循重定向。</li>
<li>只支持 file 文件上传（应用程序退出后，data 或 stream 类型的传输将会失败）。</li>
<li>如果在应用程序处于后台时启动后台传输，配置对象的 <a href="https://developer.apple.com/documentation/foundation/nsurlsessionconfiguration/1411552-discretionary" target="_blank" rel="noopener">discretionary</a> 属性将被视为true。</li>
</ul>
<h3 id="网络请求创建流程"><a href="#网络请求创建流程" class="headerlink" title="网络请求创建流程"></a>网络请求创建流程</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line"><span class="built_in">NSURL</span>--&gt;<span class="built_in">NSURLRequest</span></span><br><span class="line"><span class="built_in">NSURLRequest</span>--&gt;<span class="built_in">NSURLSessionTask</span></span><br><span class="line"><span class="built_in">NSURLSessionConfiguration</span>--&gt;<span class="built_in">NSURLSession</span></span><br><span class="line"><span class="built_in">NSURLSession</span>--&gt;<span class="built_in">NSURLSessionTask</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-e9d90dd9844067b5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="网络请求流程图.png"></p>
<h2 id="创建和配置-Session"><a href="#创建和配置-Session" class="headerlink" title="创建和配置 Session"></a>创建和配置 Session</h2><h3 id="一、NSURLSessionDataTask-示例"><a href="#一、NSURLSessionDataTask-示例" class="headerlink" title="一、NSURLSessionDataTask 示例"></a>一、NSURLSessionDataTask 示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// 1.创建 NSURLSessionConfiguration</span><br><span class="line">NSURLSessionConfiguration *defaultConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];</span><br><span class="line">NSURLSessionConfiguration *ephemeralConfiguration = [NSURLSessionConfiguration ephemeralSessionConfiguration];</span><br><span class="line">NSURLSessionConfiguration *backgroundConfiguration = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier: @&quot;com.myapp.networking.background&quot;];</span><br><span class="line"></span><br><span class="line">// 配置默认会话的缓存行为</span><br><span class="line">NSString *cachesDirectory = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES).firstObject;</span><br><span class="line">NSString *cachePath = [cachesDirectory stringByAppendingPathComponent:@&quot;MyCache&quot;];</span><br><span class="line"></span><br><span class="line">/* Note:</span><br><span class="line"> iOS需要设置相对路径:〜/Library/Caches</span><br><span class="line"> OS X 要设置绝对路径。</span><br><span class="line"> */</span><br><span class="line">NSURLCache *cache = [[NSURLCache alloc] initWithMemoryCapacity:16384</span><br><span class="line">                                                  diskCapacity:268435456</span><br><span class="line">                                                      diskPath:cachePath];</span><br><span class="line">defaultConfiguration.URLCache = cache;</span><br><span class="line">defaultConfiguration.requestCachePolicy = NSURLRequestUseProtocolCachePolicy;</span><br><span class="line"></span><br><span class="line">// 2.创建 NSURLSession</span><br><span class="line">NSOperationQueue *operationQueue = [NSOperationQueue mainQueue];</span><br><span class="line"></span><br><span class="line">NSURLSession *defaultSession = [NSURLSession sessionWithConfiguration:defaultConfiguration delegate:self delegateQueue:operationQueue];</span><br><span class="line">NSURLSession *ephemeralSession = [NSURLSession sessionWithConfiguration:ephemeralConfiguration delegate:self delegateQueue:operationQueue];</span><br><span class="line">NSURLSession *backgroundSession = [NSURLSession sessionWithConfiguration:backgroundConfiguration delegate:self delegateQueue:operationQueue];</span><br><span class="line"></span><br><span class="line">// 3.创建 NSURLSessionDataTask</span><br><span class="line">NSURL *url = [NSURL URLWithString:@&quot;https://www.example.com/&quot;];</span><br><span class="line"></span><br><span class="line">[[defaultSession dataTaskWithURL:url completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) &#123;</span><br><span class="line">    NSLog(@&quot;Got response %@ with error %@.\n&quot;, response, error);</span><br><span class="line">    NSLog(@&quot;DATA:\n%@\nEND DATA\n&quot;, [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding]);</span><br><span class="line">          &#125;] resume];</span><br></pre></td></tr></table></figure>
<h3 id="二、NSURLSessionDownloadTask-示例"><a href="#二、NSURLSessionDownloadTask-示例" class="headerlink" title="二、NSURLSessionDownloadTask 示例"></a>二、NSURLSessionDownloadTask 示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">NSURL *url = [NSURL URLWithString:@&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/ObjC_classic/FoundationObjC.pdf&quot;];</span><br><span class="line"></span><br><span class="line">// 1.创建 NSURLSessionConfiguration</span><br><span class="line">NSURLSessionConfiguration *backgroundConfiguration = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier: @&quot;com.myapp.networking.background&quot;];</span><br><span class="line"></span><br><span class="line">// 2.创建 NSURLSession</span><br><span class="line">NSOperationQueue *operationQueue = [NSOperationQueue mainQueue];</span><br><span class="line"></span><br><span class="line">NSURLSession *backgroundSession = [NSURLSession sessionWithConfiguration:backgroundConfiguration delegate:self delegateQueue:operationQueue];</span><br><span class="line"></span><br><span class="line">// 3.创建 NSURLSessionDownloadTask</span><br><span class="line">NSURLSessionDownloadTask *downloadTask = [backgroundSession downloadTaskWithURL:url];</span><br><span class="line">[downloadTask resume];</span><br><span class="line"></span><br><span class="line"># prama mark - Delegate</span><br><span class="line">- (void)URLSession:(NSURLSession *)session</span><br><span class="line">      downloadTask:(NSURLSessionDownloadTask *)downloadTask</span><br><span class="line">      didWriteData:(int64_t)bytesWritten</span><br><span class="line"> totalBytesWritten:(int64_t)totalBytesWritten</span><br><span class="line">totalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@&quot;Session %@ download task %@ wrote an additional %lld bytes (total %lld bytes) out of an expected %lld bytes.\n&quot;, session, downloadTask, bytesWritten, totalBytesWritten, totalBytesExpectedToWrite);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">- (void)URLSession:(NSURLSession *)session</span><br><span class="line">      downloadTask:(NSURLSessionDownloadTask *)downloadTask</span><br><span class="line"> didResumeAtOffset:(int64_t)fileOffset</span><br><span class="line">expectedTotalBytes:(int64_t)expectedTotalBytes</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@&quot;Session %@ download task %@ resumed at offset %lld bytes out of an expected %lld bytes.\n&quot;, session, downloadTask, fileOffset, expectedTotalBytes);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">- (void)URLSession:(NSURLSession *)session</span><br><span class="line">      downloadTask:(NSURLSessionDownloadTask *)downloadTask</span><br><span class="line">didFinishDownloadingToURL:(NSURL *)location</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@&quot;Session %@ download task %@ finished downloading to URL %@\n&quot;, session, downloadTask, location);</span><br><span class="line"> </span><br><span class="line">    // Perform the completion handler for the current session</span><br><span class="line">    self.completionHandlers[session.configuration.identifier]();</span><br><span class="line"> </span><br><span class="line">   // Open the downloaded file for reading</span><br><span class="line">    NSError *readError = nil;</span><br><span class="line">    NSFileHandle *fileHandle = [NSFileHandle fileHandleForReadingFromURL:location error:readError];</span><br><span class="line">    // ...</span><br><span class="line"> </span><br><span class="line">   // Move the file to a new URL</span><br><span class="line">    NSFileManager *fileManager = [NSFileManager defaultManager];</span><br><span class="line">    NSURL *cacheDirectory = [[fileManager URLsForDirectory:NSCachesDirectory inDomains:NSUserDomainMask] firstObject];</span><br><span class="line">    NSError *moveError = nil;</span><br><span class="line">    if ([fileManager moveItemAtURL:location toURL:cacheDirectory error:moveError]) &#123;</span><br><span class="line">        // ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三、Uploading-Body-Content"><a href="#三、Uploading-Body-Content" class="headerlink" title="三、Uploading Body Content"></a>三、Uploading Body Content</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">// 1.创建 NSURLSessionConfiguration</span><br><span class="line">NSURLSessionConfiguration *defaultConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];</span><br><span class="line"></span><br><span class="line">// 配置默认会话的缓存行为</span><br><span class="line">NSString *cachesDirectory = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES).firstObject;</span><br><span class="line">NSString *cachePath = [cachesDirectory stringByAppendingPathComponent:@&quot;MyCache&quot;];</span><br><span class="line"></span><br><span class="line">/* Note:</span><br><span class="line"> iOS需要设置相对路径:〜/Library/Caches</span><br><span class="line"> OS X 要设置绝对路径。</span><br><span class="line"> */</span><br><span class="line">NSURLCache *cache = [[NSURLCache alloc] initWithMemoryCapacity:16384</span><br><span class="line">                                                  diskCapacity:268435456</span><br><span class="line">                                                      diskPath:cachePath];</span><br><span class="line">defaultConfiguration.URLCache = cache;</span><br><span class="line">defaultConfiguration.requestCachePolicy = NSURLRequestUseProtocolCachePolicy;</span><br><span class="line"></span><br><span class="line">// 2.创建 NSURLSession</span><br><span class="line">NSOperationQueue *operationQueue = [NSOperationQueue mainQueue];</span><br><span class="line"></span><br><span class="line">NSURLSession *defaultSession = [NSURLSession sessionWithConfiguration:defaultConfiguration delegate:self delegateQueue:operationQueue];</span><br><span class="line"></span><br><span class="line">// ***************************************************************</span><br><span class="line">// 3.1.上传 Data </span><br><span class="line">NSURL *textFileURL = [NSURL fileURLWithPath:@&quot;/path/to/file.txt&quot;];</span><br><span class="line">NSData *data = [NSData dataWithContentsOfURL:textFileURL];</span><br><span class="line"> </span><br><span class="line">NSURL *url = [NSURL URLWithString:@&quot;https://www.example.com/&quot;];</span><br><span class="line">NSMutableURLRequest *mutableRequest = [NSMutableURLRequest requestWithURL:url];</span><br><span class="line">mutableRequest.HTTPMethod = @&quot;POST&quot;;</span><br><span class="line">[mutableRequest setValue:[NSString stringWithFormat:@&quot;%lld&quot;, data.length] forHTTPHeaderField:@&quot;Content-Length&quot;];</span><br><span class="line">[mutableRequest setValue:@&quot;text/plain&quot; forHTTPHeaderField:@&quot;Content-Type&quot;];</span><br><span class="line"> </span><br><span class="line">NSURLSessionUploadTask *uploadTask = [defaultSession uploadTaskWithRequest:mutableRequest fromData:data];</span><br><span class="line">[uploadTask resume];</span><br><span class="line"></span><br><span class="line">// ***************************************************************</span><br><span class="line">// 3.2.上传 File </span><br><span class="line">NSURL *textFileURL = [NSURL fileURLWithPath:@&quot;/path/to/file.txt&quot;];</span><br><span class="line"> </span><br><span class="line">NSURL *url = [NSURL URLWithString:@&quot;https://www.example.com/&quot;];</span><br><span class="line">NSMutableURLRequest *mutableRequest = [NSMutableURLRequest requestWithURL:url];</span><br><span class="line">mutableRequest.HTTPMethod = @&quot;POST&quot;;</span><br><span class="line"> </span><br><span class="line">NSURLSessionUploadTask *uploadTask = [defaultSession uploadTaskWithRequest:mutableRequest fromFile:textFileURL];</span><br><span class="line">[uploadTask resume];</span><br><span class="line"></span><br><span class="line">// ***************************************************************</span><br><span class="line">// 3.3.上传 Stream</span><br><span class="line">NSURL *textFileURL = [NSURL fileURLWithPath:@&quot;/path/to/file.txt&quot;];</span><br><span class="line"> </span><br><span class="line">NSURL *url = [NSURL URLWithString:@&quot;https://www.example.com/&quot;];</span><br><span class="line">NSMutableURLRequest *mutableRequest = [NSMutableURLRequest requestWithURL:url];</span><br><span class="line">mutableRequest.HTTPMethod = @&quot;POST&quot;;</span><br><span class="line">mutableRequest.HTTPBodyStream = [NSInputStream inputStreamWithFileAtPath:textFileURL.path];</span><br><span class="line">[mutableRequest setValue:@&quot;text/plain&quot; forHTTPHeaderField:@&quot;Content-Type&quot;];</span><br><span class="line">[mutableRequest setValue:[NSString stringWithFormat:@&quot;%lld&quot;, data.length] forHTTPHeaderField:@&quot;Content-Length&quot;];</span><br><span class="line"> </span><br><span class="line">NSURLSessionUploadTask *uploadTask = [defaultSession uploadTaskWithStreamedRequest:mutableRequest];</span><br><span class="line">[uploadTask resume];</span><br></pre></td></tr></table></figure>
<h3 id="四、NSURLSessionDataTask-发送-GET-请求"><a href="#四、NSURLSessionDataTask-发送-GET-请求" class="headerlink" title="四、NSURLSessionDataTask 发送 GET 请求"></a>四、NSURLSessionDataTask 发送 GET 请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (void)p_NSURLSessionDataTask_GET &#123;</span><br><span class="line">    // 请求路径</span><br><span class="line">    NSURL *url = [NSURL URLWithString:@&quot;https://op.juhe.cn/shanghai/hospital?dtype=&amp;key=123&quot;];</span><br><span class="line">    </span><br><span class="line">    // 1.创建 NSURLSession，使用共享 Session</span><br><span class="line">    NSURLSession *session = [NSURLSession sharedSession];</span><br><span class="line">    </span><br><span class="line">    // 2.创建 NSURLSessionDataTask, 默认 GET 请求</span><br><span class="line">    NSURLSessionDataTask *dataTask = [session dataTaskWithURL:url completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) &#123;</span><br><span class="line">        if (error) &#123;</span><br><span class="line">            NSLog(@&quot;%@&quot;,error.localizedDescription);</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            NSLog(@&quot;%@&quot;,data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    // 3.执行 Task</span><br><span class="line">    [dataTask resume];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="五、NSURLSessionDataTask-发送-POST-请求"><a href="#五、NSURLSessionDataTask-发送-POST-请求" class="headerlink" title="五、NSURLSessionDataTask 发送 POST 请求"></a>五、NSURLSessionDataTask 发送 POST 请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">- (void)p_NSURLSessionDataTask_POST &#123;</span><br><span class="line">    // 请求路径</span><br><span class="line">    NSURL *url = [NSURL URLWithString:@&quot;https://op.juhe.cn/shanghai/hospital&quot;];</span><br><span class="line">    </span><br><span class="line">    // 创建请求对象</span><br><span class="line">    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];</span><br><span class="line">    // 设置请求方法</span><br><span class="line">    request.HTTPMethod = @&quot;POST&quot;;</span><br><span class="line">    // 设置请求体</span><br><span class="line">    NSString *stringBody = @&quot;dtype=&amp;key=123&quot;;</span><br><span class="line">    request.HTTPBody = [stringBody dataUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line">    </span><br><span class="line">    // 1.创建 NSURLSession,使用共享 Session</span><br><span class="line">    NSURLSession *session = [NSURLSession sharedSession];</span><br><span class="line">    // 2.创建 NSURLSessionDataTask</span><br><span class="line">    NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) &#123;</span><br><span class="line">        if (error) &#123;</span><br><span class="line">            // error</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            // data</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    // 3.执行 Task</span><br><span class="line">    [dataTask resume];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="六、NSURLSessionDataTask-设置代理发送请求"><a href="#六、NSURLSessionDataTask-设置代理发送请求" class="headerlink" title="六、NSURLSessionDataTask 设置代理发送请求"></a>六、NSURLSessionDataTask 设置代理发送请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">- (void)p_NSURLSessionDataTask_Delegate &#123;</span><br><span class="line">    // 请求路径</span><br><span class="line">    NSURL *url = [NSURL URLWithString:@&quot;https://op.juhe.cn/shanghai/hospital&quot;];</span><br><span class="line">    </span><br><span class="line">    // 创建请求对象</span><br><span class="line">    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];</span><br><span class="line">    // 设置请求方法</span><br><span class="line">    request.HTTPMethod = @&quot;POST&quot;;</span><br><span class="line">    // 设置请求体</span><br><span class="line">    NSString *stringBody = @&quot;dtype=&amp;key=5718abc3837ecb471c5d5b1ef1e35130&quot;;</span><br><span class="line">    request.HTTPBody = [stringBody dataUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line">    </span><br><span class="line">    // 1.创建 NSURLSessionConfiguration</span><br><span class="line">    NSURLSessionConfiguration *configuration =</span><br><span class="line">        [NSURLSessionConfiguration defaultSessionConfiguration];</span><br><span class="line">    // 2.创建 NSURLSession</span><br><span class="line">    NSURLSession *session =</span><br><span class="line">        [NSURLSession sessionWithConfiguration:configuration</span><br><span class="line">                                      delegate:self</span><br><span class="line">                                 delegateQueue:nil];</span><br><span class="line">    // 3.创建 NSURLSessionDataTask</span><br><span class="line">    NSURLSessionDataTask *dataTask =</span><br><span class="line">        [session dataTaskWithRequest:request];</span><br><span class="line">    // 4.执行 Task</span><br><span class="line">    [dataTask resume];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - NSURLSessionDelegate</span><br><span class="line"></span><br><span class="line">- (void)URLSession:(NSURLSession *)session didBecomeInvalidWithError:(nullable NSError *)error &#123;</span><br><span class="line">    // 请求失败调用。</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)URLSession:(NSURLSession *)session didReceiveChallenge:(NSURLAuthenticationChallenge *)challenge</span><br><span class="line"> completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition disposition, NSURLCredential * _Nullable credential))completionHandler &#123;</span><br><span class="line">    // 处理身份验证和凭据。</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)URLSessionDidFinishEventsForBackgroundURLSession:(NSURLSession *)session &#123;</span><br><span class="line">    // 后台任务下载完成后调用</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - NSURLSessionDataDelegate</span><br><span class="line"></span><br><span class="line">- (void)URLSession:(NSURLSession *)session</span><br><span class="line">          dataTask:(NSURLSessionDataTask *)dataTask</span><br><span class="line">didReceiveResponse:(NSURLResponse *)response</span><br><span class="line"> completionHandler:(void (^)(NSURLSessionResponseDisposition disposition))completionHandler &#123;</span><br><span class="line">    // 接收到服务器响应的时候调用</span><br><span class="line">    // 默认情况下不接收数据，必须告诉系统是否接收服务器返回的数据</span><br><span class="line">    completionHandler(NSURLSessionResponseAllow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)URLSession:(NSURLSession *)session</span><br><span class="line">              task:(NSURLSessionTask *)task</span><br><span class="line">didCompleteWithError:(nullable NSError *)error &#123;</span><br><span class="line">    // 请求失败调用</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)URLSession:(NSURLSession *)session</span><br><span class="line">          dataTask:(NSURLSessionDataTask *)dataTask</span><br><span class="line">    didReceiveData:(NSData *)data &#123;</span><br><span class="line">    // 接受到服务器返回数据的时候调用,可能被调用多次</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取新闻示例代码："><a href="#获取新闻示例代码：" class="headerlink" title="获取新闻示例代码："></a>获取新闻示例代码：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">-（void）viewdidload &#123;</span><br><span class="line"></span><br><span class="line">    //创建NSURLSession对象</span><br><span class="line">    NSURLSessionConfiguration *config = [NSURLSessionConfiguration defaultSessionConfiguration];</span><br><span class="line">    _session = [NSURLSession sessionWithConfiguration:config</span><br><span class="line">                                             delegate:nil</span><br><span class="line">                                        delegateQueue:nil];</span><br><span class="line">    //发起网络请求获取新闻</span><br><span class="line">    [self fetchHrssnews];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma 获取新闻方法</span><br><span class="line">- (void)fetchHrssnews &#123;</span><br><span class="line">    </span><br><span class="line">    //创建NSURLRequest对象</span><br><span class="line">    NSString *requestString = hrssnewsString;</span><br><span class="line">    NSURL *url = [NSURL URLWithString:requestString];</span><br><span class="line">    //方法参数：统一资源定位符、缓存策略：忽略本地缓存、等待web服务器响应最长时间</span><br><span class="line">    NSMutableURLRequest *req = [NSMutableURLRequest requestWithURL:url</span><br><span class="line">                                                       cachePolicy:NSURLRequestReloadIgnoringLocalCacheData</span><br><span class="line">                                                   timeoutInterval:60.0f];</span><br><span class="line">    //设置请求方式为POST</span><br><span class="line">    [req setHTTPMethod:	@&quot;POST&quot;];</span><br><span class="line">    </span><br><span class="line">    //设置请求体</span><br><span class="line">    NSString *dataString = @&quot;ksym=0&amp;jsym=15&quot;;</span><br><span class="line">    NSData *postData = [dataString dataUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line">    [req setHTTPBody:postData];</span><br><span class="line">    </span><br><span class="line">    //创建NSURLSessionDataTask对象</span><br><span class="line">    NSURLSessionDataTask *dataTask = [self.session dataTaskWithRequest:req completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) &#123;</span><br><span class="line">        </span><br><span class="line">        //解析JSON数据</span><br><span class="line">        NSDictionary *jsonObject = [NSJSONSerialization</span><br><span class="line">                                    JSONObjectWithData:data</span><br><span class="line">                                options:kNilOptions</span><br><span class="line">                                error:nil];</span><br><span class="line">        </span><br><span class="line">        self.msgflag = jsonObject[@&quot;msgflag&quot;];</span><br><span class="line">        HQLog(@&quot;msgflag:%@&quot;,self.msgflag);</span><br><span class="line">        self.msg = jsonObject[@&quot;msg&quot;];</span><br><span class="line">        HQLog(@&quot;msg:%@&quot;,self.msg);</span><br><span class="line">        </span><br><span class="line">        //判断是否成功获取服务器端数据</span><br><span class="line">        if ([self.msgflag isEqualToString:@&quot;0&quot;]) &#123;</span><br><span class="line">            HQLog(@&quot;msgflag:%@&quot;,self.msgflag);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            HQLog(@&quot;msgflag:-1,msg:For input string: &quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        //使用dispatch_asynch函数让reloadData方法在主线程中运行</span><br><span class="line">        dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">            //重新加载UITableView对象的数据</span><br><span class="line">            [self.tableView reloadData];&#125;);</span><br><span class="line">            //停止刷新</span><br><span class="line">            [self.tableView.mj_header endRefreshing];</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    //NSURLSessionDataTask在刚创建的时候默认处于挂起状态，需要手动调用恢复。</span><br><span class="line">    [dataTask resume];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html#//apple_ref/doc/uid/10000165i" target="_blank" rel="noopener">Apple: URL Session Programming Guide</a></li>
<li><a href="https://developer.apple.com/documentation/foundation/nsurlsession" target="_blank" rel="noopener">Apple: NSURLSession</a></li>
<li><a href="http://www.jianshu.com/p/9ac32807a039" target="_blank" rel="noopener">天天品尝iOS7甜点 :: Day 1 :: NSURLSession</a></li>
<li><a href="http://www.cnblogs.com/mddblog/p/5215453.html" target="_blank" rel="noopener">iOS网络2——NSURLSession使用详解</a></li>
<li><a href="http://blog.csdn.net/growinggiant/article/details/50483127" target="_blank" rel="noopener">NSURLSessionConfiguration API详解</a></li>
<li><a href="http://www.jianshu.com/p/f1aadc9f5dc3" target="_blank" rel="noopener">iOS 通俗易懂的HTTP网络</a>：URL、报文、Swift</li>
<li><a href="http://www.jianshu.com/p/b0ddadd34037" target="_blank" rel="noopener">开发只懂 AFN ？搞定 NSURLSession 才是硬道理</a></li>
</ul>
<ul>
<li><a href="http://www.cnblogs.com/beckwang0912/p/7196350.html" target="_blank" rel="noopener">NSURLSession与NSURLConnection区别</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/23204070?refer=mrpeak" target="_blank" rel="noopener">iOS网络请求在Controller退出后是否应该被取消？@MrPeak</a></li>
<li><a href="http://mrpeak.cn/blog/ios-network/" target="_blank" rel="noopener">深度优化iOS网络模块 @MrPeak</a></li>
<li><a href="http://nshipster.cn/nsurl/" target="_blank" rel="noopener">NSURL /NSURLComponents</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/25/mitmproxy——开源、免费的HTTP抓包分析工具/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/25/mitmproxy——开源、免费的HTTP抓包分析工具/" class="post-title-link" itemprop="url">mitmproxy——开源、免费的HTTP抓包分析工具</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-25 16:25:00" itemprop="dateCreated datePublished" datetime="2016-11-25T16:25:00+08:00">2016-11-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:35:52" itemprop="dateModified" datetime="2019-04-18T00:35:52+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/25/mitmproxy——开源、免费的HTTP抓包分析工具/" class="leancloud_visitors" data-flag-title="mitmproxy——开源、免费的HTTP抓包分析工具">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a href="http://blog.jobbole.com/30251/" target="_blank" rel="noopener">推荐给开发人员的6个实用命令行工具</a>（阅读难度：★）</li>
<li><a href="http://hello1010.com/mitmproxy-android" target="_blank" rel="noopener">使用mitmproxy进行移动端的HTTP抓包</a>（阅读难度：★★）</li>
<li><a href="http://greenrobot.me/devpost/how-to-debug-android-http-get-started/" target="_blank" rel="noopener">mitmproxy实践教程之调试 Android 上 HTTP流量</a>（阅读难度：★★）</li>
<li><a href="https://zhuanlan.zhihu.com/p/23878149" target="_blank" rel="noopener">和Charles同样强大的iOS免费抓包工具mitmproxy</a>（阅读难度：★★★）</li>
<li><a href="http://www.freebuf.com/sectool/76361.html" target="_blank" rel="noopener">mitmproxy套件使用攻略</a>（阅读难度：★★★★）</li>
</ul>
<p><a href="https://mitmproxy.org/index.html" target="_blank" rel="noopener">mitmproxy</a>:<br>是一款支持HTTP(S)的中间人代理工具。<strong>mitmproxy</strong> 提供了一个控制台接口用于动态拦截和编辑HTTP数据包。不同于<strong>Fiddler2</strong>，<strong>burpsuite</strong>等类似功能工具，<strong>mitmproxy</strong>可在终端下运行。<strong>mitmproxy</strong>使用<strong>Python</strong>开发，是辅助web开发&amp;测试，移动端调试，渗透测试的工具。<br><strong>mitmdump</strong> 是 <strong>mitmproxy</strong> 的命令行版本，功能与其相同。</p>
<h3 id="安装mitmproxy"><a href="#安装mitmproxy" class="headerlink" title="安装mitmproxy"></a>安装mitmproxy</h3><ol>
<li><p>先要在Mac中安装 <strong>pip</strong>（Python包管理工具，主要是用于安装 PyPI 上的软件包，可以替代 easy_install 工具。） ,打开Termal终端，输入如下命令：   </p>
 <figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>sudo easy_install pip</span><br><span class="line">Searching <span class="keyword">for</span> pip</span><br><span class="line">Reading <span class="symbol">https:</span>/<span class="regexp">/pypi.python.org/simple</span><span class="regexp">/pip/</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装<strong>mitmproxy</strong> </p>
 <figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pip <span class="keyword">install </span>mitmproxy --ignore-<span class="keyword">installed </span>six</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>使用方法目前自己也完全参考以上文章，因为目前也处于学习使用阶段，所以写一大堆和别人类似的东西或者不如别人详细完善的东西出来完全是浪费时间，Blog这个东西只是辅助手段，并不能放在首要目标上。</p>
<p>以下vim命令可通过<code>？</code>获得</p>
<h3 id="This-view"><a href="#This-view" class="headerlink" title="This view:"></a>This view:</h3><table>
<thead>
<tr>
<th style="text-align:left">A</th>
<th style="text-align:left">接收所有被拦截的流</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">a</td>
<td style="text-align:left">只接收该被拦截的流</td>
</tr>
<tr>
<td style="text-align:left">b</td>
<td style="text-align:left">保存 request/response 体</td>
</tr>
<tr>
<td style="text-align:left">C</td>
<td style="text-align:left">导出流到剪切板</td>
</tr>
<tr>
<td style="text-align:left">d</td>
<td style="text-align:left">删除流</td>
</tr>
<tr>
<td style="text-align:left">D</td>
<td style="text-align:left">重复流</td>
</tr>
<tr>
<td style="text-align:left">e</td>
<td style="text-align:left">切换事件日志</td>
</tr>
<tr>
<td style="text-align:left">E</td>
<td style="text-align:left">导出流到文件</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">过滤视图</td>
</tr>
<tr>
<td style="text-align:left">F</td>
<td style="text-align:left">切换follow流列表</td>
</tr>
<tr>
<td style="text-align:left">L</td>
<td style="text-align:left">加载保存的流</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">切换流标记</td>
</tr>
<tr>
<td style="text-align:left">M</td>
<td style="text-align:left">切换标记的流视图</td>
</tr>
<tr>
<td style="text-align:left">n</td>
<td style="text-align:left">创建一个新的request</td>
</tr>
<tr>
<td style="text-align:left">r</td>
<td style="text-align:left">重复request</td>
</tr>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">服务器重复request</td>
</tr>
<tr>
<td style="text-align:left">U</td>
<td style="text-align:left">取消标记所有被标记的流</td>
</tr>
<tr>
<td style="text-align:left">V</td>
<td style="text-align:left">还原更改的请求</td>
</tr>
<tr>
<td style="text-align:left">w</td>
<td style="text-align:left">保存流</td>
</tr>
<tr>
<td style="text-align:left">W</td>
<td style="text-align:left">把流stream入文件</td>
</tr>
<tr>
<td style="text-align:left">X</td>
<td style="text-align:left">杀死和删除流，即使它正被拦截</td>
</tr>
<tr>
<td style="text-align:left">z</td>
<td style="text-align:left">清楚流或事件日志</td>
</tr>
<tr>
<td style="text-align:left">tab</td>
<td style="text-align:left">选项卡在事件日志和流列表之间切换</td>
</tr>
<tr>
<td style="text-align:left">enter</td>
<td style="text-align:left">查看流</td>
</tr>
<tr>
<td style="text-align:left">l</td>
<td style="text-align:left">运行脚本</td>
</tr>
</tbody>
</table>
<h3 id="Movement"><a href="#Movement" class="headerlink" title="Movement"></a>Movement</h3><table>
<thead>
<tr>
<th style="text-align:left">j,k</th>
<th style="text-align:left">下移，上移</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">h,l</td>
<td style="text-align:left">左移，右移（在某些文本中）</td>
</tr>
<tr>
<td style="text-align:left">g,G</td>
<td style="text-align:left">移至开头，结尾</td>
</tr>
<tr>
<td style="text-align:left">space</td>
<td style="text-align:left">翻页</td>
</tr>
<tr>
<td style="text-align:left">page up/down</td>
<td style="text-align:left">翻页</td>
</tr>
<tr>
<td style="text-align:left">ctrl+b /ctrl+f</td>
<td style="text-align:left">翻页</td>
</tr>
<tr>
<td style="text-align:left">方向键</td>
<td style="text-align:left">上下左右移动</td>
</tr>
</tbody>
</table>
<h3 id="Global-keys"><a href="#Global-keys" class="headerlink" title="Global keys"></a>Global keys</h3><table>
<thead>
<tr>
<th style="text-align:left">i</th>
<th style="text-align:left">设置拦截模式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">o</td>
<td style="text-align:left">选项</td>
</tr>
<tr>
<td style="text-align:left">q</td>
<td style="text-align:left">后退，返回</td>
</tr>
<tr>
<td style="text-align:left">Q</td>
<td style="text-align:left">退出而不需要确认提示</td>
</tr>
<tr>
<td style="text-align:left">R</td>
<td style="text-align:left">从文件中重复运行requests/responses</td>
</tr>
</tbody>
</table>
<h3 id="Filter-expressions-过滤表达式"><a href="#Filter-expressions-过滤表达式" class="headerlink" title="Filter expressions:(过滤表达式)"></a>Filter expressions:(过滤表达式)</h3><table>
<thead>
<tr>
<th style="text-align:left">~a</th>
<th style="text-align:left">匹配response：CSS，JavaScript，Flash，image</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">~b regex</td>
<td style="text-align:left">Body</td>
</tr>
<tr>
<td style="text-align:left">~bq regex</td>
<td style="text-align:left">request请求体</td>
</tr>
<tr>
<td style="text-align:left">~bs  regex</td>
<td style="text-align:left">response响应体</td>
</tr>
<tr>
<td style="text-align:left">~c int</td>
<td style="text-align:left">HTTP response code</td>
</tr>
<tr>
<td style="text-align:left">~d regex</td>
<td style="text-align:left">Domain域</td>
</tr>
<tr>
<td style="text-align:left">~dst regex</td>
<td style="text-align:left">匹配目标地址</td>
</tr>
<tr>
<td style="text-align:left">~e</td>
<td style="text-align:left">匹配错误</td>
</tr>
<tr>
<td style="text-align:left">~h regex</td>
<td style="text-align:left">Header</td>
</tr>
<tr>
<td style="text-align:left">~hq regex</td>
<td style="text-align:left">Request header</td>
</tr>
<tr>
<td style="text-align:left">~hs regex</td>
<td style="text-align:left">Response header</td>
</tr>
<tr>
<td style="text-align:left">~http</td>
<td style="text-align:left">匹配http流</td>
</tr>
<tr>
<td style="text-align:left">~m regex</td>
<td style="text-align:left">Method</td>
</tr>
<tr>
<td style="text-align:left">~marked</td>
<td style="text-align:left">匹配标记的流</td>
</tr>
<tr>
<td style="text-align:left">~q</td>
<td style="text-align:left">匹配request 而不需要response</td>
</tr>
<tr>
<td style="text-align:left">~s</td>
<td style="text-align:left">匹配response</td>
</tr>
<tr>
<td style="text-align:left">~src regex</td>
<td style="text-align:left">匹配源地址</td>
</tr>
<tr>
<td style="text-align:left">~t regex</td>
<td style="text-align:left">Content-type header</td>
</tr>
<tr>
<td style="text-align:left">~tcp</td>
<td style="text-align:left">匹配TCP流</td>
</tr>
<tr>
<td style="text-align:left">~tq regex</td>
<td style="text-align:left">Request Content-type header</td>
</tr>
<tr>
<td style="text-align:left">~ts regex</td>
<td style="text-align:left">Response Content-type header</td>
</tr>
<tr>
<td style="text-align:left">~u regex</td>
<td style="text-align:left">URL</td>
</tr>
<tr>
<td style="text-align:left">!</td>
<td style="text-align:left">非</td>
</tr>
<tr>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">与</td>
</tr>
<tr>
<td style="text-align:left">l</td>
<td style="text-align:left">或</td>
</tr>
<tr>
<td style="text-align:left">(…)</td>
<td style="text-align:left">集合</td>
</tr>
</tbody>
</table>
<ul>
<li>正则表达式是<strong>Python</strong>风格的。</li>
<li>正则表达式可以被指定为带引号的字符串。</li>
<li>Header匹配(~h,~hq,~hs)是针对“name：value”形式的字符串。</li>
<li>没有运算符的表达式与URL的正则表达式匹配</li>
<li>默认的二进制运算符是&amp;</li>
</ul>
<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples:"></a>Examples:</h4><table>
<thead>
<tr>
<th>google.com</th>
<th style="text-align:center">URL包含“google.com”</th>
</tr>
</thead>
<tbody>
<tr>
<td>~q ~b test</td>
<td style="text-align:center">Request请求体中包含“test”</td>
</tr>
<tr>
<td>!(~q &amp; ~t “text/html”)</td>
<td style="text-align:center">除了Request请求中带有 “text/html” 的内容类型</td>
</tr>
</tbody>
</table>
<p><img src="http://25.io/smaller/favicon.ico" alt="未完待续..." title="Title here"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/24/svn的使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/24/svn的使用/" class="post-title-link" itemprop="url">svn 的使用</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-24 13:48:00" itemprop="dateCreated datePublished" datetime="2016-11-24T13:48:00+08:00">2016-11-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:39:12" itemprop="dateModified" datetime="2019-04-18T00:39:12+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/24/svn的使用/" class="leancloud_visitors" data-flag-title="svn 的使用">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>为什么使用SVN？在企业工作时，经常需要团队配合，这时一份工程需要多个人共<br>同维护，业内称之为<strong>多人联编</strong>。联编的方式有很多种，最原始的方式就是A写完代<br>码a,B写完代码b….M写完代码m，然后由N负责把a到m的所有代码进行整合，而<br>且N需要和所有人沟通，对所有代码都很清晰，整合时不能够出现差错，否则代码<br>就有可能达不到预期效果。很显然这个工作是非常繁重而且效率非常低的。作为地<br>球上最智慧的一群人，我们怎么能容忍这种低效率的工作呢。所以诞生了很多联编<br>工具，帮助我们自己解决各种问题。其中应用最广泛的莫过于SVN了，当然目前git<br>以其先进敏捷的特点，得到越来越多人的认可和使用，著名程序猿交友网站<br><a href="https://github.com/" target="_blank" rel="noopener">Github</a>就是提供git服务的网站。<a href="http://blog.csdn.net/a117653909/article/details/8952183" target="_blank" rel="noopener">git和SVN的区别</a></p>
<h1 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h1><p><a href="http://baike.baidu.com/link?url=qbPNjchDLlpAyQ20mUABoCFeExjB3l1as-iS9bCx5Zk_CdsFnyPNjRGrbCnudAz84OL9xq7Y8gj8S7Cyr0InD_" target="_blank" rel="noopener">百度百科</a>给出SVN的定义：</p>
<blockquote>
<p>SVN是Subversion的简称，是一个开放源代码的版本控制系统，相较于RCS、CVS，它采用了分支管理系统，它的设计目标就是取代CVS。互联网上很多版本控制服务已从CVS迁移到Subversion。说得简单一点SVN就是用于多个人共同开发同一个项目，共用资源的目的。</p>
</blockquote>
<h1 id="搭建SVN服务器"><a href="#搭建SVN服务器" class="headerlink" title="搭建SVN服务器"></a>搭建SVN服务器</h1><p>服务器的作用就如同引言中所说的工程师N的作用，负责整合代码，并且还能记录版本信息。<br>服务器的搭建过程非常简单，我们以Windows为例，使用基于Apache构建的VisualSVN，可以<br>快速简单地搭建出SVN服务器。</p>
<ul>
<li>windows 环境请参考：<a href="http://www.jb51.net/article/17365.htm" target="_blank" rel="noopener">使用VisualSVN Server搭建服务器</a><br>任何一台连接在局域网中的windows电脑都可以变成SVN服务器，如果把SVN托管到公网中，<br>那么在世界任何角落你都可以开心的提交你的代码了，常见于跨国、跨地区合作。</li>
<li>Mac 环境请参考：<a href="http://www.cnblogs.com/mjios/archive/2013/03/10/2952258.html" target="_blank" rel="noopener">Mac环境下svn的使用</a></li>
</ul>
<h1 id="使用SVN"><a href="#使用SVN" class="headerlink" title="使用SVN"></a>使用SVN</h1><p>在Mac OS X中，使用SVN可以使用命令行工具，也可以使用各种软件。我们先从命令行讲起，介绍几个简单的SVN命令。</p>
<h2 id="SVN基本命令："><a href="#SVN基本命令：" class="headerlink" title="SVN基本命令："></a>SVN基本命令：</h2><h3 id="1-启动svn服务器"><a href="#1-启动svn服务器" class="headerlink" title="1. 启动svn服务器"></a>1. 启动svn服务器</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/Users/</span>apple/svn</span><br><span class="line">或者输入：svnserve -d -r <span class="regexp">/Users/</span>apple<span class="regexp">/svn/</span>mycode</span><br></pre></td></tr></table></figure>
<h3 id="2-结束服务"><a href="#2-结束服务" class="headerlink" title="2. 结束服务"></a>2. 结束服务</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall <span class="number">-9</span> svnserve</span><br></pre></td></tr></table></figure>
<h3 id="3-CheckOut：将文件checkout到本地目录"><a href="#3-CheckOut：将文件checkout到本地目录" class="headerlink" title="3. CheckOut：将文件checkout到本地目录"></a>3. CheckOut：将文件checkout到本地目录</h3><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn checkout <span class="built_in">path</span>（<span class="built_in">path</span>是服务器上的目录）</span><br><span class="line">例如：svn checkout svn:<span class="comment">//192.168.1.1/pro/domain</span></span><br><span class="line">简写：svn co</span><br></pre></td></tr></table></figure>
<h3 id="4-Add：往版本库中添加新的文件"><a href="#4-Add：往版本库中添加新的文件" class="headerlink" title="4. Add：往版本库中添加新的文件"></a>4. Add：往版本库中添加新的文件</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn <span class="builtin-name">add</span> file</span><br><span class="line">例如：svn <span class="builtin-name">add</span> test.php(添加test.php)</span><br><span class="line">svn <span class="builtin-name">add</span> *.php(添加当前<span class="built_in">..</span>目录下所有的php.文件)</span><br></pre></td></tr></table></figure>
<h3 id="5-Commit：将改动的文件提交到版本库"><a href="#5-Commit：将改动的文件提交到版本库" class="headerlink" title="5. Commit：将改动的文件提交到版本库"></a>5. Commit：将改动的文件提交到版本库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">svn <span class="keyword">commit</span> -m “LogMessage“ [-N] [<span class="comment">--no-unlock] PATH(如果选择了保持锁，就</span></span><br><span class="line">使⽤用–<span class="keyword">no</span>-<span class="keyword">unlock</span>开关)</span><br><span class="line">例如：svn <span class="keyword">commit</span> -m “<span class="keyword">add</span> <span class="keyword">test</span> <span class="keyword">file</span> <span class="keyword">for</span> my <span class="keyword">test</span>“ test.php</span><br><span class="line">简写：svn ci</span><br></pre></td></tr></table></figure>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">日常提交更改过的代码到服务器：</span><br><span class="line"><span class="number">1</span>. 打开终端，先定位到<span class="regexp">/Users/</span>apple<span class="regexp">/Documents/</span>code目录，输入：</span><br><span class="line">cd <span class="regexp">/Users/</span>apple<span class="regexp">/Documents/</span>code</span><br><span class="line"><span class="number">2</span>. 输入提交指令：svn commit -m <span class="string">"修改日志说明"</span></span><br></pre></td></tr></table></figure>
<h3 id="6-Lock-unLock：加锁-解锁"><a href="#6-Lock-unLock：加锁-解锁" class="headerlink" title="6. Lock:unLock：加锁/解锁"></a>6. Lock:unLock：加锁/解锁</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn <span class="keyword">lock</span> -m <span class="string">"LockMessage"</span> [<span class="comment">--force] PATH</span></span><br><span class="line">例如：svn <span class="keyword">lock</span> -m <span class="string">"lock test file"</span> test.php</span><br><span class="line">svn <span class="keyword">unlock</span> <span class="keyword">PATH</span></span><br></pre></td></tr></table></figure>
<h3 id="7-Update-更新到某个版本"><a href="#7-Update-更新到某个版本" class="headerlink" title="7. Update:更新到某个版本"></a>7. Update:更新到某个版本</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">svn <span class="keyword">update</span> -r <span class="keyword">m</span> path</span><br><span class="line">例如：</span><br><span class="line">svn <span class="keyword">update</span> 如果后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本。</span><br><span class="line">svn <span class="keyword">update</span> -r 200 <span class="keyword">test</span>.php(将版本库中的.文件<span class="keyword">test</span>.php还原到版本200)</span><br><span class="line">svn <span class="keyword">update</span> <span class="keyword">test</span>.php(更新，于版本库同步。如果在提交的时候提示过期的话，是因为冲突，需要先<span class="keyword">update</span>，修改文件，然后清除svn resolved，最后再提交commit)</span><br><span class="line">简写：svn up</span><br></pre></td></tr></table></figure>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">日常更新服务器端的代码到客户端</span><br><span class="line"><span class="number">1</span>.  打开终端，先定位到<span class="regexp">/Users/</span>apple<span class="regexp">/Documents/</span>code目录，输入：</span><br><span class="line">cd <span class="regexp">/Users/</span>apple<span class="regexp">/Documents/</span>code</span><br><span class="line"><span class="number">2</span>.  输入指令：svn update</span><br></pre></td></tr></table></figure>
<h3 id="8-Status-查看文件或者目录状态"><a href="#8-Status-查看文件或者目录状态" class="headerlink" title="8. Status:查看文件或者目录状态"></a>8. Status:查看文件或者目录状态</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> svn <span class="built_in">status</span> <span class="built_in">path</span>（目录下的文件和子目录的状态，正常状态不显示）</span><br><span class="line">【?：不在svn的控制中；M：内容被修改；C：发生冲突；A：预定加入到版本库；K：被锁定】</span><br><span class="line"><span class="number">2.</span> svn <span class="built_in">status</span> -v <span class="built_in">path</span>(显示文件和子目录状态)</span><br><span class="line">第一列保持相同，第二列显示工作版本号，第三和第四列显示最后一次修改的版本号和修改人。</span><br><span class="line">注：svn <span class="built_in">status</span>、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，原因是svn在本地的.svn中保留了本地版本的原始拷贝。</span><br><span class="line">简写：svn st</span><br></pre></td></tr></table></figure>
<h3 id="9-Delete-删除文件"><a href="#9-Delete-删除文件" class="headerlink" title="9. Delete:删除文件"></a>9. Delete:删除文件</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">svn <span class="built_in">delete</span> path -m <span class="string">"delete test file"</span></span><br><span class="line">例如：</span><br><span class="line">svn <span class="built_in">delete</span> svn://<span class="number">192.168</span>.1.1/pro/<span class="built_in">domain</span>/test.php -m <span class="string">"delete test file"</span></span><br><span class="line">或者直接svn <span class="built_in">delete</span> test.php 然后再svn ci -m <span class="string">"delete test file"</span> 推荐使用这种</span><br><span class="line">简写：svn (<span class="built_in">del</span>, <span class="built_in">remove</span>, rm)</span><br></pre></td></tr></table></figure>
<h3 id="10-Log-查看日志"><a href="#10-Log-查看日志" class="headerlink" title="10. Log: 查看日志"></a>10. Log: 查看日志</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn <span class="built_in">log</span> <span class="built_in">path</span></span><br><span class="line">例如：svn <span class="built_in">log</span> test.php 显示这个文件的所有修改记录，及其版本号的变化</span><br></pre></td></tr></table></figure>
<blockquote>
<p> 提示：此处如果报错Item is not readable，则需要在<br>svnserve.conf 文件中,设置 anon-access = none。</p>
</blockquote>
<h3 id="11-Info-查看文件详细信息"><a href="#11-Info-查看文件详细信息" class="headerlink" title="11. Info:查看文件详细信息"></a>11. Info:查看文件详细信息</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn <span class="builtin-name">info</span> path</span><br><span class="line">例如：svn <span class="builtin-name">info</span> test.php</span><br></pre></td></tr></table></figure>
<h3 id="12-Diff-比较差异"><a href="#12-Diff-比较差异" class="headerlink" title="12. Diff:比较差异"></a>12. Diff:比较差异</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">svn</span> <span class="selector-tag">diff</span> <span class="selector-tag">path</span>(将修改的文件与基础版本比较)</span><br><span class="line">例如：<span class="selector-tag">svn</span> <span class="selector-tag">diff</span> <span class="selector-tag">test</span><span class="selector-class">.php</span></span><br><span class="line"><span class="selector-tag">svn</span> <span class="selector-tag">diff</span> <span class="selector-tag">-r</span> <span class="selector-tag">m</span><span class="selector-pseudo">:n</span> <span class="selector-tag">path</span> (对版本<span class="selector-tag">m</span>和版本<span class="selector-tag">n</span>比较差异)</span><br><span class="line">例如：<span class="selector-tag">svn</span> <span class="selector-tag">diff</span> <span class="selector-tag">-r</span> 200<span class="selector-pseudo">:201</span> <span class="selector-tag">test</span><span class="selector-class">.php</span></span><br><span class="line">简写：<span class="selector-tag">svn</span> <span class="selector-tag">di</span></span><br></pre></td></tr></table></figure>
<h1 id="SVN图形界面工具软件"><a href="#SVN图形界面工具软件" class="headerlink" title="SVN图形界面工具软件"></a>SVN图形界面工具软件</h1><p>SVN图形界面工具软件有很多，在Mac环境下可以使用Versions、Cornerstone等等，这里我们只介绍一下Cornerstone的使用。</p>
<ol>
<li>Checkout</li>
<li>Add</li>
<li>Delete</li>
<li>Revert</li>
<li>Commit</li>
<li>Update Update的重点在于如何解决冲突</li>
</ol>
<h1 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h1><ul>
<li>在 <strong>Xcode 8.1</strong> 上使用 <strong>source control</strong> —&gt; <strong>commit</strong>时报错：<br>The working copy “XXX” failed to commit files.Couldn’t communicate with a helper application.<br><strong>解决方法：</strong>：这里的提示可能只是svn帮助工具的一般处理，真正原因提示的并不是很明确，可以打开<strong>终端</strong>（command-line tool）使用命令行查看具体原因，然后再具体解决。代码如下：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> [path]     //<span class="built_in">cd</span>到项目根目录里</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> svn commit -m <span class="string">"这里写提交日志说明"</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>如果没问题的话会显示上传信息，有问题的话会输出错误原因，我这里提示的是：</p>
<blockquote>
<p>svn: E155010: Commit failed (details follow):<br>svn: E155010: ‘/Users/apple/Desktop//APP/Demo/Demo/Assets.xcassets/Others/appicon.imageset/appicon.png’ is scheduled for addition, but is missing</p>
</blockquote>
<p>  大概意思是之前在<strong>Assets.xcassets</strong>里计划增加的图片消失产生了错误，我找到了名称为：appicon 的Image Set，键盘<strong>Del</strong>删除之后再重新添加，再去<strong>commit</strong>就可以提交了。</p>
<p>  <strong>总结：</strong>：日常最好是通过Xcode添加和删除文件，以便正确更新svn状态（使用Finder操作文件可能会导致svn没法更新）。 如果发生提交错误，请转到命令行并使用svn status获取提示，出现错误，并从命令行进行修复。</p>
<h3 id="On-OSX-using-sourcetree-git-svn-getting-“Can’t-locate-SVN-Core-pm-in-INC-”"><a href="#On-OSX-using-sourcetree-git-svn-getting-“Can’t-locate-SVN-Core-pm-in-INC-”" class="headerlink" title="# On OSX using sourcetree / git-svn getting “Can’t locate SVN/Core.pm in @INC ”"></a># <a href="https://stackoverflow.com/questions/16578465/on-osx-using-sourcetree-git-svn-getting-cant-locate-svn-core-pm-in-inc" target="_blank" rel="noopener">On OSX using sourcetree / git-svn getting “Can’t locate SVN/Core.pm in @INC ”</a></h3><p>解决方法，实测有效：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /Library/Developer/CommandLineTools/Library/Perl/<span class="number">5.18</span>/darwin-thread-multi-<span class="number">2</span>level/SVN /Applications/SourceTree.app/Contents/Resources/git_local/<span class="class"><span class="keyword">lib</span>/<span class="title">perl5</span>/<span class="title">site_perl</span>/5.18.2/<span class="title">darwin</span>-<span class="title">thread</span>-<span class="title">multi</span>-2<span class="title">level</span>/<span class="title">SVN</span></span></span><br><span class="line">sudo ln -s /Library/Developer/CommandLineTools/Library/Perl/<span class="number">5.18</span>/darwin-thread-multi-<span class="number">2</span>level/auto/SVN /Applications/SourceTree.app/Contents/Resources/git_local/<span class="class"><span class="keyword">lib</span>/<span class="title">perl5</span>/<span class="title">site_perl</span>/5.18.2/<span class="title">darwin</span>-<span class="title">thread</span>-<span class="title">multi</span>-2<span class="title">level</span>/<span class="title">auto</span>/<span class="title">SVN</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ul>
<li><a href="http://www.cnblogs.com/mjios/archive/2013/03/10/2952258.html" target="_blank" rel="noopener">Mac环境下svn的使用</a>（阅读难度：★）</li>
<li><a href="http://www.cocoachina.com/ios/20101201/2419.html" target="_blank" rel="noopener"><del>在Mac OS X下架设和使用Xcode的SVN版本管理环境</del></a> （阅读难度：★）</li>
<li><a href="http://www.jianshu.com/p/66f085556fb2" target="_blank" rel="noopener">iOS 版本控制_ SVN / Mac 环境下 svn 的使用</a> （阅读难度：★★）</li>
<li><a href="http://www.oschina.net/news/12542/git-and-svn" target="_blank" rel="noopener">GIT和SVN之间的五个基本区别</a>（阅读难度：★★★★）</li>
<li><a href="http://blog.devzeng.com/blog/ios-development-by-using-svn.html" target="_blank" rel="noopener">iOS开发中SVN管理工具的使用</a><br>[图片上传失败…(image-28238b-1517827465013)]</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/23/Charles/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/23/Charles/" class="post-title-link" itemprop="url">Charles</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-23 10:47:00" itemprop="dateCreated datePublished" datetime="2016-11-23T10:47:00+08:00">2016-11-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 09:36:24" itemprop="dateModified" datetime="2019-04-18T09:36:24+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/23/Charles/" class="leancloud_visitors" data-flag-title="Charles">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p>最近在学习<a href="https://www.charlesproxy.com" target="_blank" rel="noopener">Charles</a>网络封包分析工具的使用。</p>
<h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ul>
<li><a href="http://blog.devtang.com/2015/11/14/charles-introduction/#u622A_u53D6_iPhone__u4E0A_u7684_u7F51_u7EDC_u5C01_u5305" target="_blank" rel="noopener">唐巧的技术博客：Charles 从入门到精通</a>（阅读难度：★★★）</li>
<li><a href="http://www.yangshebing.com/2016/11/13/iOS开发抓包工具之Charles使用/" target="_blank" rel="noopener">杨社兵的技术博客:iOS开发抓包工具之Charles使用</a>（阅读难度：★★★）</li>
</ul>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><strong>Charles</strong> 是在Mac下常用的截取网络封包的工具，在做iOS开发时，我们为了调试与服务器端的网络通讯协议，常常需要截取网络封包来分析。<strong>Charles</strong> 通过将自己设置成系统的网络访问代理服务器，使得所有的网络访问请求都通过它来完成，从而实现了网络封包的截取和分析。</p>
<h3 id="Charles-主要的功能包括："><a href="#Charles-主要的功能包括：" class="headerlink" title="Charles 主要的功能包括："></a><strong>Charles</strong> 主要的功能包括：</h3><ul>
<li>支持SSL代理。可以截取分析SSL的请求。</li>
<li>支持流量控制。可以模拟慢速网络以及等待时间（latency）较长的请求。</li>
<li>支持AJAX调试。可以自动将json或xml数据格式化，方便查看。</li>
<li>支持AMF调试。可以将Flash Remoting 或 Flex Remoting信息格式化，方便查看。</li>
<li>支持重发网络请求，方便后端调试。</li>
<li>支持修改网络请求参数。</li>
<li>支持网络请求的截获并动态修改。</li>
<li>检查HTML，CSS和RSS内容是否符合W3C标准。</li>
</ul>
<p>参考的唐巧的这篇技术博客写的很详细，目前也是完全够用了。   </p>
<p>iPhone设置代理后无法被<strong>Charles</strong>抓包的解决方法：Mac使用网线连接互联网（而不是WiFi）。<br>参考：<a href="http://mrljdx.com/2016/06/16/连接同一wifi配置Charles代理的问题/?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">连接同一wifi配置Charles代理的问题</a>。</p>
<p><img src="http://25.io/smaller/favicon.ico" alt="未完待续..." title="Title here"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/11/18/iOS 编程：Archive保存、读取与应用状态、沙盒机制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/18/iOS 编程：Archive保存、读取与应用状态、沙盒机制/" class="post-title-link" itemprop="url">iOS 编程：Archive保存、读取与应用状态、沙盒机制</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-18 10:27:00" itemprop="dateCreated datePublished" datetime="2016-11-18T10:27:00+08:00">2016-11-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-17 16:56:13" itemprop="dateModified" datetime="2019-04-17T16:56:13+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/11/18/iOS 编程：Archive保存、读取与应用状态、沙盒机制/" class="leancloud_visitors" data-flag-title="iOS 编程：Archive保存、读取与应用状态、沙盒机制">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="保存和读取数据的机制"><a href="#保存和读取数据的机制" class="headerlink" title="保存和读取数据的机制"></a>保存和读取数据的机制</h1><p>在之前写的Homeowner基础上更新，<strong>通过固化来保存和读取模型对象</strong>，当用户重新运行Homeowner应用时，可以读取之前创建并保存的模型对象。</p>
<p>之前的应用：<a href="http://www.jianshu.com/p/08d097e17a25" target="_blank" rel="noopener">《iOS编程（第四版）》Demo8：Homeowner</a></p>
<p>##固化机制<br><strong>固化</strong> 是由iOS SDK提供的一种保存和读取对象的机制。当应用固化某个对象时，会将该对象的所有属性存入指定的文件夹。当应用解固某个对象时，会从指定的文件读取相应的数据，然后根据数据还原对象。<br>为了固化或解固某个对象，相应对象的类必须遵守 <strong>NSCoding</strong> 协议，并实现两个必须方法：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">NSCoding</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)encodeWithCoder:(<span class="built_in">NSCoder</span> *)aCoder;</span><br><span class="line">- (<span class="keyword">nullable</span> <span class="keyword">instancetype</span>)initWithCoder:(<span class="built_in">NSCoder</span> *)aDecoder; <span class="comment">// NS_DESIGNATED_INITIALIZER</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在Item.m中实现 <strong>NSCoding</strong> 协议：</li>
</ul>
<p>固化：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) <span class="string">encodeWithCoder:</span>(NSCoder *)aCoder &#123;</span><br><span class="line">    [aCoder <span class="string">encodeObject :</span>self.itemName       <span class="string">forKey      :</span>@<span class="string">"itemName"</span>];</span><br><span class="line">    [aCoder <span class="string">encodeObject :</span>self.serialNumber   <span class="string">forKey  :</span>@<span class="string">"serialNumber"</span>];</span><br><span class="line">    [aCoder <span class="string">encodeObject :</span>self.dateCreated    <span class="string">forKey   :</span>@<span class="string">"dateCreated"</span>];</span><br><span class="line">    [aCoder <span class="string">encodeObject :</span>self.itemKey        <span class="string">forKey       :</span>@<span class="string">"itemKey"</span>];</span><br><span class="line">    [aCoder <span class="string">encodeInt    :</span>self.valueInDollars <span class="string">forKey:</span>@<span class="string">"valueInDollars"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解固：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (instancetype) <span class="string">initWithCoder:</span>(NSCoder *)aDecoder &#123;</span><br><span class="line">    self = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (self) &#123;</span><br><span class="line">        _itemName       = [aDecoder <span class="string">decodeObjectForKey     :</span>@<span class="string">"itemName"</span>];</span><br><span class="line">        _serialNumber   = [aDecoder <span class="string">decodeObjectForKey :</span>@<span class="string">"serialNumber"</span>];</span><br><span class="line">        _dateCreated    = [aDecoder <span class="string">decodeObjectForKey  :</span>@<span class="string">"dateCreated"</span>];</span><br><span class="line">        _itemKey        = [aDecoder <span class="string">decodeObjectForKey      :</span>@<span class="string">"itemKey"</span>];</span><br><span class="line">        _valueInDollars = [aDecoder <span class="string">decodeIntForKey  :</span>@<span class="string">"valueInDollars"</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> self;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="应用沙盒机制"><a href="#应用沙盒机制" class="headerlink" title="应用沙盒机制"></a>应用沙盒机制</h2><ul>
<li><a href="http://www.jianshu.com/p/a30ae4746aca" target="_blank" rel="noopener">APP的沙盒文档结构</a><br>每个iOS应用都有自己专属的应用沙盒（sandbox）。应用沙盒就是文件系统中的目录，但是iOS系统会将每个应用的沙盒目录与文件系统的其他部分隔离。应用只能访问各自的沙盒。</li>
</ul>
<h3 id="应用沙盒目录"><a href="#应用沙盒目录" class="headerlink" title="应用沙盒目录"></a>应用沙盒目录</h3><ul>
<li><p>应用程序包（application bundle）<br>包含应用可执行文件和所有资源文件，例如NIB文件和图像文件。它是只读目录。</p>
</li>
<li><p>Doucments/<br>存放应用运行时生成的并且需要保留的数据。iTune或iCloud会在同步设备时备份该目录。当设备发生故障时，可以从iTunes或iCloud恢复该目录中的文件。例如，Homepwner应用可将用户所拥有的物品信息保存在Documents/中</p>
</li>
<li><p>Library/Caches/<br>存放应用运行时生成的需要保留的数据。与Documents/目录不同的是，iTunes或iCloud不会在同步设备时备份该目录。不备份缓存数据的主要原因是相关数据的体积可能会很大，从而延长同步设备所需的时间。如果数据源是在别处（例如web服务器），就可以将得到的数据保存在Library/Caches/目录。当用户需要恢复设备时，相关的应用只需要从数据源（例如web服务器）再次获取数据即可。</p>
</li>
<li><p>Library/Preferences/<br>存放所有的偏好设置，iOS的设置（Setting）应用也会在该目录中查找应用的设置信息。使用<strong>NSUserDefaults</strong>类，可以通过Library/Preferences/目录中的某个特定文件以键值对形式保存数据。iTunes或iCloud会在同步设备时备份该目录。</p>
</li>
<li><p>tmp/<br>存放应用运行时所需的临时数据。当某个应用没有运行时，iOS系统可能会清除该应用的 tmp/ 目录下的文件，但是为了节约用户设备空间，不能依赖这种自动清除机制，而是当应用不再需要使用 tmp/ 目录中的文件时，就及时手动删除这写文件。iTune或iCloud不会在同步设备时备份 tmp/ 目录。通过 <code>NSTemporaryDirectory</code> 函数可以得到应用沙盒中的 tmp/ 目录的全路径。</p>
</li>
</ul>
<h2 id="获取文件路径"><a href="#获取文件路径" class="headerlink" title="获取文件路径"></a>获取文件路径</h2><p>在实现保存和读取模型对象的功能之前，需要先获取相应文件的全路径（Doucments/）</p>
<p>在HQLItemStore.m中编写一个实现获取路径的方法：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *) itemArchivePath &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//NSSearchPathForDirectoriesInDomains：获取沙盒中某种目录的全路径</span></span><br><span class="line">    <span class="comment">//注意第一个参数是NSDocumentDirectory而不是NSDocumentationDirectory</span></span><br><span class="line">    <span class="built_in">NSArray</span> *documentDirectiorise = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line">    <span class="comment">//从documentDirectiorise数组获取第一个，也是唯一文档目录路径</span></span><br><span class="line">    <span class="built_in">NSString</span> *documentDirectiory = [documentDirectiorise firstObject];</span><br><span class="line">    <span class="keyword">return</span> [documentDirectiory stringByAppendingPathComponent:<span class="string">@"items.archive"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>啰嗦一下：<br>这里是用的 HQLItemStore 仓库类来统一管理 Item，因此这个获取路径的方法使用的是 <strong>实例方法</strong>，嗯，并没有任何问题。<br>试想，如果有一个App需要保存用户账户信息，而且一个 App 就只有一条用户信息，于是我们就把这个管理用户账户的 <strong>Person</strong> 类设置为单例类，但是却没有必要创建仓库类了，因为就只有一条用户信息嘛，于是获取沙盒路径的方法也这样写？写在 <strong>Person</strong> 类里面？也写成实例方法？可能就有点问题了。</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单例类方法</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)sharedUser&#123;</span><br><span class="line">    <span class="keyword">static</span> Person *sharedUser = <span class="literal">nil</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</span><br><span class="line">        <span class="comment">// 根据路径载入固化文件</span></span><br><span class="line">        <span class="built_in">NSString</span> *path = [<span class="keyword">self</span> itemArchivePath];</span><br><span class="line">       <span class="comment">// ToDo</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> sharedUser;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为当从文件中解固之前要获取对象，对象还没有创建，先要得到路径，怎么能用实例化方法呢？</p>
<ul>
<li>解决方法是使用 C 函数:<br>头文件声明：</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明辅助函数，用于返回文件路径</span></span><br><span class="line"><span class="function">NSString *<span class="title">docPath</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<p>实现文件：<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 辅助函数</span></span><br><span class="line"><span class="built_in">NSString</span> *docPath() &#123;</span><br><span class="line">    <span class="built_in">NSArray</span> *documentDirectories = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line">    <span class="built_in">NSString</span> *documentDirectory = [documentDirectories firstObject];</span><br><span class="line">    <span class="keyword">return</span> [documentDirectory stringByAppendingPathComponent:<span class="string">@"user.archive"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>调用：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person *<span class="keyword">user</span> <span class="title">= [NSKeyedUnarchiver</span> unarchiveObjectWithFile:docPath()];</span><br></pre></td></tr></table></figure>
<h2 id="NSKeyedArchiver与NSKeyedUnarchiver"><a href="#NSKeyedArchiver与NSKeyedUnarchiver" class="headerlink" title="NSKeyedArchiver与NSKeyedUnarchiver"></a>NSKeyedArchiver与NSKeyedUnarchiver</h2><h3 id="应用退出前保存数据"><a href="#应用退出前保存数据" class="headerlink" title="应用退出前保存数据"></a>应用退出前保存数据</h3><p>Homepwner应用在退出（exit）时，通过NSKeyedArchiver类保存Item模型对象。</p>
<ul>
<li>在<strong>HQLItemStore.h</strong>中声明一个用于保存数据的新方法：  <figure class="highlight plain"><figcaption><span>(BOOL) saveChanges;```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 在HQLItemStore.m中实现该方法：</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>(BOOL) saveChanges{<br>  //获取文件路径<br>  NSString *path = [self itemArchivePath];<br>  //如果固话成功就返回YES<br>  return [NSKeyedArchiver archiveRootObject:self.privateItems toFile:path];<br>}</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">* </span>在*<span class="strong">*AppDelegate.m*</span><span class="strong">*顶部导入*</span><span class="strong">*HQLItemStore.h*</span><span class="strong">*，然后实现</span></span><br><span class="line"><span class="strong">```- (void)applicationDidEnterBackground:```方法,使用此方法可以释放共享资源，保存用户数据，使计时器无效，并且当应用停止运行时存储足够的应用程序状态信息以将应用程序恢复到其之前状态。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>(void)applicationDidEnterBackground:(UIApplication *)application {</p>
<p>  //保存用户数据<br>  BOOL success = [[HQLItemStore sharedStore] saveChanges];<br>  if (success) {</p>
<pre><code>NSLog(@&quot;Saved all of the HQLItem&quot;);
</code></pre><p>  }else {</p>
<pre><code>NSLog(@&quot;Could not save any of the HQLItem&quot;);
</code></pre><p>  }<br>}</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">### 应用打开前读取数据</span><br><span class="line">为了能在Homepwner启动时载入之前保存的全部Item对象，需要在创建Itemstore对象时使用*<span class="strong">*NSKeyedUnarchiver*</span><span class="strong">*类。</span></span><br><span class="line"><span class="strong">在*</span><span class="strong">*HQLItemStore.m*</span><span class="strong">*中，修改初始化方法：</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>//这是真正的（私有的）初始化方法</p>
<ul>
<li><p>(instancetype)initPrivate {<br>  self = [super init];<br>  //父类的init方法是否成功创建了对象<br>  if (self) {</p>
<pre><code>//载入之前保存的全部HQLItem对象
NSString *path = [self itemArchivePath];
//根据路径载入固化文件
_privateItems = [NSKeyedUnarchiver unarchiveObjectWithFile:path];
//如果之前没有保存过_privateItems，就创建一个新的
if (!_privateItems) {
    _privateItems = [[NSMutableArray alloc] init];
}
</code></pre><p>  }</p>
<p>  return self;<br>}<br><code>`</code></p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/27/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><span class="page-number current">28</span><a class="page-number" href="/page/29/">29</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/29/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg" alt="独木舟的木">
            
              <p class="site-author-name" itemprop="name">独木舟的木</p>
              <div class="site-description motion-element" itemprop="description">有时候阳光很好 有时候阳光很暗</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">314</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">38</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Andy0570" title="GitHub &rarr; https://github.com/Andy0570" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:andywhm@163.com" title="E-Mail &rarr; mailto:andywhm@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">独木舟的木</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





  



  






  



  
    
    
      
    
  
  <script color="17,119,176" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script>













  
  <script src="//cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  
  
  
    
  

  
    
      
    
  

  
  
  
    <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
    <script>
      
        window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://andy0570.com/page/28/',]
        });
      
        });
      
    </script>
  


  



  



  
  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">

  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js"></script>
  

  <script src="/js/algolia-search.js?v=7.1.0"></script>



  
  
  <script>
    
    function showTime(Counter) {
      var entries = [];
      var $visitors = $('.leancloud_visitors');

      $visitors.each(function() {
        entries.push( $(this).attr('id').trim() );
      });

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url: { '$in': entries } }) })
        .done(function({ results }) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz',
                'X-LC-Key': 'brOnU8mOQvSjpipJvdKUAIbU',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            if ($('.post-title-link').length >= 1) {
              showTime(Counter);
            }
          
        });
    });
  </script>



  

  

  

  

  

  

  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script>pangu.spacingPage();</script>


  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script>
  <script>
  
    bookmark.loadBookmark();
  
  </script>


  

  

  


  <!-- red heart -->
  <script type="text/javascript" src="/js/src/love.js"></script>
  
</body>
</html>

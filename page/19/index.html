<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">



  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css">













  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">







  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/panda/apple-touch-icon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/panda/favicon-32x32.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/panda/favicon-16x16.png?v=7.1.0">


  <link rel="mask-icon" href="/images/panda/safari-pinned-tab.svg?v=7.1.0" color="#222">


  <link rel="manifest" href="/images/panda/site.webmanifest">


  <meta name="msapplication-config" content="/images/panda/browserconfig.xml">





<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: true,
    lazyload: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="有时候阳光很好 有时候阳光很暗">
<meta name="keywords" content="独木舟的木">
<meta property="og:type" content="website">
<meta property="og:title" content="独木舟的木">
<meta property="og:url" content="https://andy0570.com/page/19/index.html">
<meta property="og:site_name" content="独木舟的木">
<meta property="og:description" content="有时候阳光很好 有时候阳光很暗">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="独木舟的木">
<meta name="twitter:description" content="有时候阳光很好 有时候阳光很暗">



  <link rel="alternate" href="/atom.xml" title="独木舟的木" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://andy0570.com/page/19/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>独木舟的木</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8229a094facca297f211d61323fd9fde";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/andy0570" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">独木舟的木</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">iOS Developer</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">14</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">39</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">314</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/28/Chameleon——轻量级 iOS 颜色框架/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/28/Chameleon——轻量级 iOS 颜色框架/" class="post-title-link" itemprop="url">Chameleon——轻量级 iOS 颜色框架</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-28 15:49:00" itemprop="dateCreated datePublished" datetime="2017-06-28T15:49:00+08:00">2017-06-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:08:02" itemprop="dateModified" datetime="2019-04-18T01:08:02+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/28/Chameleon——轻量级 iOS 颜色框架/" class="leancloud_visitors" data-flag-title="Chameleon——轻量级 iOS 颜色框架">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<ul>
<li>GitHub地址：<a href="https://github.com/ViccAlexander/Chameleon" target="_blank" rel="noopener">chameleon</a></li>
<li>star: 9400+</li>
</ul>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-c080748897b5bfc5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Chameleon by Vicc Alexander"></p>
<h2 id="Swift-3"><a href="#Swift-3" class="headerlink" title="Swift 3"></a>Swift 3</h2><p>To use the Swift 3 version, add this to your Podfile (until 2.2 or higher is released):<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">'ChameleonFramework/Swift'</span>, <span class="symbol">:git</span> =&gt; <span class="string">'https://github.com/ViccAlexander/Chameleon.git'</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Introduction-介绍"><a href="#Introduction-介绍" class="headerlink" title="Introduction 介绍"></a>Introduction 介绍</h2><p><strong>Chameleon</strong> is a lightweight, yet powerful, color framework for iOS (Objective-C &amp; Swift). It is built on the idea that software applications should function effortlessly while simultaneously maintaining their beautiful interfaces.</p>
<p>With Chameleon, you can easily stop tinkering with RGB values, wasting hours figuring out the right color combinations to use in your app, and worrying about whether your text will be readable on the various background colors of your app. </p>
<p><strong>Chameleon</strong> 是一个轻量却功能强大的 iOS （支持 Objective-C 和 Swift）颜色框架软件。它基于的理念是：软件应用程序应该可以不费力气且同时保持多个漂亮的界面。 </p>
<p>使用 Chameleon ，你不再需要调配 RGB 值，不用浪费时间去找你的 APP 合适的颜色组合，也不用担心你 APP 的文字是否能在不同背景色上可读。</p>
<h3 id="Features-特性"><a href="#Features-特性" class="headerlink" title="Features 特性"></a>Features 特性</h3><p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-eaea8a8c44e846ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Features"></p>
<h3 id="App-Showcase-应用程序展示"><a href="#App-Showcase-应用程序展示" class="headerlink" title="App Showcase 应用程序展示"></a>App Showcase 应用程序展示</h3><h6 id="In-an-upcoming-update-we’ll-begin-showcasing-some-of-the-best-apps-and-companies-making-use-of-Chameleon-If-you’d-like-to-see-your-app-featured-in-this-section-make-sure-to-add-it-here"><a href="#In-an-upcoming-update-we’ll-begin-showcasing-some-of-the-best-apps-and-companies-making-use-of-Chameleon-If-you’d-like-to-see-your-app-featured-in-this-section-make-sure-to-add-it-here" class="headerlink" title="In an upcoming update we’ll begin showcasing some of the best apps and companies making use of Chameleon. If you’d like to see your app featured in this section, make sure to add it here."></a>In an upcoming update we’ll begin showcasing some of the best apps and companies making use of Chameleon. If you’d like to see your app featured in this section, make sure to add it <a href="https://airtable.com/shrr1WK6dLQBZfXV0" target="_blank" rel="noopener">here</a>.</h6><h2 id="Table-of-Contents-目录"><a href="#Table-of-Contents-目录" class="headerlink" title="Table of Contents 目录"></a>Table of Contents 目录</h2><p><a href="https://github.com/ViccAlexander/Chameleon#-product-features" target="_blank" rel="noopener">● Product Features</a><br><a href="https://github.com/ViccAlexander/Chameleon#%EF%B8%8F-requirements" target="_blank" rel="noopener">● Requirements</a><br><a href="https://github.com/ViccAlexander/Chameleon#-license" target="_blank" rel="noopener">● License</a><br><a href="https://github.com/ViccAlexander/Chameleon#-contributions" target="_blank" rel="noopener">● Contributions</a><br><a href="https://github.com/ViccAlexander/Chameleon#-documentation" target="_blank" rel="noopener">● Documentation</a><br><a href="https://github.com/ViccAlexander/Chameleon#storyboard-add-on" target="_blank" rel="noopener">● Storyboard Add-On</a><br><a href="https://github.com/ViccAlexander/Chameleon#-author" target="_blank" rel="noopener">● Author</a><br><a href="https://github.com/ViccAlexander/Chameleon#-to-do-list" target="_blank" rel="noopener">● To Do List</a><br><a href="https://github.com/ViccAlexander/Chameleon#-change-log" target="_blank" rel="noopener">● Change Log</a>  </p>
<h2 id="🌟-Product-Features-特性"><a href="#🌟-Product-Features-特性" class="headerlink" title="🌟 Product Features 特性"></a>🌟 Product Features 特性</h2><h3 id="100-Flat-amp-Gorgeous"><a href="#100-Flat-amp-Gorgeous" class="headerlink" title="100% Flat &amp; Gorgeous"></a>100% Flat &amp; Gorgeous</h3><p>Chameleon features over 24 hand-picked colors that come in both light and dark shades. </p>
<p><strong>Chameleon</strong> 拥有超过24种手工选择的颜色，可以设置浅色和深色色调。</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-758b9db39d5e2421.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Swatches"></p>
<h3 id="Flat-Color-Schemes-扁平颜色方案"><a href="#Flat-Color-Schemes-扁平颜色方案" class="headerlink" title="Flat Color Schemes 扁平颜色方案"></a>Flat Color Schemes 扁平颜色方案</h3><p>Chameleon equips you with 3 different classes of flat color schemes that can be generated from a flat or non-flat color. <em>In the examples below, the white stars indicate the color used to generate the schemes.</em></p>
<p>Chameleon 配备3种不同类型的平面颜色方案，可以从扁平或非扁平颜色生成。 <em>在下面的示例中，白色星星表示用于生成方案的颜色</em>。</p>
<h6 id="Analogous-Flat-Color-Scheme-类似扁平颜色方案"><a href="#Analogous-Flat-Color-Scheme-类似扁平颜色方案" class="headerlink" title="Analogous Flat Color Scheme 类似扁平颜色方案"></a>Analogous Flat Color Scheme 类似扁平颜色方案</h6><p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-0f42a0b2380a7994.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Analogous Scheme"></p>
<h6 id="Complementary-Flat-Color-Scheme-互补扁平颜色方案"><a href="#Complementary-Flat-Color-Scheme-互补扁平颜色方案" class="headerlink" title="Complementary Flat Color Scheme 互补扁平颜色方案"></a>Complementary Flat Color Scheme 互补扁平颜色方案</h6><p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-7bf5b646a3314b1c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Complementary Scheme"></p>
<h6 id="Triadic-Flat-Color-Scheme-三元群扁平颜色方案"><a href="#Triadic-Flat-Color-Scheme-三元群扁平颜色方案" class="headerlink" title="Triadic Flat Color Scheme 三元群扁平颜色方案"></a>Triadic Flat Color Scheme 三元群扁平颜色方案</h6><p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-94e30db60a7c5441.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Triadic Scheme"></p>
<h3 id="Contrasting-Text-对比文本"><a href="#Contrasting-Text-对比文本" class="headerlink" title="Contrasting Text 对比文本"></a>Contrasting Text 对比文本</h3><p>With a plethora of color choices available for text, it’s difficult to choose one that all users will appreciate and be able to read. Whether you’re in doubt of your text and tint color choices, or afraid to let users customize their profile colors because it may disturb the legibility or usability of the app, you no longer have to worry. With Chameleon, you can ensure that all text stands out independent of the background color.</p>
<p>Oh… Chameleon works with the status bar as well. : )</p>
<p>随着文字的色彩选择过多，很难选择所有用户将会欣赏并能够阅读的颜色。 无论您是否怀疑您的文字和色彩的颜色选择，或害怕让用户自定义自己的个人资料颜色，因为它可能会打扰应用程序的易读性或可用性，您不用担心。 使用 Chameleon，您可以确保所有文本独立于背景颜色。</p>
<p>哦，Chameleon 还可以与状态栏一起工作。 ：）</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-9c9df5c74a8c163c?imageMogr2/auto-orient/strip" alt="Status Bar"></p>
<h3 id="Themes-主题"><a href="#Themes-主题" class="headerlink" title="Themes  主题"></a>Themes <img src="http://upload-images.jianshu.io/upload_images/2648731-826418f2ebe45b75.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Beta"> 主题</h3><p>Chameleon now allows you easily theme your app with as little as <strong>one line of code</strong>. You can set a theme for all your views, and for specific views as well.</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-ea155f2fd3a808b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Themes"></p>
<h3 id="Colors-From-Images-从图片中生成颜色"><a href="#Colors-From-Images-从图片中生成颜色" class="headerlink" title="Colors From Images 从图片中生成颜色"></a>Colors From Images 从图片中生成颜色</h3><p>Chameleon allows you to seamlessly extract non-flat or flat color schemes from images without hassle. You can also generate the average color from an image with ease. You can now mold the UI colors of a profile, or product based on an image!</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-f39ff74980c152cb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Colors from images"></p>
<h3 id="Gradient-Colors-渐变色"><a href="#Gradient-Colors-渐变色" class="headerlink" title="Gradient Colors 渐变色"></a>Gradient Colors 渐变色</h3><p>With iOS 7 &amp; 8, Apple mainstreamed flat colors. Now, with the release of iOS 9, Chameleon strives to elevate the game once more. Say hello to gradient colors. Using one line of code, you can easily set any object’s color properties to a gradient (background colors, text colors, tint colors, etc). Other features, like Chameleon’s contrasting feature, can also be applied to create a seamless product. Experimentation is encouraged, and gutsiness is applauded!</p>
<p>随着iOS 7和8的发布，苹果推崇扁平色。 现在，随着iOS 9的发布，变色龙致力于提升游戏次数。 对渐变颜色问好。 使用一行代码，您可以轻松地将任何对象的颜色属性设置为渐变（背景颜色，文本颜色，色调颜色等）。 其他功能，如变色龙的对比功能，也可以应用于创建一个无缝的产品。 鼓励实验，鼓掌！</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-4b352ad2a979c0a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Gradients"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-00e449854161eaf2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="Xcode-Quick-Help-Documentation-Xcode-快速帮助文档"><a href="#Xcode-Quick-Help-Documentation-Xcode-快速帮助文档" class="headerlink" title="Xcode Quick Help Documentation Xcode 快速帮助文档"></a>Xcode Quick Help Documentation Xcode 快速帮助文档</h3><p>Chameleon’s documentation, while written as clearly and concisely as possible may still render some slightly confused. But don’t fret! Staying true to our vision of simplifying the entire color process, we added Xcode Quick Help’s Documentation Support! Simply highlight a Chameleon method or tap it with three fingers to find out more about what it is and what it does!</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-59ba5d57a76e9355.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Xcode Quick Help Documentation"></p>
<h3 id="Palettes-调色板"><a href="#Palettes-调色板" class="headerlink" title="Palettes 调色板"></a>Palettes 调色板</h3><p>If you’re like us and love to use storyboards, Chameleon’s got you covered. We’ve provided you with a quick and easy way to access Chameleon colors right from Storyboard, and any other app that uses the color picker (i.e. TextEdit). In addition you can even import the palette directly into Photoshop Android Ske</p>
<p>如果你像我们一样喜欢使用 storyboards，变色龙的让你得到了保护。 我们为您提供了一个快速简单的方法来从storyboards 和任何其他使用颜色选择器（即TextEdit）的应用程序访问Chameleon颜色。 此外，您甚至可以将调色板直接导入 <strong>Photoshop</strong> 和 <strong>Sketch</strong> 。</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-83518e00c70dcc56.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Chameleon Palette"></p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-a944a9fecbc42a29.gif?imageMogr2/auto-orient/strip" alt="Chameleon Palette"></p>
<h2 id="⚠️-Requirements-最低配置需求"><a href="#⚠️-Requirements-最低配置需求" class="headerlink" title="⚠️ Requirements 最低配置需求"></a>⚠️ Requirements 最低配置需求</h2><ul>
<li>Objective-C or Swift</li>
<li>Requires a minimum of iOS 7.0 for Objective-C (No active development for anything earlier, but may work with 6.0) and a minimum of iOS 8.0 for Swift.</li>
<li>Requires Xcode 6.3 for use in any iOS Project</li>
</ul>
<h2 id="🔑-License"><a href="#🔑-License" class="headerlink" title="🔑 License"></a>🔑 License</h2><p>Chameleon is released and distributed under the terms and conditions of the <a href="https://github.com/ViccAlexander/Chameleon/blob/master/LICENSE.md" target="_blank" rel="noopener">MIT license</a>.</p>
<h2 id="👥-Contributions"><a href="#👥-Contributions" class="headerlink" title="👥 Contributions"></a>👥 Contributions</h2><p>If you run into problems, please open up an issue. We also actively welcome pull requests. By contributing to Chameleon you agree that your contributions will be licensed under its MIT license.</p>
<p>If you use Chameleon in your app we would love to hear about it! Drop Vicc a line on <a href="http://twitter.com/viccsmind" target="_blank" rel="noopener">twitter</a>.</p>
<h2 id="📗-Documentation-文档"><a href="#📗-Documentation-文档" class="headerlink" title="📗 Documentation 文档"></a>📗 Documentation 文档</h2><p>All methods, properties, and types available in Chameleon are documented below.   </p>
<h5 id="Documentation-Table-of-Contents"><a href="#Documentation-Table-of-Contents" class="headerlink" title="Documentation Table of Contents"></a>Documentation Table of Contents</h5><p><a href="https://github.com/ViccAlexander/Chameleon#installation" target="_blank" rel="noopener">● Installation</a><br><a href="https://github.com/ViccAlexander/Chameleon#palettes" target="_blank" rel="noopener">● Palettes</a><br><a href="https://github.com/ViccAlexander/Chameleon#usage" target="_blank" rel="noopener">● Usage</a><br><a href="https://github.com/ViccAlexander/Chameleon#uicolor-methods" target="_blank" rel="noopener">● UIColor Methods</a><br><a href="https://github.com/ViccAlexander/Chameleon#colors-from-images" target="_blank" rel="noopener">● Colors From Images</a><br><a href="https://github.com/ViccAlexander/Chameleon#uistatusbarstyle-methods" target="_blank" rel="noopener">● UIStatusBarStyle Methods</a><br><a href="https://github.com/ViccAlexander/Chameleon#color-schemes-methods" target="_blank" rel="noopener">● Color Scheme Methods</a><br><a href="https://github.com/ViccAlexander/Chameleon#theme-methods" target="_blank" rel="noopener">● Theme Methods</a>  </p>
<h3 id="Installation-安装"><a href="#Installation-安装" class="headerlink" title="Installation 安装"></a>Installation 安装</h3><h6 id="Note-Swift-3-version-maintained-in-a-separate-branch-until-it’s-release"><a href="#Note-Swift-3-version-maintained-in-a-separate-branch-until-it’s-release" class="headerlink" title="Note: Swift 3 version maintained in a separate branch until it’s release."></a>Note: Swift 3 version maintained in a separate branch until it’s release.</h6><h4 id="CocoaPods-Installation"><a href="#CocoaPods-Installation" class="headerlink" title="CocoaPods Installation"></a>CocoaPods Installation</h4><p>Chameleon is now available on <a href="http://cocoapods.org" target="_blank" rel="noopener">CocoaPods</a>. Simply add the following to your project Podfile, and you’ll be good to go.</p>
<h6 id="Objective-C"><a href="#Objective-C" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use_frameworks!</span><br><span class="line"></span><br><span class="line">pod <span class="string">'ChameleonFramework'</span></span><br></pre></td></tr></table></figure>
<h6 id="Swift"><a href="#Swift" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use_frameworks!</span><br><span class="line"></span><br><span class="line">pod <span class="string">'ChameleonFramework/Swift'</span></span><br></pre></td></tr></table></figure>
<p>=======</p>
<h4 id="Carthage-Installation"><a href="#Carthage-Installation" class="headerlink" title="Carthage Installation"></a>Carthage Installation</h4><p>Add this to your Cartfile:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">github <span class="string">"ViccAlexander/Chameleon"</span></span><br></pre></td></tr></table></figure></p>
<p>=======</p>
<h4 id="Manual-Installation"><a href="#Manual-Installation" class="headerlink" title="Manual Installation"></a>Manual Installation</h4><p>If you rather install this framework manually, just drag and drop the Chameleon folder into your project, and make sure you check the following boxes. Note: Don’t forget to manually import the <em>QuartzCore</em> &amp; <em>CoreGraphics</em> framework if you plan on using gradient colors!</p>
<p align="center"><br>  <img src="http://upload-images.jianshu.io/upload_images/2648731-6800ba32fe19819f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Manual Installation"><br></p>

<p>If you’re working with Swift and are manually installing Chameleon, there’s an additional step. Make sure to download and drag the following file, <a href="https://github.com/ViccAlexander/Chameleon/blob/master/Pod/Classes/Swift/ChameleonShorthand.swift" target="_blank" rel="noopener">ChameleonShorthand.swift</a>, into your project, and you’ll be good to go.</p>
<h3 id="Palettes-调色板-1"><a href="#Palettes-调色板-1" class="headerlink" title="Palettes 调色板"></a>Palettes 调色板</h3><h4 id="Storyboard-Add-On-添加到-Storyboard"><a href="#Storyboard-Add-On-添加到-Storyboard" class="headerlink" title="Storyboard Add-On 添加到 Storyboard"></a>Storyboard Add-On 添加到 Storyboard</h4><p>Using Chameleon’s awesome palette in Storyboard is easy! Simply download and install <a href="https://github.com/ViccAlexander/Chameleon/blob/master/Extras/Chameleon.dmg?raw=true" target="_blank" rel="noopener">Chameleon Palette</a>.</p>
<p>Once installed, make sure to restart Xcode. You’ll find all of Chameleon’s colors in the Palette Color Picker whenever they’re needed! :)</p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-fbc8d5402b3e5e6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Chameleon Palette"></p>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-a944a9fecbc42a29.gif?imageMogr2/auto-orient/strip" alt="Chameleon Palette"></p>
<h4 id="Photoshop-Add-On-添加到-Photoshop"><a href="#Photoshop-Add-On-添加到-Photoshop" class="headerlink" title="Photoshop Add-On 添加到 Photoshop"></a>Photoshop Add-On 添加到 Photoshop</h4><p>Using Chameleon’s awesome palette in Sketch is easy! Simply download and install <a href="https://github.com/ViccAlexander/Chameleon/blob/master/Extras/Chameleon_Photoshop.aco?raw=true" target="_blank" rel="noopener">Photoshop Palette</a>.</p>
<h4 id="Sketch-Add-On-添加到-Sketch"><a href="#Sketch-Add-On-添加到-Sketch" class="headerlink" title="Sketch Add-On 添加到 Sketch"></a>Sketch Add-On 添加到 Sketch</h4><p>Using Chameleon’s awesome palette in Sketch is easy! Simply download and install <a href="https://github.com/ViccAlexander/Chameleon/blob/master/Extras/Chameleon.sketchpalette?raw=true" target="_blank" rel="noopener">Sketch Palette</a>.</p>
<h3 id="Usage-使用"><a href="#Usage-使用" class="headerlink" title="Usage 使用"></a>Usage 使用</h3><p>To use the myriad of features in Chameleon, include the following import:</p>
<p>要使用 <strong>Chameleon</strong> 中的无数功能，请导入：</p>
<h6 id="If-you-installed-Chameleon-using-CocoaPods"><a href="#If-you-installed-Chameleon-using-CocoaPods" class="headerlink" title="If you installed Chameleon using CocoaPods:"></a>If you installed Chameleon using CocoaPods:</h6><h6 id="Objective-C-1"><a href="#Objective-C-1" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;ChameleonFramework/Chameleon.h&gt;</span><br></pre></td></tr></table></figure>
<h6 id="Swift-1"><a href="#Swift-1" class="headerlink" title="Swift:"></a>Swift:</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ChameleonFramework</span><br></pre></td></tr></table></figure>
<h6 id="If-you-installed-Chameleon-using-Carthage"><a href="#If-you-installed-Chameleon-using-Carthage" class="headerlink" title="If you installed Chameleon using Carthage:"></a>If you installed Chameleon using Carthage:</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Chameleon</span><br></pre></td></tr></table></figure>
<h6 id="If-you-installed-Chameleon-manually"><a href="#If-you-installed-Chameleon-manually" class="headerlink" title="If you installed Chameleon manually:"></a>If you installed Chameleon manually:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;Chameleon.h&quot;</span><br></pre></td></tr></table></figure>
<h3 id="UIColor-方法"><a href="#UIColor-方法" class="headerlink" title="UIColor 方法"></a>UIColor 方法</h3><p><a href="https://github.com/ViccAlexander/Chameleon#flat-colors" target="_blank" rel="noopener">● Flat Colors</a><br><a href="https://github.com/ViccAlexander/Chameleon#random-colors" target="_blank" rel="noopener">● Random Colors</a><br><a href="https://github.com/ViccAlexander/Chameleon#complementary-colors" target="_blank" rel="noopener">● Complementary Colors</a><br><a href="https://github.com/ViccAlexander/Chameleon#contrasting-colors" target="_blank" rel="noopener">● Contrasting Colors</a><br><a href="https://github.com/ViccAlexander/Chameleon#flattening-non-flat-colors" target="_blank" rel="noopener">● Flattening Non-Flat Colors</a><br><a href="https://github.com/ViccAlexander/Chameleon#gradient-colors-1" target="_blank" rel="noopener">● Gradient Colors</a><br><a href="https://github.com/ViccAlexander/Chameleon#hex-colors-" target="_blank" rel="noopener">● Hex Colors</a><br><a href="https://github.com/ViccAlexander/Chameleon#lighter-and-darker-colors-" target="_blank" rel="noopener">● Lighter &amp; Darker Colors</a></p>
<h4 id="Flat-Colors-扁平色"><a href="#Flat-Colors-扁平色" class="headerlink" title="Flat Colors 扁平色"></a>Flat Colors 扁平色</h4><p>Using a flat color is as easy as adding any other color in your app (if not easier). For example, to set a view’s background property to a flat color with a dark shade, you simply have to do the following:</p>
<p>使用扁平色与在应用中添加任何其他颜色一样简单（如果不容易）。 例如，要将视图的背景属性设置为带有阴影的平面颜色，您只需执行以下操作：</p>
<h5 id="Normal-Convention-正常语法"><a href="#Normal-Convention-正常语法" class="headerlink" title="Normal Convention: 正常语法"></a>Normal Convention: 正常语法</h5><h6 id="Objective-C-2"><a href="#Objective-C-2" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.view.backgroundColor = [UIColor flatGreenColorDark];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-2"><a href="#Swift-2" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.backgroundColor = <span class="type">UIColor</span>.flatGreenDark</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-速写语法"><a href="#Chameleon-Shorthand-速写语法" class="headerlink" title="Chameleon Shorthand: 速写语法"></a>Chameleon Shorthand: 速写语法</h5><h6 id="Objective-C-3"><a href="#Objective-C-3" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.view.backgroundColor = FlatGreenDark;</span><br></pre></td></tr></table></figure>
<h6 id="Swift-3"><a href="#Swift-3" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.backgroundColor = <span class="type">FlatGreenDark</span>()</span><br></pre></td></tr></table></figure>
<p>Setting the color for a light shade is the same, except without adding the <em>Dark</em> suffix. (By default, all colors without a <em>Dark</em> suffix are light shades). For example:</p>
<p>设置 light shade 颜色是一样的，除了不添加 <em>Dark</em> 后缀。 （默认情况下，所有没有 <em>Dark</em> 后缀的颜色都是浅色调）。 例如：</p>
<h5 id="Normal-Convention"><a href="#Normal-Convention" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-4"><a href="#Objective-C-4" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.view.backgroundColor = [UIColor flatGreenColor];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-4"><a href="#Swift-4" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.backgroundColor = <span class="type">UIColor</span>.flatGreen</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand"><a href="#Chameleon-Shorthand" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-5"><a href="#Objective-C-5" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.view.backgroundColor = FlatGreen;</span><br></pre></td></tr></table></figure>
<h6 id="Swift-5"><a href="#Swift-5" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.backgroundColor = <span class="type">FlatGreen</span>()</span><br></pre></td></tr></table></figure>
<h4 id="Random-Colors-随机色"><a href="#Random-Colors-随机色" class="headerlink" title="Random Colors 随机色"></a>Random Colors 随机色</h4><p>There are four ways to generate a random flat color. If you have no preference as to whether you want a light shade or a dark shade, you can do the following:</p>
<p>有四种方法来生成随机扁平色。 如果您没有偏好是否需要遮光或暗色，可以执行以下操作：</p>
<h5 id="Normal-Convention-1"><a href="#Normal-Convention-1" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-6"><a href="#Objective-C-6" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.view.backgroundColor = [UIColor randomFlatColor];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-6"><a href="#Swift-6" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.backgroundColor = <span class="type">UIColor</span>.randomFlat</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-1"><a href="#Chameleon-Shorthand-1" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-7"><a href="#Objective-C-7" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.view.backgroundColor = RandomFlatColor;</span><br></pre></td></tr></table></figure>
<h6 id="Swift-7"><a href="#Swift-7" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.backgroundColor = <span class="type">RandomFlatColor</span>()</span><br></pre></td></tr></table></figure>
<p>Otherwise, you can perform the following method call to specify whether it should return either a light or dark shade:</p>
<p>否则，您可以执行以下方法调用以指定是否应返回亮或暗的阴影：</p>
<h5 id="Normal-Convention-2"><a href="#Normal-Convention-2" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-8"><a href="#Objective-C-8" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithRandomFlatColorOfShadeStyle:UIShadeStyleLight];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-8"><a href="#Swift-8" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIColor</span>(randomFlatColorOfShadeStyle:.<span class="type">Light</span>)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-2"><a href="#Chameleon-Shorthand-2" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-9"><a href="#Objective-C-9" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RandomFlatColorWithShade(UIShadeStyleLight);</span><br></pre></td></tr></table></figure>
<h6 id="Swift-9"><a href="#Swift-9" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">RandomFlatColorWithShade</span>(.<span class="type">Light</span>)</span><br></pre></td></tr></table></figure>
<p><strong>UIShadeStyles:</strong>  </p>
<ul>
<li><code>UIShadeStyleLight</code> (<code>UIShadeStyle.Light</code> in Swift)</li>
<li><code>UIShadeStyleDark</code> (<code>UIShadeStyle.Dark</code> in Swift)</li>
</ul>
<h5 id="Choosing-A-Random-Color-From-a-List-of-Colors-从颜色列表中选择随机颜色"><a href="#Choosing-A-Random-Color-From-a-List-of-Colors-从颜色列表中选择随机颜色" class="headerlink" title="Choosing A Random Color From a List of Colors  从颜色列表中选择随机颜色"></a>Choosing A Random Color From a List of Colors <img src="http://upload-images.jianshu.io/upload_images/2648731-d0300b1ffed0b18a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="New"> 从颜色列表中选择随机颜色</h5><p>If you need to be a bit more selective and only display a random color from a set list of colors, you can use the following method:</p>
<p>如果您需要更有选择性，并且只能从设置的颜色列表中显示随机颜色，则可以使用以下方法：</p>
<h5 id="Normal-Convention-3"><a href="#Normal-Convention-3" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-10"><a href="#Objective-C-10" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithRandomColorInArray:@[FlatWhite, FlatRed, FlatBlue]];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-10"><a href="#Swift-10" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TBA</span></span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-3"><a href="#Chameleon-Shorthand-3" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-11"><a href="#Objective-C-11" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RandomFlatColorInArray(@[FlatWhite, FlatRed, FlatBlue])</span><br></pre></td></tr></table></figure>
<h6 id="Swift-11"><a href="#Swift-11" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TBA</span></span><br></pre></td></tr></table></figure>
<h5 id="Choosing-A-Random-Flat-Color-But-Excluding-A-Few-选择随机扁平色，但不包括少量"><a href="#Choosing-A-Random-Flat-Color-But-Excluding-A-Few-选择随机扁平色，但不包括少量" class="headerlink" title="Choosing A Random Flat Color But Excluding A Few 选择随机扁平色，但不包括少量"></a>Choosing A Random Flat Color But Excluding A Few <img src="http://upload-images.jianshu.io/upload_images/2648731-d0300b1ffed0b18a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="New">选择随机扁平色，但不包括少量</h5><p>Last but certainly not least, you can also choose form the list of random colors and exclude the ones you don’t want. For example say you want to randomly select a flat color for a user’s profile, but don’t want to use any blacks, grays, or whites. You can simply do:</p>
<h5 id="Normal-Convention-4"><a href="#Normal-Convention-4" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-12"><a href="#Objective-C-12" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithRandomFlatColorExcludingColorsInArray:@[FlatBlack, FlatBlackDark, FlatGray, FlatGrayDark, FlatWhite, FlatWhiteDark]];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-12"><a href="#Swift-12" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TBA</span></span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-4"><a href="#Chameleon-Shorthand-4" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-13"><a href="#Objective-C-13" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RandomFlatColorExcluding(@[FlatBlack, FlatBlackDark, FlatGray, FlatGrayDark, FlatWhite, FlatWhiteDark])</span><br></pre></td></tr></table></figure>
<h6 id="Swift-13"><a href="#Swift-13" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TBA</span></span><br></pre></td></tr></table></figure>
<h4 id="Complementary-Colors-互补色"><a href="#Complementary-Colors-互补色" class="headerlink" title="Complementary Colors 互补色"></a>Complementary Colors 互补色</h4><p>To generate a complementary color, perform the following method call, remembering to specify the color whose complement you want:</p>
<h5 id="Normal-Convention-5"><a href="#Normal-Convention-5" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-14"><a href="#Objective-C-14" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithComplementaryFlatColorOf:(UIColor *)someUIColor];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-14"><a href="#Swift-14" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIColor</span>(complementaryFlatColorOf:someUIColor)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-5"><a href="#Chameleon-Shorthand-5" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-15"><a href="#Objective-C-15" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ComplementaryFlatColorOf(color);</span><br></pre></td></tr></table></figure>
<h6 id="Swift-15"><a href="#Swift-15" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ComplementaryFlatColorOf</span>(color)</span><br></pre></td></tr></table></figure>
<h4 id="Contrasting-Colors-对比颜色"><a href="#Contrasting-Colors-对比颜色" class="headerlink" title="Contrasting Colors 对比颜色"></a>Contrasting Colors 对比颜色</h4><p>The contrasting color feature returns either a dark color a light color depending on what the Chameleon algorithm believes is a better choice. You can specify whether the dark or light colors are flat: <em><code>([UIColor flatWhiteColor]</code> &amp; <code>[UIColor flatBlackColorDark]</code>)</em> or non-flat <em>(<code>[UIColor whiteColor]</code> &amp; <code>[UIColor blackColor]</code>).</em></p>
<p>If you’re trying to set a <code>UILabel&#39;s textColor</code> property, make sure you provide the <code>UILabel&#39;s backgroundColor</code>. If your label has a clear <code>backgroundColor</code>, just provide the <code>backgroundColor</code> property of the object directly behind the <code>UILabel</code>.</p>
<p>Here’s an example:</p>
<h5 id="Normal-Convention-6"><a href="#Normal-Convention-6" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-16"><a href="#Objective-C-16" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithContrastingBlackOrWhiteColorOn:(UIColor *)backgroundColor isFlat:(BOOL)flat];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-16"><a href="#Swift-16" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIColor</span>(contrastingBlackOrWhiteColorOn:<span class="type">UIColor!</span>, isFlat:<span class="type">Bool</span>)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-6"><a href="#Chameleon-Shorthand-6" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-17"><a href="#Objective-C-17" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ContrastColor(backgroundColor, isFlat);</span><br></pre></td></tr></table></figure>
<h6 id="Swift-17"><a href="#Swift-17" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ContrastColor</span>(backgroundColor, isFlat)</span><br></pre></td></tr></table></figure>
<h4 id="Flattening-Non-Flat-Colors-扁平的非平面颜色"><a href="#Flattening-Non-Flat-Colors-扁平的非平面颜色" class="headerlink" title="Flattening Non-Flat Colors 扁平的非平面颜色"></a>Flattening Non-Flat Colors 扁平的非平面颜色</h4><p>As mentioned previously, this feature is unique to Chameleon. While this feature is in its early stages of operation and can be improved, it is accurate in finding the nearest flat version of any color in the spectrum, and very simple to use:</p>
<p>如前所述，这个功能是变色龙独有的。 虽然此功能处于早期操作阶段，可以改进，但是在找到最近的平面版本的任何颜色的频谱是准确的，并且使用非常简单：</p>
<h5 id="Normal-Convention-7"><a href="#Normal-Convention-7" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-18"><a href="#Objective-C-18" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(UIColor *)color flatten];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-18"><a href="#Swift-18" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIColor</span>.pink.flatten()</span><br></pre></td></tr></table></figure>
<h4 id="Gradient-Colors-渐变颜色"><a href="#Gradient-Colors-渐变颜色" class="headerlink" title="Gradient Colors 渐变颜色"></a>Gradient Colors 渐变颜色</h4><p>Using a gradient to color an object usually requires a couple of lines of code plus many more lines to superimpose smart contrasting text. Thankfully, Chameleon takes care of that for you. We’ve introduced a new way to have multicolored objects, and that’s with gradients!</p>
<h5 id="Gradient-Styles-渐变样式"><a href="#Gradient-Styles-渐变样式" class="headerlink" title="Gradient Styles 渐变样式"></a>Gradient Styles 渐变样式</h5><p>Chameleon provides three simple gradient styles. Gradients can be created from any number of colors you desire as long as at least two colors are provided. Don’t forget that the contrasting text feature is also compatible with gradient colors!</p>
<p><strong>UIGradientStyles:</strong></p>
<ul>
<li><code>UIGradientStyleLeftToRight</code> (UIGradientStyle.LeftToRight in Swift)</li>
<li><code>UIGradientStyleTopToBottom</code> (UIGradientStyle.TopToBottom in Swift)</li>
<li><code>UIGradientStyleRadial</code> (UIGradientStyle.Radial in Swift)</li>
</ul>
<h5 id="Normal-Convention-8"><a href="#Normal-Convention-8" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-19"><a href="#Objective-C-19" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithGradientStyle:(UIGradientStyle)gradientStyle withFrame:(CGRect)frame andColors:(NSArray&lt;UIColor *&gt; *)colors];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-19"><a href="#Swift-19" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIColor</span>(gradientStyle:<span class="type">UIGradientStyle</span>, withFrame:<span class="type">CGRect</span>, andColors:[<span class="type">UIColor</span>])</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-7"><a href="#Chameleon-Shorthand-7" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-20"><a href="#Objective-C-20" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GradientColor(gradientStyle, frame, colors);</span><br></pre></td></tr></table></figure>
<h6 id="Swift-20"><a href="#Swift-20" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">GradientColor</span>(gradientStyle, frame, colors)</span><br></pre></td></tr></table></figure>
<p><strong>Objective-C Note</strong>: If you use the Chameleon Shorthand, and use the <code>NSArray</code> literal <figure class="highlight plain"><figcaption><span>to set the array of colors, make sure you add parenthesis around it, or else you'll get an error.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Note: `UIGradientStyleRadial` only uses a maximum of 2 colors at the moment. So if more colors are provided, they will not show.</span><br><span class="line"></span><br><span class="line">如果你使用Chameleon Shorthand 短语法，并使用 **NSArray** 的字面量语法```@[ ]```设置颜色数组，请确保在其周围添加圆括号，否则您将收到错误。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### Hex Colors 十六进制颜色</span><br><span class="line"></span><br><span class="line">One of the most requested features, *hex colors*, is now available. You can simply provide a hex string with or without a *#* sign:</span><br><span class="line"></span><br><span class="line">##### Normal Convention:</span><br><span class="line">###### Objective-C</span><br><span class="line">``` objective-c</span><br><span class="line">[UIColor colorWithHexString:(NSString *)string];</span><br></pre></td></tr></table></figure></p>
<h6 id="Swift-21"><a href="#Swift-21" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIColor</span>(hexString:string)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-8"><a href="#Chameleon-Shorthand-8" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-21"><a href="#Objective-C-21" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HexColor(hexString)</span><br></pre></td></tr></table></figure>
<h6 id="Swift-22"><a href="#Swift-22" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HexColor</span>(hexString)</span><br></pre></td></tr></table></figure>
<h4 id="Hex-Values-十六进制值"><a href="#Hex-Values-十六进制值" class="headerlink" title="Hex Values  十六进制值"></a>Hex Values <img src="http://upload-images.jianshu.io/upload_images/2648731-d0300b1ffed0b18a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="New"> 十六进制值</h4><p>Retrieving the <code>hexValue</code> of a UIColor is just as easy.</p>
<p>检索 <code>UIColor</code> 的“十六进制值”同样简单。</p>
<h6 id="Objective-C-22"><a href="#Objective-C-22" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[FlatGreen hexValue]; //Returns @&quot;2ecc71&quot;</span><br></pre></td></tr></table></figure>
<h6 id="Swift-23"><a href="#Swift-23" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FlatGreen</span>.hexValue <span class="comment">//Returns @"2ecc71"</span></span><br></pre></td></tr></table></figure>
<h4 id="Lighter-and-Darker-Colors-淡化和暗化颜色"><a href="#Lighter-and-Darker-Colors-淡化和暗化颜色" class="headerlink" title="Lighter and Darker Colors 淡化和暗化颜色"></a>Lighter and Darker Colors 淡化和暗化颜色</h4><p>Sometimes all you need is a color a shade lighter or a shade darker. Well for those rare, but crucial moments, Chameleon’s got you covered. You can now lighten any color the following way:</p>
<h5 id="Normal-Convention-9"><a href="#Normal-Convention-9" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-23"><a href="#Objective-C-23" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[color lightenByPercentage:(CGFloat)percentage];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-24"><a href="#Swift-24" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">color.lightenByPercentage(percentage: <span class="type">CGFloat</span>)</span><br></pre></td></tr></table></figure>
<p>You can also generate a darker version of a color:</p>
<h5 id="Normal-Convention-10"><a href="#Normal-Convention-10" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-24"><a href="#Objective-C-24" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[color darkenByPercentage:(CGFloat)percentage];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-25"><a href="#Swift-25" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">color.darkenByPercentage(percentage: <span class="type">CGFloat</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Colors-From-Images-从图片中提取颜色"><a href="#Colors-From-Images-从图片中提取颜色" class="headerlink" title="Colors From Images 从图片中提取颜色"></a>Colors From Images 从图片中提取颜色</h3><p>Chameleon now supports the extraction of colors from images. You can either generate both flat and non-flat color schemes from an image, or easily extract the average color.</p>
<p>To generate a color scheme simply do the following:</p>
<h5 id="Normal-Convention-11"><a href="#Normal-Convention-11" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-25"><a href="#Objective-C-25" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[NSArray arrayOfColorsFromImage:(UIImage *)image withFlatScheme:(BOOL)flatScheme];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-Array-extension-missing"><a href="#Swift-Array-extension-missing" class="headerlink" title="Swift (Array extension missing)"></a>Swift (<strong>Array extension missing</strong>)</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSArray</span>(ofColorsFromImage: <span class="type">UIImage</span>, withFlatScheme: <span class="type">Bool</span>)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-9"><a href="#Chameleon-Shorthand-9" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-26"><a href="#Objective-C-26" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ColorsFromImage(image, isFlatScheme)</span><br></pre></td></tr></table></figure>
<h6 id="Swift-26"><a href="#Swift-26" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ColorsFromImage</span>(image, isFlatScheme)</span><br></pre></td></tr></table></figure>
<p>To extract the average color from an image, you can also do:</p>
<h5 id="Normal-Convention-12"><a href="#Normal-Convention-12" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-27"><a href="#Objective-C-27" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithAverageColorFromImage:(UIImage *)image];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-27"><a href="#Swift-27" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIColor</span>(averageColorFromImage: <span class="type">UIImage</span>)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-10"><a href="#Chameleon-Shorthand-10" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-28"><a href="#Objective-C-28" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AverageColorFromImage(image)</span><br></pre></td></tr></table></figure>
<h6 id="Swift-28"><a href="#Swift-28" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">AverageColorFromImage</span>(image)</span><br></pre></td></tr></table></figure>
<h3 id="UIStatusBarStyle-Methods-状态栏样式方法"><a href="#UIStatusBarStyle-Methods-状态栏样式方法" class="headerlink" title="UIStatusBarStyle Methods 状态栏样式方法"></a>UIStatusBarStyle Methods 状态栏样式方法</h3><h4 id="Contrasting-UIStatusBarStyle"><a href="#Contrasting-UIStatusBarStyle" class="headerlink" title="Contrasting UIStatusBarStyle"></a>Contrasting UIStatusBarStyle</h4><p>Many apps on the market, even the most popular ones, overlook this aspect of a beautiful app: the status bar style. Chameleon has done something no other framework has… it has created a new status bar style: <code>UIStatusBarStyleContrast</code>. Whether you have a <code>ViewController</code> embedded in a <code>NavigationController</code>, or not, you can do the following:</p>
<h5 id="Normal-Convention-13"><a href="#Normal-Convention-13" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-29"><a href="#Objective-C-29" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[self setStatusBarStyle:UIStatusBarStyleContrast];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-29"><a href="#Swift-29" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.setStatusBarStyle(<span class="type">UIStatusBarStyleContrast</span>)</span><br></pre></td></tr></table></figure>
<h6 id="Note-Make-sure-that-the-key-View-controller-based-status-bar-appearance-in-Info-plist-is-set-to-YES"><a href="#Note-Make-sure-that-the-key-View-controller-based-status-bar-appearance-in-Info-plist-is-set-to-YES" class="headerlink" title="Note: Make sure that the key View controller-based status bar appearance in Info.plist is set to YES."></a><strong>Note</strong>: Make sure that the key <em>View controller-based status bar appearance</em> in <strong>Info.plist</strong> is set to <code>YES</code>.</h6><p>参考：<a href="https://www.jianshu.com/p/006c2d663d2d" target="_blank" rel="noopener">iOS状态栏的管理</a><br><img src="http://upload-images.jianshu.io/upload_images/2648731-0d77101776d1faef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="Color-Schemes-Methods-颜色方案方法"><a href="#Color-Schemes-Methods-颜色方案方法" class="headerlink" title="Color Schemes Methods 颜色方案方法"></a>Color Schemes Methods 颜色方案方法</h3><h6 id="Note-Due-to-the-limited-number-of-flat-colors-currently-available-color-schemes-may-return-results-that-reuse-certain-flat-colors-Because-of-this-redundancy-we-have-provided-an-option-to-return-either-a-flat-color-scheme-or-a-non-flat-color-scheme-until-more-flat-colors-are-added-to-the-inventory"><a href="#Note-Due-to-the-limited-number-of-flat-colors-currently-available-color-schemes-may-return-results-that-reuse-certain-flat-colors-Because-of-this-redundancy-we-have-provided-an-option-to-return-either-a-flat-color-scheme-or-a-non-flat-color-scheme-until-more-flat-colors-are-added-to-the-inventory" class="headerlink" title="Note: Due to the limited number of flat colors currently available, color schemes may return results that reuse certain flat colors. Because of this redundancy, we have provided an option to return either a flat color scheme or a non-flat color scheme until more flat colors are added to the inventory."></a><strong>Note</strong>: <em>Due to the limited number of flat colors currently available, color schemes may return results that reuse certain flat colors. Because of this redundancy, we have provided an option to return either a flat color scheme or a non-flat color scheme until more flat colors are added to the inventory.</em></h6><p>The initial color can be either a non-flat color or flat color. Chameleon will return an <code>NSArray</code> of 5 <code>UIColors</code> in which the original color will be the third object of the scheme. This allows for Chameleon to designate the colors of the color scheme (2 colors counter-clockwise and 2 clockwise from the initial color), and thus, the chosen colors are aligned specifically in that order. </p>
<h4 id="Analogous-Color-Scheme-类比颜色方案"><a href="#Analogous-Color-Scheme-类比颜色方案" class="headerlink" title="Analogous Color Scheme 类比颜色方案"></a>Analogous Color Scheme 类比颜色方案</h4><p>An analogous color scheme uses three adjacent colors on the color wheel. According to Wikipedia, it’s best used with either warm or cool colors, creating a cohesive collection with certain temperature qualities as well as proper color harmony; however, this particular scheme lacks contrast and is less vibrant than complementary schemes. Within the scheme, choose one color to dominate and two to support. The remaining two colors should be used (along with black, white or gray) as accents.</p>
<h4 id="Complementary-Color-Scheme-互补配色方案"><a href="#Complementary-Color-Scheme-互补配色方案" class="headerlink" title="Complementary Color Scheme 互补配色方案"></a>Complementary Color Scheme 互补配色方案</h4><p>A complementary color scheme uses opposite colors on the color wheel. To put into slightly more technical terms, they are two colors that, when combined, produce a neutral color. Complementary colors are tricky to use extensively, but work well when you want a point of emphasis. Complementary colors are generally not favorable to use for text. </p>
<h4 id="Triadic-Color-Scheme-三色配色方案"><a href="#Triadic-Color-Scheme-三色配色方案" class="headerlink" title="Triadic Color Scheme 三色配色方案"></a>Triadic Color Scheme 三色配色方案</h4><p>A triadic scheme uses evenly spaced colors on the color wheel. The colors tend to be richly vivid and offer a higher degree of contrast while, at the same time, retain color harmony. Let one color dominate and use the two others for accent.</p>
<h4 id="Getting-Colors-in-a-Color-Scheme-在颜色方案中获得颜色"><a href="#Getting-Colors-in-a-Color-Scheme-在颜色方案中获得颜色" class="headerlink" title="Getting Colors in a Color Scheme 在颜色方案中获得颜色"></a>Getting Colors in a Color Scheme 在颜色方案中获得颜色</h4><p>To retrieve an array of colors, first make sure to initialize an NSMutableArray (in case you want to use the same array to replace with different colors later):</p>
<h5 id="Normal-Convention-14"><a href="#Normal-Convention-14" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-30"><a href="#Objective-C-30" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSMutableArray *colorArray = [NSMutableArray alloc] initWithArray:[NSArray arrayOfColorsWithColorScheme:(ColorScheme)colorScheme </span><br><span class="line">                                                                                                    with:(UIColor *)color </span><br><span class="line">                                                                                             flatScheme:(BOOL)isFlatScheme]];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-30"><a href="#Swift-30" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colorArray = <span class="type">NSArray</span>(ofColorsWithColorScheme:<span class="type">ColorScheme</span>, with:<span class="type">UIColor!</span>, flatScheme:<span class="type">Bool</span>)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-11"><a href="#Chameleon-Shorthand-11" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-31"><a href="#Objective-C-31" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSMutableArray *colorArray = [[NSMutableArray alloc] initWithArray:ColorScheme(colorSchemeType, color, isFlatScheme)];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-31"><a href="#Swift-31" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colorArray = <span class="type">ColorSchemeOf</span>(colorSchemeType, color, isFlatScheme)</span><br></pre></td></tr></table></figure>
<h5 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h5><p>Assuming you want to generate an analogous color scheme for the light shade of Flat Red, perform the following method call:</p>
<h5 id="Normal-Convention-15"><a href="#Normal-Convention-15" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-32"><a href="#Objective-C-32" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSMutableArray *colorArray = [NSMutableArray alloc] initWithArray:[NSArray arrayOfColorsWithColorScheme:ColorSchemeAnalogous</span><br><span class="line">                                                                                                    with:[UIColor flatRedColor] </span><br><span class="line">                                                                                             flatScheme:YES]];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-32"><a href="#Swift-32" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colorArray = <span class="type">NSArray</span>(ofColorsWithColorScheme:<span class="type">ColorScheme</span>.<span class="type">Analogous</span>, with:<span class="type">UIColor</span>.flatRed, flatScheme:<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<h5 id="Chameleon-Shorthand-12"><a href="#Chameleon-Shorthand-12" class="headerlink" title="Chameleon Shorthand:"></a>Chameleon Shorthand:</h5><h6 id="Objective-C-33"><a href="#Objective-C-33" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSMutableArray *colorArray = [[NSMutableArray alloc] initWithArray:ColorScheme(ColorSchemeAnalogous, FlatRed, YES)];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-33"><a href="#Swift-33" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colorArray = <span class="type">ColorSchemeOf</span>(<span class="type">ColorScheme</span>.<span class="type">Analogous</span>, <span class="type">FlatRed</span>(), <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>You can then retrieve each individual color the same way you would normally retrieve any object from an array:</p>
<h6 id="Objective-C-34"><a href="#Objective-C-34" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UIColor *firstColor = colorArray[0];</span><br></pre></td></tr></table></figure>
<h6 id="Swift-34"><a href="#Swift-34" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstColor = colorArray[<span class="number">0</span>] <span class="keyword">as</span>! <span class="type">UIColor</span></span><br></pre></td></tr></table></figure>
<h3 id="Theme-Methods-主题色"><a href="#Theme-Methods-主题色" class="headerlink" title="Theme Methods 主题色"></a>Theme Methods 主题色</h3><p>With Chameleon, you can now specify a global color theme with simply one line of code (It even takes care of dealing with the status bar style as well)! Here’s one of three methods to get you started. <code>ContentStyle</code> allows you to decide whether text and a few other elements should be white, black, or whichever contrasts more over any UI element’s <code>backgroundColor</code>. </p>
<p>使用变色龙，您现在可以使用简单的一行代码指定全局颜色主题（甚至可以处理状态栏样式）！ 这是启动您的三种方法之一。 <code>ContentStyle</code> 允许您决定文本和其他几个元素是否应该是白色，黑色或任何UI元素的 <code>backgroundColor</code> 之间的对比。</p>
<p>To set a global theme, you can do the following in your app delegate:</p>
<h5 id="Normal-Convention-16"><a href="#Normal-Convention-16" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-35"><a href="#Objective-C-35" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Chameleon setGlobalThemeUsingPrimaryColor:(UIColor *)color withContentStyle:(UIContentStyle)contentStyle];</span><br></pre></td></tr></table></figure>
<p>But what if you want a different theme for a specific <code>UIViewController?</code> No problem, Chameleon allows you to override the global theme in any <code>UIViewController</code> and <code>UINavigationController</code>, by simply doing the following:</p>
<h5 id="Normal-Convention-17"><a href="#Normal-Convention-17" class="headerlink" title="Normal Convention:"></a>Normal Convention:</h5><h6 id="Objective-C-36"><a href="#Objective-C-36" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//This would go in the controller you specifically want to theme differently</span><br><span class="line">[self setThemeUsingPrimaryColor:FlatMint withSecondaryColor:FlatBlue andContentStyle:UIContentStyleContrast];</span><br></pre></td></tr></table></figure>
<h6 id="Note-In-order-for-the-status-bar-style-to-automatically-be-set-using-a-theme-you-need-to-make-sure-that-the-View-controller-based-status-bar-appearance-key-in-Info-plist-is-set-to-NO"><a href="#Note-In-order-for-the-status-bar-style-to-automatically-be-set-using-a-theme-you-need-to-make-sure-that-the-View-controller-based-status-bar-appearance-key-in-Info-plist-is-set-to-NO" class="headerlink" title="Note: In order for the status bar style to automatically be set using a theme, you need to make sure that the View controller-based status bar appearance key in Info.plist is set to NO."></a><strong>Note:</strong> In order for the status bar style to automatically be set using a theme, you need to make sure that the <em>View controller-based status bar appearance</em> key in <strong>Info.plist</strong> is set to <code>NO</code>.</h6><h4 id="Navigation-Bar-Hairline-导航栏线"><a href="#Navigation-Bar-Hairline-导航栏线" class="headerlink" title="Navigation Bar Hairline 导航栏线"></a>Navigation Bar Hairline 导航栏线</h4><p><img src="http://upload-images.jianshu.io/upload_images/2648731-0f127777114dbd12.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="No Hairline"></p>
<p>As of <code>2.0.3</code> the navigation bar hairline view is no longer hidden by default. However, if you’re seeking a true flat look (like the image above), you can hide the hairline at the bottom of the navigation bar by doing the following: </p>
<h6 id="Objective-C-37"><a href="#Objective-C-37" class="headerlink" title="Objective-C"></a>Objective-C</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[self.navigationController setHidesNavigationBarHairline:YES];</span><br><span class="line"></span><br><span class="line">//or</span><br><span class="line"></span><br><span class="line">self.navigationController.hidesNavigationBarHairline = YES;</span><br></pre></td></tr></table></figure>
<h6 id="Swift-35"><a href="#Swift-35" class="headerlink" title="Swift"></a>Swift</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.navigationController?.hidesNavigationBarHairline = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="👑-Author"><a href="#👑-Author" class="headerlink" title="👑 Author"></a>👑 Author</h2><p>Chameleon was developed by <strong>Vicc Alexander</strong> <a href="https://twitter.com/viccsmind" target="_blank" rel="noopener">(@ViccsMind)</a> in 2014 using Objective-C. In 2015, full Swift support was implemented by <a href="https://github.com/bre7" target="_blank" rel="noopener">@Bre7</a>. Currently, it is being maintained by both <a href="https://github.com/ViccAlexander" target="_blank" rel="noopener">@ViccAlexander</a> and <a href="https://github.com/bre7" target="_blank" rel="noopener">@Bre7</a>.</p>
<h2 id="📝-To-Do-List"><a href="#📝-To-Do-List" class="headerlink" title="📝 To Do List"></a>📝 To Do List</h2><ul>
<li><del>CocoaPods Support</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-49da681a0446b343.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.0.1">  </li>
<li><del>Table of Contents</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-49da681a0446b343.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.0.1">  </li>
<li><del>Storyboard Color Picker Add-On</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-28b91f266239e40e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.0">  </li>
<li><del>Xcode In-App Documentation</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-28b91f266239e40e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.0">  </li>
<li><del>Switch from RGB values over to HSB and LAB</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-28b91f266239e40e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.0">  </li>
<li><del>Gradient Colors</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-28b91f266239e40e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.0">  </li>
<li><del>Update GradientStyle &amp; ShadeStyle Syntax</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-6fd1a044f9b29a41.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.1">  </li>
<li><del>Add Radial Gradient Support</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-6fd1a044f9b29a41.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.1">  </li>
<li><del>Fix Swift Conflict with <code>initWithArray:for:flatScheme:</code> method</del>  <img src="http://upload-images.jianshu.io/upload_images/2648731-103e0449c06ca392.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.12">  </li>
<li><del>Swift Support</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-c558e57d6e4d2690.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.1.3">     </li>
<li><del>Color Scheme From Images</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-db5c8f6d432c1100.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.0.0">  </li>
<li><del>UIAppearance Convenience Methods</del>  <img src="http://upload-images.jianshu.io/upload_images/2648731-db5c8f6d432c1100.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.0.0">  </li>
<li><del>Add option to hide <code>NavigationBar</code> hairline</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-614b7b80a20c4440.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.0.3"></li>
<li><del>Add support for App Extensions hairline</del> <img src="http://upload-images.jianshu.io/upload_images/2648731-815b9c3af44c7824.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.2.0"></li>
<li>Add Swift Support for Random Colors</li>
<li>Allow Gradient Colors to Adapt To Frame Changes</li>
</ul>
<h2 id="📄-Change-Log"><a href="#📄-Change-Log" class="headerlink" title="📄 Change Log"></a>📄 Change Log</h2><h3 id="See-Changelog-md-👀tch"><a href="#See-Changelog-md-👀tch" class="headerlink" title="See Changelog.md 👀tch."></a>See <a href="https://github.com/ViccAlexander/Chameleon/blob/master/CHANGELOG.md" target="_blank" rel="noopener">Changelog.md</a> 👀tch.</h3>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/27/UI设计规范参考/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/27/UI设计规范参考/" class="post-title-link" itemprop="url">UI设计规范参考</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-27 10:44:00" itemprop="dateCreated datePublished" datetime="2017-06-27T10:44:00+08:00">2017-06-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-16 15:48:39" itemprop="dateModified" datetime="2019-04-16T15:48:39+08:00">2019-04-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-资源/" itemprop="url" rel="index"><span itemprop="name">iOS 资源</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/27/UI设计规范参考/" class="leancloud_visitors" data-flag-title="UI设计规范参考">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="参考设计规范"><a href="#参考设计规范" class="headerlink" title="参考设计规范"></a>参考设计规范</h3><ul>
<li><a href="http://design.alipay.com/design/mobile/easy" target="_blank" rel="noopener">蚂蚁金服：Mobile 设计指引</a>⭐⭐⭐</li>
<li><a href="http://m.ui.cn/details/254556" target="_blank" rel="noopener">金融（支付宝）APP 原型资源分享</a></li>
<li><a href="https://blog.csdn.net/amyloverice/article/details/79389357" target="_blank" rel="noopener">iphone 各个型号屏幕分辨率总结</a></li>
<li><a href="http://www.pinmie.com/v/45421.html" target="_blank" rel="noopener">全新 Apple iOS 设计规范指南 2016-04-29 @iOS 9</a></li>
<li><a href="http://www.pinmie.com/cc/" target="_blank" rel="noopener">尺寸规范 @图翼网</a></li>
<li><a href="http://www.pinmie.com/v/50355.html" target="_blank" rel="noopener">看过那么多UI 配色指南，这篇可能是最全面的（附大量实例）</a></li>
<li><a href="https://xiaozhuanlan.com/topic/6935142078" target="_blank" rel="noopener">字体指南「让内容清晰可读」</a></li>
<li><a href="https://xiaozhuanlan.com/topic/3094517286" target="_blank" rel="noopener">色彩指南「如何使用颜色」</a></li>
<li><a href="http://www.cocoachina.com/ios/20170919/20606.html" target="_blank" rel="noopener">UI 设计规范整理一 iOS 字体和切图及规范</a></li>
<li><a href="https://www.theiphonewiki.com/wiki/Models" target="_blank" rel="noopener">The iPhone Wiki</a></li>
<li><a href="http://www.tuyiyi.com/cc/" target="_blank" rel="noopener">iPhone 尺寸规范（界面 &amp; 图标）</a> ⭐️⭐️⭐️</li>
</ul>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://www.ui.cn/detail/131635.html" target="_blank" rel="noopener"><strong>UI设计基础概念（一）</strong></a></li>
</ul>
<ul>
<li><a href="http://www.ui.cn/detail/132285.html" target="_blank" rel="noopener"><strong>UI设计基础概念（二）</strong></a> 英寸、像素、分辨率。</li>
</ul>
<ul>
<li><p><a href="http://www.ui.cn/detail/134233.html" target="_blank" rel="noopener"><strong>UI设计基础概念（六）之iOS系统界面</strong></a> </p>
</li>
<li><p><a href="http://www.ui.cn/detail/136294.html" target="_blank" rel="noopener"><strong>UI设计基础概念（七）之Android系统界面</strong></a></p>
</li>
</ul>
<ul>
<li><a href="http://www.ui.cn/detail/139185.html" target="_blank" rel="noopener"><strong>UI设计基础概念（八）之优秀App推荐欣赏</strong></a></li>
</ul>
<ul>
<li><a href="http://www.ui.cn/detail/142554.html" target="_blank" rel="noopener"><strong>UI设计基础概念（九）之布局规范</strong></a></li>
</ul>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-f3491254e551be00.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<hr>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-bba4b5578e8714b7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<hr>
<p>  <img src="http://upload-images.jianshu.io/upload_images/2648731-289948bf0c8e1e51.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ul>
<li><a href="http://www.ui.cn/detail/144850.html" target="_blank" rel="noopener"><strong>UI设计基础概念（十）之 UI设计术语中英文对照</strong></a></li>
</ul>
<ul>
<li><a href="http://www.ui.cn/detail/150268.html" target="_blank" rel="noopener"><strong>UI设计基础概念（十一）之 切图命名</strong></a></li>
<li><a href="https://www.ui.cn/detail/284396.html" target="_blank" rel="noopener"><strong>IPhoneX 设计规范</strong></a></li>
</ul>
<h3 id="LaunchImage"><a href="#LaunchImage" class="headerlink" title="LaunchImage"></a>LaunchImage</h3><p>iphone 1125 x 2436 =  375 x 812 @3<br><img src="http://upload-images.jianshu.io/upload_images/2648731-15c2194b8a3e5138.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/23/UIView+Extension/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/23/UIView+Extension/" class="post-title-link" itemprop="url">UIView+Extension</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-23 14:19:00" itemprop="dateCreated datePublished" datetime="2017-06-23T14:19:00+08:00">2017-06-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-23 16:59:26" itemprop="dateModified" datetime="2019-04-23T16:59:26+08:00">2019-04-23</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/23/UIView+Extension/" class="leancloud_visitors" data-flag-title="UIView+Extension">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="UIView-Extension-h"><a href="#UIView-Extension-h" class="headerlink" title="UIView+Extension.h"></a>UIView+Extension.h</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;UIKit/UIKit.h&gt;</span><br><span class="line"></span><br><span class="line">@interface UIView (Extension)</span><br><span class="line"></span><br><span class="line">// 推荐：CGFloat x = CGRectGetMinX(frame);</span><br><span class="line">@property (nonatomic, assign) CGFloat x;</span><br><span class="line">// 推荐：CGFloat y = CGRectGetMinY(frame);</span><br><span class="line">@property (nonatomic, assign) CGFloat y;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, assign) CGFloat maxX;</span><br><span class="line">@property (nonatomic, assign) CGFloat maxY;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, assign) CGFloat centerX;</span><br><span class="line">@property (nonatomic, assign) CGFloat centerY;</span><br><span class="line"></span><br><span class="line">// 推荐：CGFloat width = CGRectGetWidth(frame);</span><br><span class="line">@property (nonatomic, assign) CGFloat width;</span><br><span class="line">// 推荐：CGFloat height = CGRectGetHeight(frame);</span><br><span class="line">@property (nonatomic, assign) CGFloat height;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, assign) CGSize size;</span><br><span class="line">@property (nonatomic, assign) CGPoint origin;</span><br><span class="line">@property (nonatomic, assign) CGFloat bottom;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h3 id="UIView-Extension-m"><a href="#UIView-Extension-m" class="headerlink" title="UIView+Extension.m"></a>UIView+Extension.m</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;UIView+Extension.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation UIView (Extension)</span><br><span class="line"></span><br><span class="line">#pragma mark - x</span><br><span class="line">- (void)setX:(CGFloat)x &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    frame.origin.x = x;</span><br><span class="line">    self.frame = frame;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)x &#123;</span><br><span class="line">    return CGRectGetMinX(self.frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - y</span><br><span class="line">- (void)setY:(CGFloat)y &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    frame.origin.y = y;</span><br><span class="line">    self.frame = frame;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)y &#123;</span><br><span class="line">    return CGRectGetMinY(self.frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - maxX</span><br><span class="line">- (void)setMaxX:(CGFloat)maxX &#123;</span><br><span class="line">    self.x = maxX - self.width;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)maxX &#123;</span><br><span class="line">    return CGRectGetMaxX(self.frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - maxY</span><br><span class="line">- (void)setMaxY:(CGFloat)maxY &#123;</span><br><span class="line">    self.y = maxY - self.height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)maxY &#123;</span><br><span class="line">    return CGRectGetMaxY(self.frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - centerX</span><br><span class="line">- (void)setCenterX:(CGFloat)centerX &#123;</span><br><span class="line">    CGPoint center = self.center;</span><br><span class="line">    center.x = centerX;</span><br><span class="line">    self.center = center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)centerX &#123;</span><br><span class="line">    return self.center.x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - centerY</span><br><span class="line">- (void)setCenterY:(CGFloat)centerY &#123;</span><br><span class="line">    CGPoint center = self.center;</span><br><span class="line">    center.y = centerY;</span><br><span class="line">    self.center = center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)centerY &#123;</span><br><span class="line">    return self.center.y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - width</span><br><span class="line">- (void)setWidth:(CGFloat)width &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    frame.size.width = width;</span><br><span class="line">    self.frame = frame;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)width &#123;</span><br><span class="line">    return CGRectGetWidth(self.frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - height</span><br><span class="line">- (void)setHeight:(CGFloat)height &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    frame.size.height = height;</span><br><span class="line">    self.frame = frame;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)height &#123;</span><br><span class="line">    return CGRectGetHeight(self.frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - size</span><br><span class="line">- (void)setSize:(CGSize)size &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    frame.size = size;</span><br><span class="line">    self.frame = frame;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGSize)size &#123;</span><br><span class="line">    return self.frame.size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark - orgin</span><br><span class="line">- (void)setOrigin:(CGPoint)origin &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    frame.origin = origin;</span><br><span class="line">    self.frame = frame;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGPoint)origin &#123;</span><br><span class="line">    return self.frame.origin;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pragma mark  - bottom</span><br><span class="line">- (void)setBottom:(CGFloat)bottom &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    frame.origin.y = bottom - frame.size.height;</span><br><span class="line">    self.frame = frame;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGFloat)bottom &#123;</span><br><span class="line">    CGRect frame = self.frame;</span><br><span class="line">    return CGRectGetMinY(frame) + CGRectGetHeight(frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/23/iOS 编码风格规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/23/iOS 编码风格规范/" class="post-title-link" itemprop="url">iOS 编码风格规范</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-23 13:11:00" itemprop="dateCreated datePublished" datetime="2017-06-23T13:11:00+08:00">2017-06-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:10:24" itemprop="dateModified" datetime="2019-04-18T01:10:24+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-资源/" itemprop="url" rel="index"><span itemprop="name">iOS 资源</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/23/iOS 编码风格规范/" class="leancloud_visitors" data-flag-title="iOS 编码风格规范">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h2 id="Objectice-C"><a href="#Objectice-C" class="headerlink" title="Objectice-C"></a>Objectice-C</h2><h3 id="Apple官方文档"><a href="#Apple官方文档" class="headerlink" title="Apple官方文档"></a>Apple官方文档</h3><ul>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html" target="_blank" rel="noopener">The Objective-C Programming Language</a></li>
<li><a href="https://developer.apple.com/legacy/library/documentation/Cocoa/Conceptual/CocoaFundamentals/Introduction/Introduction.html" target="_blank" rel="noopener">Cocoa Fundamentals Guide</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html" target="_blank" rel="noopener">Coding Guidelines for Cocoa</a></li>
<li><a href="https://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/Introduction/Introduction.html" target="_blank" rel="noopener">iOS App Programming Guide</a></li>
</ul>
<h3 id="其他-Objective-C-风格指南"><a href="#其他-Objective-C-风格指南" class="headerlink" title="其他 Objective-C 风格指南"></a>其他 Objective-C 风格指南</h3><ul>
<li><a href="https://github.com/oa414/objc-zen-book-cn" target="_blank" rel="noopener"><strong>禅与 Objective-C 编程艺术</strong></a></li>
<li><a href="https://github.com/raywenderlich/objective-c-style-guide" target="_blank" rel="noopener"><strong>Ray Wenderlich/Objective-C Style Guide</strong></a></li>
<li><a href="https://github.com/NYTimes/objective-c-style-guide" target="_blank" rel="noopener"><strong>NYTimes/Objectice-C Style Guide</strong></a></li>
<li><a href="https://google.github.io/styleguide/objcguide.xml" target="_blank" rel="noopener"><strong>Google/Objective-C Style Guide</strong></a></li>
<li><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-objc-styleguide/contents/" target="_blank" rel="noopener"><strong>Google/Objective-C 风格指南</strong></a></li>
<li><a href="https://github.com/github/objective-c-conventions" target="_blank" rel="noopener"><strong>GitHub/Objective-C Style Guide</strong></a></li>
<li><a href="https://trac.adium.im/wiki/CodingStyle" target="_blank" rel="noopener"><del>Adium</del></a></li>
<li><a href="https://gist.github.com/soffes/812796" target="_blank" rel="noopener"><strong>Sam Soffes/Objective-C Coding Convention and Best Practices.markdown</strong></a></li>
<li><a href="http://cocoadevcentral.com/articles/000082.php" target="_blank" rel="noopener">CocoaDevCentral</a></li>
<li><a href="http://lukeredpath.co.uk/blog/my-objective-c-style-guide.html" target="_blank" rel="noopener"><del>Luke Redpath</del></a></li>
<li><a href="http://www.cimgf.com/zds-code-style-guide/" target="_blank" rel="noopener"><strong>Marcus Zarra</strong></a></li>
<li><a href="http://www.imooc.com/article/1216" target="_blank" rel="noopener">Objective-C编码规范：26个方面解决iOS开发问题</a></li>
<li><a href="http://www.cocoachina.com/ios/20170324/18950.html" target="_blank" rel="noopener">iOS中书写代码规范35条小建议</a></li>
</ul>
<hr>
<h2 id="Swift"><a href="#Swift" class="headerlink" title="Swift"></a>Swift</h2><ul>
<li><a href="https://github.com/raywenderlich/swift-style-guide" target="_blank" rel="noopener"><strong>Ray Wenderlich/Swift Style Guide</strong></a></li>
<li><a href="https://github.com/github/swift-style-guide" target="_blank" rel="noopener"><strong>GitHub/Swift Style Guide</strong></a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/22/iOS APP 框架体系/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/22/iOS APP 框架体系/" class="post-title-link" itemprop="url">iOS APP 框架体系</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-22 14:37:00" itemprop="dateCreated datePublished" datetime="2017-06-22T14:37:00+08:00">2017-06-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:14:10" itemprop="dateModified" datetime="2019-04-18T01:14:10+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-资源/" itemprop="url" rel="index"><span itemprop="name">iOS 资源</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/22/iOS APP 框架体系/" class="leancloud_visitors" data-flag-title="iOS APP 框架体系">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p>贴上陆陆续续从各个地方看过的搭建  iOS APP 框架的文章，整理出来，以后看到好的再贴出来。</p>
<h3 id="理论部分"><a href="#理论部分" class="headerlink" title="理论部分"></a>理论部分</h3><hr>
<ul>
<li><a href="https://www.objccn.io/issue-13-0/" target="_blank" rel="noopener">objccn.io——架构</a></li>
<li><a href="http://www.cocoachina.com/cms/wap.php?action=article&amp;id=14916&amp;from=singlemessage&amp;isappinstalled=1" target="_blank" rel="noopener">iOS 架构模式–解密 MVC，MVP，MVVM以及VIPER架构</a></li>
<li><a href="http://mrpeak.cn/blog/ios-arch/" target="_blank" rel="noopener">iOS应用架构现状分析@MrPeak</a> 👍</li>
</ul>
<hr>
<ul>
<li><a href="http://www.cocoachina.com/ios/20161025/17849.html" target="_blank" rel="noopener">做一个 App 前需要考虑的几件事</a><br>本文从宏观的角度来讨论开发移动应用需要关注的点，理论性思考多一些。包括完善的日志系统、Commit Message 规范、代码规范、准备一份编程守则、页面布局规范、统计埋点、App 架构、页面跳转机制、在线配置、选择合适的 Crash 平台、Code Review、选择合适的开发模式、持续集成、Bug 管理系统、项目管理工具、Checklist。</li>
</ul>
<hr>
<ul>
<li><a href="http://www.cocoachina.com/ios/20160316/15685.html" target="_blank" rel="noopener">在写一个iOS应用之前必须做的7件事(附相关资源)</a><br>翻译作品、非常值得一看，主要是附有相关<strong>资源链接</strong>（比心❤️）。<br>其中提到的几个点：<ol>
<li>为工程设置编码风格规范；</li>
<li>在写代码之前确定应用的架构；</li>
<li>设定应用的目录结构；</li>
<li>项目依赖管理；</li>
<li>为应用设置合适的Scheme；</li>
<li>设置合适的Certificates和Provisioning Profiles；</li>
<li>设置应用持续集成和交付过程。</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><a href="http://www.cocoachina.com/ios/20170804/20131.html" target="_blank" rel="noopener">[贝聊科技]iOS 代码架构（一）如何创建一个易复用的组件</a><br>以一个较简单的 UI 组件为例，介绍贝聊 iOS 组在设计可复用组件时的一点小技巧。<h3 id="实用部分"><a href="#实用部分" class="headerlink" title="实用部分"></a>实用部分</h3></li>
<li><a href="http://www.cocoachina.com/ios/20170815/20252.html" target="_blank" rel="noopener">让你快速了解并掌握如何进行iOS开发技能</a></li>
</ul>
<hr>
<ul>
<li><a href="http://www.cocoachina.com/ios/20170525/19363.html" target="_blank" rel="noopener">iOS 从0到1搭建高可用App框架</a><br>探讨了 <strong>Xcode</strong> 项目应包含的目录结构。提出易读性、易维护性、易扩展性的架构原则。并附有基于MVC设计的通用APP框架: <a href="https://github.com/XuYang8026/UniversalProject" target="_blank" rel="noopener"><strong>MiAiApp</strong></a>，可以参考。</li>
</ul>
<hr>
<ul>
<li><a href="http://www.cocoachina.com/ios/20170620/19579.html" target="_blank" rel="noopener">iOS:怎样创建一个好的App目录结构 @雪山踏痕</a></li>
<li><a href="http://www.jianshu.com/p/0c6f3f4b3b34" target="_blank" rel="noopener">手把手教你如何搭建iOS项目基本框架</a></li>
<li><a href="http://www.jianshu.com/p/89e25c288d76" target="_blank" rel="noopener">iOS APP框架搭建简析（附GitHub托管Demo）</a></li>
<li><a href="http://www.jianshu.com/p/6eb7eabda386" target="_blank" rel="noopener">十分钟搭建主流框架_简单的网络部分(OC)</a><br>也是搭建 iOS 应用目录结构、内容或繁琐或简单，或边角，可以参考看看。</li>
</ul>
<hr>
<ul>
<li><a href="http://www.jianshu.com/p/4ef3d3737661" target="_blank" rel="noopener">什么是开发 App 的正确步骤?</a><br>本文从一个简单的 tableView App 说起，谈论了开发一个 App 的4个步骤：需求分析、构建架构、细节实现、优化拓展。简单介绍了多线程和几种设计模式，希望对大家有所帮助。</li>
</ul>
<hr>
<ul>
<li><a href="http://www.10tiao.com/html/216/201706/2652549903/1.html" target="_blank" rel="noopener">用 Swift 架构 iOS 应用的正确姿势</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/22/翻译文档：写好 commit messages/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/22/翻译文档：写好 commit messages/" class="post-title-link" itemprop="url">翻译文档：写好 commit messages</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-22 11:56:00" itemprop="dateCreated datePublished" datetime="2017-06-22T11:56:00+08:00">2017-06-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:02:09" itemprop="dateModified" datetime="2019-04-18T01:02:09+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/翻译文档/" itemprop="url" rel="index"><span itemprop="name">翻译文档</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/22/翻译文档：写好 commit messages/" class="leancloud_visitors" data-flag-title="翻译文档：写好 commit messages">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p>原文：</p>
<ul>
<li><a href="https://github.com/erlang/otp/wiki/Writing-good-commit-messages" target="_blank" rel="noopener">Writing good commit messages</a></li>
</ul>
<p>Good commit messages serve at least three important purposes:</p>
<ul>
<li>To speed up the reviewing process.</li>
<li>To help us write a good release note.</li>
<li>To help the future maintainers of Erlang/OTP (it could be you!), say five years into the future, to find out why a particular change was made to the code or why a specific feature was added.</li>
</ul>
<p>良好的提交信息至少有三个重要的目的：</p>
<ul>
<li>加快审查过程。</li>
<li>帮助我们写一个很好的发行版本说明。</li>
<li>为了帮助未来的 Erlang / OTP维护者（可能是你！），比如说将来的五年，要弄清楚为什么要对代码做出特别的改变，或者为什么添加了一个特定的功能。</li>
</ul>
<p>Structure your commit message like this:</p>
<p>From: [[<a href="http://git-scm.com/book/ch5-2.html]]" target="_blank" rel="noopener">http://git-scm.com/book/ch5-2.html]]</a></p>
<blockquote>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; Short (<span class="number">50</span> <span class="keyword">chars</span> <span class="keyword">or</span> less) summary <span class="keyword">of</span> changes</span><br><span class="line">&gt;</span><br><span class="line">&gt; More <span class="keyword">detailed</span> explanatory <span class="keyword">text</span>, <span class="keyword">if</span> necessary.  Wrap <span class="keyword">it</span> <span class="built_in">to</span> about <span class="number">72</span></span><br><span class="line">&gt; <span class="keyword">characters</span> <span class="keyword">or</span> so.  In some contexts, <span class="keyword">the</span> <span class="keyword">first</span> <span class="built_in">line</span> is treated <span class="keyword">as</span> <span class="keyword">the</span></span><br><span class="line">&gt; subject <span class="keyword">of</span> <span class="keyword">an</span> email <span class="keyword">and</span> <span class="keyword">the</span> rest <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">text</span> <span class="keyword">as</span> <span class="keyword">the</span> body.  The blank</span><br><span class="line">&gt; <span class="built_in">line</span> separating <span class="keyword">the</span> summary <span class="built_in">from</span> <span class="keyword">the</span> body is critical (unless you omit</span><br><span class="line">&gt; <span class="keyword">the</span> body entirely); tools like rebase can <span class="built_in">get</span> confused <span class="keyword">if</span> you run <span class="keyword">the</span></span><br><span class="line">&gt; <span class="literal">two</span> together.</span><br><span class="line">&gt;</span><br><span class="line">&gt; Further paragraphs come <span class="keyword">after</span> blank <span class="keyword">lines</span>.</span><br><span class="line">&gt;</span><br><span class="line">&gt;   - Bullet points are okay, too</span><br><span class="line">&gt;</span><br><span class="line">&gt;   - Typically <span class="keyword">a</span> hyphen <span class="keyword">or</span> asterisk is used <span class="keyword">for</span> <span class="keyword">the</span> bullet, preceded <span class="keyword">by</span> <span class="keyword">a</span></span><br><span class="line">&gt;     single <span class="literal">space</span>, <span class="keyword">with</span> blank <span class="keyword">lines</span> <span class="keyword">in</span> between, but conventions vary here</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>你提交的消息结构如下所示：</p>
<p>来自：[[<a href="http://git-scm.com/book/ch5-2.html]]" target="_blank" rel="noopener">http://git-scm.com/book/ch5-2.html]]</a></p>
<blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> 短（50个字符或更少）更改的摘要</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> 更详细的解释性文本，如有必要。 包裹约72字符等。 </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> 在某些情况下，第一行就像电子邮件的主题，文本的其余部分为正文。 </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> 将摘要与正文分开的空白行、线是至关重要的（除非你完全省略正文）;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> 如果你同时运行两个的话，像 rebase 这样的工具会变得困惑。</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> 空白行后写更多的段落。</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">    - 无序列表也是可以的。</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">    - 在空白行之间，通常使用连字符或星号作为序号，前面加上一个空格，但讨论在这里</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="DO"><a href="#DO" class="headerlink" title="DO"></a>DO</h2><ul>
<li>Write the summary line and description of what you have done in the imperative mode, that is as if you were commanding someone. Start the line with “Fix”, “Add”, “Change” instead of “Fixed”, “Added”, “Changed”.</li>
<li>Always leave the second line blank.</li>
<li>Line break the commit message (to make the commit message readable without having to scroll horizontally in <code>gitk</code>).</li>
</ul>
<ul>
<li>在命令模式中写出你所做的总结和描述行，就好像你在命令某人一样。 以“Fix”，“Add”，“Change”而不是“Fixed”，“Added”，“Changed”开头。</li>
<li>始终将第二行留空。</li>
<li>用行来分离提交消息（使提交消息可读，而不必在<code>gitk</code>中水平滚动）。</li>
</ul>
<h2 id="DON’T"><a href="#DON’T" class="headerlink" title="DON’T"></a>DON’T</h2><ul>
<li>Don’t end the summary line with a period - it’s a title and titles don’t end with a period.</li>
</ul>
<ul>
<li>不要用日期来结束一段摘要行 - 这是一个标题，而标题是不会以日期来结尾的。</li>
</ul>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ul>
<li>If it seems difficult to summarize what your commit does, it may be because it includes several logical changes or bug fixes, and are better split up into several commits using <code>git add -p</code>.</li>
</ul>
<ul>
<li>如果看起来难以总结你提交所做的工作，可能是因为它包含了几个逻辑更改或错误修复。可以使用<code>git add -p</code>更好地分成几个不同的提交。</li>
</ul>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>The following blog post has a nice discussion of commit messages:</p>
<p>“On commit messages”:<a href="http://who-t.blogspot.com/2009/12/on-commit-messages.html" target="_blank" rel="noopener">http://who-t.blogspot.com/2009/12/on-commit-messages.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/22/iOS 编程：NSArray、NSDictionary打印中文乱码问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/22/iOS 编程：NSArray、NSDictionary打印中文乱码问题/" class="post-title-link" itemprop="url">iOS 编程：NSArray、NSDictionary 打印中文乱码问题</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-22 10:33:00" itemprop="dateCreated datePublished" datetime="2017-06-22T10:33:00+08:00">2017-06-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:16:25" itemprop="dateModified" datetime="2019-04-18T01:16:25+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/22/iOS 编程：NSArray、NSDictionary打印中文乱码问题/" class="leancloud_visitors" data-flag-title="iOS 编程：NSArray、NSDictionary 打印中文乱码问题">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h2 id="NSArray、NSDictionary打印中文乱码问题"><a href="#NSArray、NSDictionary打印中文乱码问题" class="headerlink" title="NSArray、NSDictionary打印中文乱码问题"></a>NSArray、NSDictionary打印中文乱码问题</h2><p>如果在 console 中遇到了 <strong>NSArray</strong>、<strong>NSDictionary</strong>打印中文乱码问题，解决方法之一是创建 <code>NSArray+Extension</code> 和 <code>NSDictionary+Extension</code> 两个Category分类。</p>
<blockquote>
<p>⚠️ Xcode 8.0 之后使用 <code>NSLog</code> 打印时会产生该问题。</p>
</blockquote>
<h3 id="NSArray-Extension"><a href="#NSArray-Extension" class="headerlink" title="NSArray+Extension"></a>NSArray+Extension</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">NSString</span> *)descriptionWithLocale:(<span class="keyword">id</span>)locale</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSMutableString</span> *msr = [<span class="built_in">NSMutableString</span> string];</span><br><span class="line">    [msr appendString:<span class="string">@"["</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">id</span> obj <span class="keyword">in</span> <span class="keyword">self</span>) &#123;</span><br><span class="line">        [msr appendFormat:<span class="string">@"\n\t%@,"</span>,obj];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//去掉最后一个逗号（,）</span></span><br><span class="line">    <span class="keyword">if</span> ([msr hasSuffix:<span class="string">@","</span>]) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *str = [msr substringToIndex:msr.length - <span class="number">1</span>];</span><br><span class="line">        msr = [<span class="built_in">NSMutableString</span> stringWithString:str];</span><br><span class="line">    &#125;</span><br><span class="line">    [msr appendString:<span class="string">@"\n]"</span>];</span><br><span class="line">    <span class="keyword">return</span> msr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="NSDictionary-Extension"><a href="#NSDictionary-Extension" class="headerlink" title="NSDictionary+Extension"></a>NSDictionary+Extension</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">NSString</span> *)descriptionWithLocale:(<span class="keyword">id</span>)locale</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSMutableString</span> *msr = [<span class="built_in">NSMutableString</span> string];</span><br><span class="line">    [msr appendString:<span class="string">@"&#123;"</span>];</span><br><span class="line">    [<span class="keyword">self</span> enumerateKeysAndObjectsUsingBlock:^(<span class="keyword">id</span> key, <span class="keyword">id</span> obj, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">        [msr appendFormat:<span class="string">@"\n\t%@ = %@,"</span>,key,obj];</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="comment">//去掉最后一个逗号（,）</span></span><br><span class="line">    <span class="keyword">if</span> ([msr hasSuffix:<span class="string">@","</span>]) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *str = [msr substringToIndex:msr.length - <span class="number">1</span>];</span><br><span class="line">        msr = [<span class="built_in">NSMutableString</span> stringWithString:str];</span><br><span class="line">    &#125;</span><br><span class="line">    [msr appendString:<span class="string">@"\n&#125;"</span>];</span><br><span class="line">    <span class="keyword">return</span> msr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="NSDictionary-的-value为空造成的crash"><a href="#NSDictionary-的-value为空造成的crash" class="headerlink" title="NSDictionary 的 value为空造成的crash"></a><strong>NSDictionary</strong> 的 value为空造成的crash</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 填充value为空造成的crash</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @return 修改后的NSDictionary</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//.h</span></span><br><span class="line">- (<span class="built_in">NSDictionary</span> *)deleteAllNULLValue;</span><br><span class="line"></span><br><span class="line"><span class="comment">//.m</span></span><br><span class="line">- (<span class="built_in">NSDictionary</span> *)deleteAllNULLValue &#123;</span><br><span class="line">    <span class="built_in">NSMutableDictionary</span> *mutableDic = [[<span class="built_in">NSMutableDictionary</span> alloc] init];</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSString</span> *keyStr <span class="keyword">in</span> <span class="keyword">self</span>.allKeys) &#123;</span><br><span class="line">        <span class="keyword">if</span> ([[<span class="keyword">self</span> objectForKey:keyStr] isEqual:[<span class="built_in">NSNull</span> null]]) &#123;</span><br><span class="line">            [mutableDic setObject:<span class="string">@"null"</span> forKey:keyStr];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            [mutableDic setObject:[<span class="keyword">self</span> objectForKey:keyStr] forKey:keyStr];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mutableDic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其他方法</p>
<ul>
<li><a href="https://github.com/524429264/HYBUnicodeReadable" target="_blank" rel="noopener">GitHub:HYBUnicodeReadable</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/21/CocoaLumberjack——简单好用的日志框架/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/21/CocoaLumberjack——简单好用的日志框架/" class="post-title-link" itemprop="url">CocoaLumberjack——简单好用的日志框架</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-21 17:38:00" itemprop="dateCreated datePublished" datetime="2017-06-21T17:38:00+08:00">2017-06-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:08:14" itemprop="dateModified" datetime="2019-04-18T01:08:14+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/21/CocoaLumberjack——简单好用的日志框架/" class="leancloud_visitors" data-flag-title="CocoaLumberjack——简单好用的日志框架">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<ul>
<li>GitHub源码:<a href="https://github.com/CocoaLumberjack/CocoaLumberjack" target="_blank" rel="noopener">CocoaLumberjack</a></li>
<li><p>star:9000+</p>
</li>
<li><p><a href="http://lemonjar.com/iosconsole/" target="_blank" rel="noopener">iOS Console</a></p>
</li>
</ul>
<h1 id="README-md"><a href="#README-md" class="headerlink" title="README.md"></a>README.md</h1><p><img src="http://upload-images.jianshu.io/upload_images/2648731-91234ade511187ff.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Lumberjack logo"></p>
<p><strong>CocoaLumberjack</strong> 是一个适用于Mac和iOS的快速、简单，而且功能强大且灵活的日志框架</p>
<h3 id="如何开始"><a href="#如何开始" class="headerlink" title="如何开始"></a>如何开始</h3><ul>
<li>通过 <a href="http://cocoapods.org" target="_blank" rel="noopener">CocoaPods</a> 安装</li>
</ul>
<h5 id="通过-CocoaPods-安装-Swift-版本"><a href="#通过-CocoaPods-安装-Swift-版本" class="headerlink" title="通过 CocoaPods 安装 Swift 版本"></a>通过 CocoaPods 安装 Swift 版本</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">platform <span class="symbol">:ios</span>, <span class="string">'8.0'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You need to set target when you use CocoaPods 1.0.0 or later.</span></span><br><span class="line">target <span class="string">'SampleTarget'</span> <span class="keyword">do</span> </span><br><span class="line">  use_frameworks!</span><br><span class="line">  pod <span class="string">'CocoaLumberjack/Swift'</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>注意: <code>Swift</code> 子空间中包含了所有的 Objectice-C 代码和 Swift 代码，所以这是足够的。<br>For more details about how to use Swift with Lumberjack, see <a href="https://github.com/CocoaLumberjack/CocoaLumberjack/issues/405" target="_blank" rel="noopener">this conversation</a>.</p>
<h5 id="Swift-用法"><a href="#Swift-用法" class="headerlink" title="Swift 用法"></a>Swift 用法</h5><p>If you installed using CocoaPods or manually:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> CocoaLumberjack</span><br></pre></td></tr></table></figure></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DDLog</span>.add(<span class="type">DDTTYLogger</span>.sharedInstance) <span class="comment">// TTY = Xcode console</span></span><br><span class="line"><span class="type">DDLog</span>.add(<span class="type">DDASLLogger</span>.sharedInstance) <span class="comment">// ASL = Apple System Logs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fileLogger: <span class="type">DDFileLogger</span> = <span class="type">DDFileLogger</span>() <span class="comment">// File Logger</span></span><br><span class="line">fileLogger.rollingFrequency = <span class="type">TimeInterval</span>(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>)  <span class="comment">// 24 hours</span></span><br><span class="line">fileLogger.logFileManager.maximumNumberOfLogFiles = <span class="number">7</span></span><br><span class="line"><span class="type">DDLog</span>.add(fileLogger)</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="type">DDLogVerbose</span>(<span class="string">"Verbose"</span>);</span><br><span class="line"><span class="type">DDLogDebug</span>(<span class="string">"Debug"</span>);</span><br><span class="line"><span class="type">DDLogInfo</span>(<span class="string">"Info"</span>);</span><br><span class="line"><span class="type">DDLogWarn</span>(<span class="string">"⚠️"</span>);</span><br><span class="line"><span class="type">DDLogError</span>(<span class="string">"Error"</span>);</span><br></pre></td></tr></table></figure>
<h5 id="通过-CocoaPods-安装-Objectice-C-版本"><a href="#通过-CocoaPods-安装-Objectice-C-版本" class="headerlink" title="通过 CocoaPods 安装 Objectice-C 版本"></a>通过 CocoaPods 安装 Objectice-C 版本</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">platform <span class="symbol">:ios</span>, <span class="string">'7.0'</span></span><br><span class="line">pod <span class="string">'CocoaLumberjack'</span></span><br></pre></td></tr></table></figure>
<h5 id="Obj-C-用法"><a href="#Obj-C-用法" class="headerlink" title="Obj-C 用法"></a>Obj-C 用法</h5><p>如果你把 <strong>Lumberjack</strong> 作为框架导入，你可以 <code>@import CocoaLumberjack</code>。</p>
<p>否则, <code>#import &lt;CocoaLumberjack/CocoaLumberjack.h&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[DDLog addLogger:[DDTTYLogger sharedInstance]]; // TTY = Xcode 控制台</span><br><span class="line">[DDLog addLogger:[DDASLLogger sharedInstance]]; // ASL = Apple System Logs 苹果系统日志</span><br><span class="line"></span><br><span class="line">DDFileLogger *fileLogger = [[DDFileLogger alloc] init]; // 本地文件日志</span><br><span class="line">fileLogger.rollingFrequency = 60 * 60 * 24; // 每24小时创建一个新文件</span><br><span class="line">fileLogger.logFileManager.maximumNumberOfLogFiles = 7; // 最多允许创建7个文件</span><br><span class="line">[DDLog addLogger:fileLogger];</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">DDLogVerbose(@&quot;Verbose&quot;);</span><br><span class="line">DDLogDebug(@&quot;Debug&quot;);</span><br><span class="line">DDLogInfo(@&quot;Info&quot;);</span><br><span class="line">DDLogWarn(@&quot;⚠️&quot;);</span><br><span class="line">DDLogError(@&quot;Error&quot;);</span><br></pre></td></tr></table></figure>
<h5 id="使用-Carthage-iOS-8-安装"><a href="#使用-Carthage-iOS-8-安装" class="headerlink" title="使用 Carthage (iOS 8+) 安装"></a>使用 Carthage (iOS 8+) 安装</h5><p><a href="https://github.com/Carthage/Carthage" target="_blank" rel="noopener">Carthage</a> is a lightweight dependency manager for Swift and Objective-C. It leverages CocoaTouch modules and is less invasive than CocoaPods.</p>
<p>To install with Carthage, follow the instruction on <a href="https://github.com/Carthage/Carthage" target="_blank" rel="noopener">Carthage</a></p>
<p>Cartfile<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">github</span> <span class="string">"CocoaLumberjack/CocoaLumberjack"</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>or <a href="Documentation/GettingStarted.md#manual-installation">install manually</a></li>
<li>read the <a href="Documentation/GettingStarted.md">Getting started</a> guide, check out the <a href="Documentation/FAQ.md">FAQ</a> section or the other <a href="Documentation/">docs</a></li>
<li>if you find issues or want to suggest improvements, create an issue or a pull request</li>
<li>for all kinds of questions involving CocoaLumberjack, use the <a href="http://groups.google.com/group/cocoalumberjack" target="_blank" rel="noopener">Google group</a> or StackOverflow (use <a href="http://stackoverflow.com/questions/tagged/lumberjack" target="_blank" rel="noopener">#lumberjack</a>).</li>
</ul>
<h3 id="CocoaLumberjack-3"><a href="#CocoaLumberjack-3" class="headerlink" title="CocoaLumberjack 3"></a>CocoaLumberjack 3</h3><h4 id="迁移到-3-x"><a href="#迁移到-3-x" class="headerlink" title="迁移到 3.x"></a>迁移到 3.x</h4><ul>
<li>待定</li>
</ul>
<h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><h4 id="Lumberjack-是-快速-amp-简单-而且强大-amp-灵活的"><a href="#Lumberjack-是-快速-amp-简单-而且强大-amp-灵活的" class="headerlink" title="Lumberjack 是 快速 &amp; 简单, 而且强大 &amp; 灵活的."></a>Lumberjack 是 快速 &amp; 简单, 而且强大 &amp; 灵活的.</h4><p>它在概念上与其他流行的日志记录框架类似，如log4j，它是专为 <strong>Objective-C</strong> 设计的，并且利用了诸如多线程，GCD（如果可用），无锁原子操作（lockless atomic operations）和动态性质的 <strong>Objective-C</strong> runtime。</p>
<h4 id="Lumberjack-更快速"><a href="#Lumberjack-更快速" class="headerlink" title="Lumberjack 更快速"></a>Lumberjack 更快速</h4><p>在大多数情况下，它比 <code>NSLog</code> 快一个数量级。</p>
<h4 id="Lumberjack-是简单的"><a href="#Lumberjack-是简单的" class="headerlink" title="Lumberjack 是简单的"></a>Lumberjack 是简单的</h4><p>当应用程序启动时，它几乎只需要一行代码来配置 <strong>lumberjack</strong>。 然后只需用 <code>DDLog</code> 语句替换您的 <code>NSLog</code> 语句即可。 （并且 <code>DDLog</code> 宏与 <code>NSLog</code> 具有完全相同的格式和语法，因此它非常简单。）</p>
<h4 id="Lumberjack-是强大的"><a href="#Lumberjack-是强大的" class="headerlink" title="Lumberjack 是强大的"></a>Lumberjack 是强大的</h4><p>一条日志语句可以被发送到多个记录器上，这意味着你可以同时登录到文件和控制台。 想要更多？ 创建自己的记录器（很简单），并通过网络发送您的日志。 或者到数据库或分布式文件系统。 限制它的只有天空(The sky is the limit)。</p>
<h4 id="Lumberjack-是灵活的"><a href="#Lumberjack-是灵活的" class="headerlink" title="Lumberjack 是灵活的:"></a>Lumberjack 是灵活的:</h4><p>配置你需要记录的日志。 更改每个文件的日志级别（便于完美调试）。更改每个记录器的日志级别（详细的控制台，但简明的日志文件）。 更改每个 Xcode配置的日志级别（详细调试，但简明扼要）。 将日志语句从发行版本中编译出来。 自定义应用程序的日志级别数量。 添加适合你自己的日志。 在运行时动态更改日志级别。 选择如何以及何时希望日志文件滚动。 将日志文件上传到中央服务器。 压缩归档日志文件以节省磁盘空间…</p>
<h3 id="这个框架就是为你准备的如果"><a href="#这个框架就是为你准备的如果" class="headerlink" title="这个框架就是为你准备的如果:"></a>这个框架就是为你准备的如果:</h3><ul>
<li>你正在寻找一种方法来追踪不可再现的错误，这些错误在该领域不断涌现。</li>
<li>你对iPhone上的超短控制台日志感到沮丧。</li>
<li>你正在寻求在支持性和稳定性方面将应用提升到一个新的水平。</li>
<li>你正在为你的应用程序（Mac或iPhone）寻找企业级日志记录解决方案。</li>
</ul>
<h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><ul>
<li><strong><a href="Documentation/GettingStarted.md">Get started using Lumberjack</a></strong></li>
<li><a href="Documentation/XcodeTricks.md">Different log levels for Debug and Release builds</a></li>
<li><a href="Documentation/PerLoggerLogLevels.md">Different log levels for each logger</a></li>
<li><a href="Documentation/XcodeColors.md">Use colors in the Xcode debugging console</a></li>
<li><a href="Documentation/CustomFormatters.md">Write your own custom formatters</a></li>
<li><a href="Documentation/FAQ.md">FAQ</a></li>
<li><a href="Documentation/Performance.md">Analysis of performance with benchmarks</a></li>
<li><a href="Documentation/ProblemSolution.md">Common issues you may encounter and their solutions</a></li>
<li><a href="Documentation/AppCode-support.md">AppCode support</a></li>
<li><strong><a href="Documentation/">Full Lumberjack documentation</a></strong></li>
</ul>
<h3 id="配置需求"><a href="#配置需求" class="headerlink" title="配置需求"></a>配置需求</h3><p>当前版本的 <strong>Lumberjack</strong> 需要:</p>
<ul>
<li>Xcode 8 or later</li>
<li>Swift 3.0 or later</li>
<li>iOS 5 or later</li>
<li>OS X 10.7 or later</li>
<li>WatchOS 2 or later</li>
<li>TVOS 9 or later</li>
</ul>
<h4 id="向后兼容性"><a href="#向后兼容性" class="headerlink" title="向后兼容性"></a>向后兼容性</h4><ul>
<li>for Xcode 7.3 and Swift 2.3, use the 2.4.0 version</li>
<li>for Xcode 7.3 and Swift 2.2, use the 2.3.0 version</li>
<li>for Xcode 7.2 and 7.1, use the 2.2.0 version</li>
<li>for Xcode 7.0 or earlier, use the 2.1.0 version</li>
<li>for Xcode 6 or earlier, use the 2.0.x version</li>
<li>for OS X &lt; 10.7 support, use the 1.6.0 version</li>
</ul>
<h3 id="沟通"><a href="#沟通" class="headerlink" title="沟通"></a>沟通</h3><ul>
<li>If you <strong>need help</strong>, use <a href="http://stackoverflow.com/questions/tagged/lumberjack" target="_blank" rel="noopener">Stack Overflow</a>. (Tag ‘lumberjack’)</li>
<li>If you’d like to <strong>ask a general question</strong>, use <a href="http://stackoverflow.com/questions/tagged/lumberjack" target="_blank" rel="noopener">Stack Overflow</a>.</li>
<li>If you <strong>found a bug</strong>, open an issue.</li>
<li>If you <strong>have a feature request</strong>, open an issue.</li>
<li>If you <strong>want to contribute</strong>, submit a pull request.</li>
</ul>
<h3 id="作者"><a href="#作者" class="headerlink" title="作者"></a>作者</h3><ul>
<li><a href="https://github.com/robbiehanson" target="_blank" rel="noopener">Robbie Hanson</a></li>
<li>Love the project? Wanna buy me a coffee? (or a beer :D) <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=UZRA26JPJB3DA" target="_blank" rel="noopener">[图片上传失败…(image-d928bf-1510647423281)]</a></li>
</ul>
<h3 id="Collaborators"><a href="#Collaborators" class="headerlink" title="Collaborators"></a>Collaborators</h3><ul>
<li><a href="https://github.com/rivera-ernesto" target="_blank" rel="noopener">Ernesto Rivera</a></li>
<li><a href="https://github.com/dvor" target="_blank" rel="noopener">Dmitry Vorobyov</a></li>
<li><a href="https://github.com/bpoplauschi" target="_blank" rel="noopener">Bogdan Poplauschi</a></li>
<li><a href="https://github.com/MaddTheSane" target="_blank" rel="noopener">C.W. Betts</a></li>
</ul>
<h3 id="License"><a href="#License" class="headerlink" title="License"></a>License</h3><ul>
<li>CocoaLumberjack is available under the BSD license. See the <a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/LICENSE.txt" target="_blank" rel="noopener">LICENSE file</a>.</li>
</ul>
<h3 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-7a30a685c34455a5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>⚠️ 光看 <strong>README.md</strong> 文档其实是完全不够的，我发现实际项目中使用时还是有很多注意点，最好详细看看 <strong>Documentation</strong> 里面的文章。</p>
<h3 id="使用此框架前，打印日志是这么做的"><a href="#使用此框架前，打印日志是这么做的" class="headerlink" title="使用此框架前，打印日志是这么做的"></a>使用此框架前，打印日志是这么做的</h3><hr>
<p>记录日志一般做法是在 Release 模式下禁用 NSLog，比如在 <code>.pch</code> 文件中，通过对环境的判断，对 <code>NSLog</code> 做不同的处理。因此，在不使用 <strong>CocoaLumberjack</strong> 之前，我的<code>.pch</code> 文件中是这样写的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/****************** 打印日志 ******************/</span><br><span class="line">#ifdef DEBUG</span><br><span class="line">#define HQString [NSString stringWithFormat:@&quot;%s&quot;, __FILE__].lastPathComponent</span><br><span class="line">#define HQLog(...) printf(&quot;%s: %s 第%d行:\n %s\n\n&quot;, [[NSString hql_stringDate] UTF8String], [HQString UTF8String] , __LINE__, [[NSString stringWithFormat:__VA_ARGS__] UTF8String]);</span><br><span class="line">#else</span><br><span class="line">#define  HQLog(...);</span><br><span class="line">#endif	/* DEBUG */</span><br></pre></td></tr></table></figure>
<p>还需要为 <code>NSString</code> 类写一个范畴类方法输出时间：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+ (NSString *)hql_stringDate &#123;</span><br><span class="line">    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">    [dateFormatter setDateFormat:@&quot;YYYY-MM-dd hh:mm:ss&quot;];</span><br><span class="line">    NSString *dateString = [dateFormatter stringFromDate:[NSDate date]];</span><br><span class="line">    return dateString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="项目中使用CocoaLumberjack"><a href="#项目中使用CocoaLumberjack" class="headerlink" title="项目中使用CocoaLumberjack"></a>项目中使用CocoaLumberjack</h2><ul>
<li><a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/GettingStarted.md" target="_blank" rel="noopener">Getting started with the CocoaLumberjack framework.</a></li>
</ul>
<hr>
<p>使用 <strong>CocoaLumberjack</strong>  分为三步：</p>
<ol>
<li>添加 <strong>CocoaLumberjack</strong> 文件到项目中；</li>
<li>链接配置 <strong>CocoaLumberjack</strong>；</li>
<li>将你的 <code>NSLog</code> 语句转换为使用 <strong>CocoaLumberjack</strong> 宏;</li>
</ol>
<h3 id="添加-CocoaLumberjack-文件到项目中"><a href="#添加-CocoaLumberjack-文件到项目中" class="headerlink" title="添加 CocoaLumberjack 文件到项目中"></a>添加 <strong>CocoaLumberjack</strong> 文件到项目中</h3><h4 id="Cocoapods"><a href="#Cocoapods" class="headerlink" title="Cocoapods"></a>Cocoapods</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">platform :ios, &apos;8.0&apos;</span><br><span class="line">pod &apos;CocoaLumberjack&apos;</span><br></pre></td></tr></table></figure>
<h3 id="链接配置-CocoaLumberjack"><a href="#链接配置-CocoaLumberjack" class="headerlink" title="链接配置 CocoaLumberjack"></a>链接配置 <strong>CocoaLumberjack</strong></h3><ol>
<li>引入头文件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define LOG_LEVEL_DEF ddLogLevel</span><br><span class="line">#import &lt;CocoaLumberjack/CocoaLumberjack.h&gt;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>设置全局状态 Log 级别</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">static const DDLogLevel ddLogLevel = DDLogLevelDebug;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>以上两个步骤在 <code>.pch</code> 中设置如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/** 打印日志 */</span><br><span class="line">#define LOG_LEVEL_DEF ddLogLevel</span><br><span class="line">#import &lt;CocoaLumberjack/CocoaLumberjack.h&gt;</span><br><span class="line"></span><br><span class="line">#ifdef DEBUG</span><br><span class="line">static const DDLogLevel ddLogLevel = DDLogLevelVerbose;</span><br><span class="line">#else</span><br><span class="line">static const DDLogLevel ddLogLevel = DDLogLevelWarning;</span><br><span class="line">#endif	/* DEBUG */</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><code>AppDelegate.m</code>文件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123;</span><br><span class="line">    // DDTTYLogger，你的日志语句将被发送到Xcode控制台</span><br><span class="line">    [DDLog addLogger:[DDTTYLogger sharedInstance]];</span><br><span class="line"></span><br><span class="line">    // DDASLLogger，你的日志语句将被发送到苹果文件系统、你的日志状态会被发送到 Console.app</span><br><span class="line">    [DDLog addLogger:[DDASLLogger sharedInstance]];</span><br><span class="line"></span><br><span class="line">    // DDFileLogger，你的日志语句将写入到一个文件中，默认路径在沙盒的Library/Caches/Logs/目录下，文件名为bundleid+空格+日期.log。</span><br><span class="line">    DDFileLogger *fileLogger = [[DDFileLogger alloc] init];</span><br><span class="line">    fileLogger.rollingFrequency = 60 * 60 * 24; // 刷新频率为24小时</span><br><span class="line">    fileLogger.logFileManager.maximumNumberOfLogFiles = 7; // 保存一周的日志，即7天</span><br><span class="line">    [DDLog addLogger:fileLogger];</span><br><span class="line"></span><br><span class="line">    // 产生Log</span><br><span class="line">    DDLogVerbose(@&quot;Verbose&quot;);	// 详细日志</span><br><span class="line">    DDLogDebug(@&quot;Debug&quot;);    	// 调试日志</span><br><span class="line">    DDLogInfo(@&quot;Info&quot;);     	// 信息日志</span><br><span class="line">    DDLogWarn(@&quot;Warn&quot;);			// 警告日志</span><br><span class="line">    DDLogError(@&quot;Error&quot;);		// 错误日志</span><br><span class="line"></span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行程序，可以在Xocde控制台看到：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1608265-b750b65396b1febe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>使用前后的变化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Convert from this:</span><br><span class="line">NSLog(@&quot;Broken sprocket detected!&quot;);</span><br><span class="line">NSLog(@&quot;User selected file:%@ withSize:%u&quot;, filePath, fileSize);</span><br><span class="line"></span><br><span class="line">// To this:</span><br><span class="line">DDLogError(@&quot;Broken sprocket detected!&quot;);</span><br><span class="line">DDLogVerbose(@&quot;User selected file:%@ withSize:%u&quot;, filePath, fileSize);</span><br></pre></td></tr></table></figure>
<p>正如你所看到的那样，<code>DDLog</code> 宏与 <code>NSLog</code> 具有完全相同的语法。</p>
<h2 id="CocoaLumberjack-的-Log-样式"><a href="#CocoaLumberjack-的-Log-样式" class="headerlink" title="CocoaLumberjack 的 Log 样式"></a>CocoaLumberjack 的 Log 样式</h2><ol>
<li><strong>DDLog</strong>（整个框架的基础）</li>
<li><strong>DDASLLogger</strong>（发送日志到苹果的日志系统，以便它们显示在Console.app上）</li>
<li><strong>DDTTYLoyger</strong>（发送日志到Xcode控制台）</li>
<li><strong>DDFIleLoger</strong>（把日志写入本地文件）</li>
</ol>
<h3 id="Log级别"><a href="#Log级别" class="headerlink" title="Log级别"></a>Log级别</h3><p>你需要考虑用哪种日志级别，<strong>CocoaLumberjack</strong> 有5种 <code>DDLogFlag</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">typedef NS_OPTIONS(NSUInteger, DDLogFlag)&#123;</span><br><span class="line">    DDLogFlagError      = (1 &lt;&lt; 0),</span><br><span class="line">    DDLogFlagWarning    = (1 &lt;&lt; 1),</span><br><span class="line">    DDLogFlagInfo       = (1 &lt;&lt; 2),</span><br><span class="line">    DDLogFlagDebug      = (1 &lt;&lt; 3),</span><br><span class="line">    DDLogFlagVerbose    = (1 &lt;&lt; 4)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>DDLogLevel</code> 用来过滤每条Log</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">typedef NS_ENUM(NSUInteger, DDLogLevel)&#123;</span><br><span class="line">    DDLogLevelOff       = 0,</span><br><span class="line">    DDLogLevelError     = (DDLogFlagError),</span><br><span class="line">    DDLogLevelWarning   = (DDLogLevelError   | DDLogFlagWarning),</span><br><span class="line">    DDLogLevelInfo      = (DDLogLevelWarning | DDLogFlagInfo),</span><br><span class="line">    DDLogLevelDebug     = (DDLogLevelInfo    | DDLogFlagDebug),</span><br><span class="line">    DDLogLevelVerbose   = (DDLogLevelDebug   | DDLogFlagVerbose),</span><br><span class="line">    DDLogLevelAll       = NSUIntegerMax</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>例如，如果你将日志级别设置为 <code>DDLogLevelInfo</code>，那么你会看到 <strong>DDLogLevelError</strong>、<strong>DDLogLevelWarning</strong> 和<strong>DDLogLevelInfo</strong>语句。</p>
<p>你也可以<a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/CustomLogLevels.md" target="_blank" rel="noopener">自定义Log级别或者每个级别的名字</a>或者<a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/FineGrainedLogging.md" target="_blank" rel="noopener">在单纯的级别上增加一些高级用法</a></p>
<hr>
<ul>
<li><a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/XcodeTricks.md" target="_blank" rel="noopener">Automatically use different log levels per xcode configuration.</a></li>
</ul>
<p>我们也可以为Debug和Release模式设置不同的Log级别：</p>
<p>Xcode 4+ :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#ifdef DEBUG </span><br><span class="line">static const DDLogLevel ddLogLevel = DDLogLevelVerbose;</span><br><span class="line">#else </span><br><span class="line">static const DDLogLevel ddLogLevel = DDLogLevelWarning;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<hr>
<ul>
<li><a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/PerLoggerLogLevels.md" target="_blank" rel="noopener">Use Log Level per Logger</a></li>
</ul>
<p>我们还可以为每种 logger 记录器设置不同的日志级别：</p>
<p>如果你需要为每个 logger 记录器使用不同的日志级别（即，如果你有自定义记录器，如Crashlytics记录器，它不应该记录 Info 或 Debug），你就可以使用 <code>[DDLog addLogger：withLevel：]</code>方法轻松实现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[DDLog addLogger:[DDASLLogger sharedInstance] withLevel:DDLogLevelInfo];</span><br><span class="line">[DDLog addLogger:[DDTTYLogger sharedInstance] withLevel:DDLogLevelDebug];</span><br></pre></td></tr></table></figure>
<p>你仍然可以使用旧的类方法<code>+ addLogger：</code>，该方法使用 <strong>DDLogLevelVerbose</strong> 作为默认值，它不会排除任何日志。</p>
<p>你可以通过 <code>[DDLog allLoggersWithLevel]</code>方法检索与 <strong>DDLog</strong> 关联的每个记录器和级别的列表。</p>
<hr>
<h3 id="自定义日志格式"><a href="#自定义日志格式" class="headerlink" title="自定义日志格式"></a>自定义日志格式</h3><ul>
<li><a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/CustomFormatters.md" target="_blank" rel="noopener">官方文档自定义日志的formatter格式</a>：</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .h</span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;DDLog.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">HQLCustomFormatter</span> : <span class="title">NSObject</span> &lt;<span class="title">DDLogFormatter</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> atomicLoggerCount;</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *threadUnsafeDateFormatter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// .m</span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"HQLCustomFormatter.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;libkern/OSAtomic.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="built_in">NSString</span> *<span class="keyword">const</span> KdateFormatString = <span class="string">@"yyyy/MM/dd HH:mm:ss"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">HQLCustomFormatter</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)stringFromDate:(<span class="built_in">NSDate</span> *)date &#123;</span><br><span class="line">    int32_t loggerCount = OSAtomicAdd32(<span class="number">0</span>, &amp;atomicLoggerCount);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (loggerCount &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// Single-threaded mode.</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (threadUnsafeDateFormatter == <span class="literal">nil</span>) &#123;</span><br><span class="line">            threadUnsafeDateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];</span><br><span class="line">            [threadUnsafeDateFormatter setDateFormat:KdateFormatString];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [threadUnsafeDateFormatter stringFromDate:date];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Multi-threaded mode.</span></span><br><span class="line">        <span class="comment">// NSDateFormatter is NOT thread-safe.</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSString</span> *key = <span class="string">@"MyCustomFormatter_NSDateFormatter"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSMutableDictionary</span> *threadDictionary = [[<span class="built_in">NSThread</span> currentThread] threadDictionary];</span><br><span class="line">        <span class="built_in">NSDateFormatter</span> *dateFormatter = [threadDictionary objectForKey:key];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (dateFormatter == <span class="literal">nil</span>) &#123;</span><br><span class="line">            dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];</span><br><span class="line">            [dateFormatter setDateFormat:KdateFormatString];</span><br><span class="line">            </span><br><span class="line">            [threadDictionary setObject:dateFormatter forKey:key];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [dateFormatter stringFromDate:date];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - DDLogFormatter</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)formatLogMessage:(DDLogMessage *)logMessage &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *logLevel; <span class="comment">// 日志等级</span></span><br><span class="line">    <span class="keyword">switch</span> (logMessage-&gt;_flag) &#123;</span><br><span class="line">        <span class="keyword">case</span> DDLogFlagError    : logLevel = <span class="string">@"Error"</span>;   <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> DDLogFlagWarning  : logLevel = <span class="string">@"Warning"</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> DDLogFlagInfo     : logLevel = <span class="string">@"Info"</span>;    <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> DDLogFlagDebug    : logLevel = <span class="string">@"Debug"</span>;   <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>                : logLevel = <span class="string">@"Verbose"</span>; <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSString</span> *dateAndTime = [<span class="keyword">self</span> stringFromDate:(logMessage.timestamp)]; <span class="comment">// 日期和时间</span></span><br><span class="line">    <span class="built_in">NSString</span> *logFileName = logMessage -&gt; _fileName; <span class="comment">// 文件名</span></span><br><span class="line">    <span class="built_in">NSString</span> *logFunction = logMessage -&gt; _function; <span class="comment">// 方法名</span></span><br><span class="line">    <span class="built_in">NSUInteger</span> logLine = logMessage -&gt; _line;        <span class="comment">// 行号</span></span><br><span class="line">    <span class="built_in">NSString</span> *logMsg = logMessage-&gt;_message;         <span class="comment">// 日志消息</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 日志格式：日期和时间 文件名 方法名 : 行数 &lt;日志等级&gt; 日志消息</span></span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@ %@ %@ : %lu &lt;%@&gt; %@"</span>, dateAndTime, logFileName, logFunction, logLine, logLevel, logMsg];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didAddToLogger:(<span class="keyword">id</span> &lt;DDLogger&gt;)logger &#123;</span><br><span class="line">    OSAtomicIncrement32(&amp;atomicLoggerCount);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)willRemoveFromLogger:(<span class="keyword">id</span> &lt;DDLogger&gt;)logger &#123;</span><br><span class="line">    OSAtomicDecrement32(&amp;atomicLoggerCount);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>最后，自定义好日志之后记得添加<br><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">[DDTTYLogger sharedInstance]</span>.logFormatter = <span class="comment">[<span class="comment">[HQLCustomFormatter alloc]</span> init]</span>; // 自定义日志</span><br><span class="line"><span class="comment">[DDLog addLogger:<span class="comment">[DDTTYLogger sharedInstance]</span>]</span>; // TTY = Xcode console</span><br><span class="line"><span class="comment">[DDLog addLogger:<span class="comment">[DDASLLogger sharedInstance]</span>]</span>; // ASL = Apple System Logs</span><br><span class="line"></span><br><span class="line">DDFileLogger *fileLogger = <span class="comment">[<span class="comment">[DDFileLogger alloc]</span> init]</span>; // File Logger</span><br><span class="line">fileLogger.rollingFrequency = 60 * 60 * 24; // 24 hour rolling</span><br><span class="line">fileLogger.logFileManager.maximumNumberOfLogFiles = 7;</span><br><span class="line"><span class="comment">[DDLog addLogger:fileLogger]</span>;</span><br></pre></td></tr></table></figure></p>
<p>更多详细文档:</p>
<ul>
<li><a href="https://github.com/CocoaLumberjack/CocoaLumberjack/tree/master/Documentation" target="_blank" rel="noopener">CocoaLumberjack Documentation</a></li>
</ul>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-7a9ea31f196204cf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
</blockquote>
<h4 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h4><ul>
<li><a href="https://github.com/CocoaLumberjack/CocoaLumberjack/blob/master/Documentation/GettingStarted.md" target="_blank" rel="noopener"><em>Getting started with the CocoaLumberjack framework.</em></a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#define LOG_LEVEL_DEF ddLogLevel // 要先设置宏定义</span><br><span class="line">#import &lt;CocoaLumberjack/CocoaLumberjack.h&gt;</span><br><span class="line"></span><br><span class="line">#ifdef DEBUG</span><br><span class="line">static const DDLogLevel ddLogLevel = DDLogLevelVerbose; // ddLogLevel 注意大小写要一致</span><br><span class="line">#else</span><br><span class="line">static const DDLogLevel ddLogLevel = DDLogLevelWarning;</span><br><span class="line">#endif	/* DEBUG */</span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://www.jianshu.com/p/7b799bef0107" target="_blank" rel="noopener">CocoaLumberjack：简单好用的Log库</a></li>
<li><a href="https://zllbird.github.io/2016/01/09/cocoalumberjack的集成和学习/" target="_blank" rel="noopener">CocoaLumberjack的集成和学习</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/21/iOS 编程：密码输入框 HQLPasswordViewDemo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/21/iOS 编程：密码输入框 HQLPasswordViewDemo/" class="post-title-link" itemprop="url">iOS 编程：密码输入框 HQLPasswordViewDemo</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-21 09:37:00" itemprop="dateCreated datePublished" datetime="2017-06-21T09:37:00+08:00">2017-06-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:11:28" itemprop="dateModified" datetime="2019-04-18T01:11:28+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/21/iOS 编程：密码输入框 HQLPasswordViewDemo/" class="leancloud_visitors" data-flag-title="iOS 编程：密码输入框 HQLPasswordViewDemo">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="HQLPasswordViewDemo"><a href="#HQLPasswordViewDemo" class="headerlink" title="HQLPasswordViewDemo"></a>HQLPasswordViewDemo</h1><p>之前一篇文章：<a href="http://www.jianshu.com/p/833a38476c63" target="_blank" rel="noopener">密码输入框：CYPasswordView_Block 源码解析</a> 粗略的分析了 <strong>CYPasswordView</strong> 的源码，因为要用到，但是总觉得实现的方式不够优雅，于是我又照着重写了一遍，在大致实现方式基本不变的情况下，优化了些许地方：</p>
<h3 id="一、框架结构"><a href="#一、框架结构" class="headerlink" title="一、框架结构"></a>一、框架结构</h3><hr>
<p>框架结构基本不变：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-3be0d798b2a87150.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="二、HQLPasswordBackgroundView"><a href="#二、HQLPasswordBackgroundView" class="headerlink" title="二、HQLPasswordBackgroundView"></a>二、HQLPasswordBackgroundView</h3><hr>
<p>背景视图：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-f8ab82a1c1e54a7d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>修改或者优化的地方：</p>
<ul>
<li>标题改用 label 标签的形式显示；</li>
<li><code>drawRect:</code> 方法中只画了背景视图和输入框；</li>
<li>重构了重置小圆点的实现方式；</li>
</ul>
<h4 id="1️⃣-标题改用-label-标签的形式显示"><a href="#1️⃣-标题改用-label-标签的形式显示" class="headerlink" title="1️⃣ 标题改用 label 标签的形式显示"></a>1️⃣ 标题改用 label 标签的形式显示</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - Lifecycle</span><br><span class="line"></span><br><span class="line">- (instancetype)initWithFrame:(CGRect)frame &#123;</span><br><span class="line">    self = [super initWithFrame:frame];</span><br><span class="line">    if (self) &#123;</span><br><span class="line">        [self setupSubViews];</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 添加子控件 */</span><br><span class="line">- (void)setupSubViews &#123;</span><br><span class="line">    [self addSubview:self.titleLabel];</span><br><span class="line">    [self addSubview:self.closeButton];</span><br><span class="line">    [self addSubview:self.forgetPwdButton];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)layoutSubviews &#123;</span><br><span class="line">    [super layoutSubviews];</span><br><span class="line">    </span><br><span class="line">    // 设置【标题】的坐标</span><br><span class="line">    self.titleLabel.centerX = HQLScreenWidth * 0.5;</span><br><span class="line">    self.titleLabel.centerY = HQLPasswordViewTitleHeight * 0.5;</span><br><span class="line">    </span><br><span class="line">    // 设置【关闭按钮】的坐标</span><br><span class="line">    self.closeButton.width  = HQLPasswordViewCloseButtonWH;</span><br><span class="line">    self.closeButton.height = HQLPasswordViewCloseButtonWH;</span><br><span class="line">    self.closeButton.x = HQLPasswordViewCloseButtonMarginLeft;</span><br><span class="line">    self.closeButton.centerY = HQLPasswordViewTitleHeight * 0.5;</span><br><span class="line">    </span><br><span class="line">    // 设置【忘记密码】按钮的坐标</span><br><span class="line">    self.forgetPwdButton.x = HQLScreenWidth - (HQLScreenWidth - HQLPasswordViewTextFieldWidth) * 0.5 - self.forgetPwdButton.width;</span><br><span class="line">    self.forgetPwdButton.y = HQLPasswordViewTitleHeight + HQLPasswordViewTextFieldMarginTop + HQLPasswordViewTextFieldHeight + HQLPasswordViewForgetPWDButtonMarginTop;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2️⃣-drawRect-方法中只画了背景视图和输入框；"><a href="#2️⃣-drawRect-方法中只画了背景视图和输入框；" class="headerlink" title="2️⃣ drawRect: 方法中只画了背景视图和输入框；"></a>2️⃣ <code>drawRect:</code> 方法中只画了背景视图和输入框；</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (void)drawRect:(CGRect)rect &#123;</span><br><span class="line">    // 画背景视图</span><br><span class="line">    UIImage *backgroundImage =</span><br><span class="line">        [UIImage imageNamed:HQLPasswordViewSrcName(@&quot;password_background&quot;)];</span><br><span class="line">    [backgroundImage drawInRect:rect];</span><br><span class="line">    </span><br><span class="line">    // 画输入框</span><br><span class="line">    UIImage *imgTextField =</span><br><span class="line">        [UIImage imageNamed:HQLPasswordViewSrcName(@&quot;password_textfield&quot;)];</span><br><span class="line">    [imgTextField drawInRect:[self textFieldRect]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3️⃣-重构了重置小圆点的实现方式；"><a href="#3️⃣-重构了重置小圆点的实现方式；" class="headerlink" title="3️⃣ 重构了重置小圆点的实现方式；"></a>3️⃣ 重构了重置小圆点的实现方式；</h4><ol>
<li>首先数组中存放的是6个 <code>dotsImageView</code> 对象，对应6个不同位置的 ●</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">- (NSMutableArray *)dotsImgArray &#123;</span><br><span class="line">    if (!_dotsImgArray) &#123;</span><br><span class="line">        _dotsImgArray = [NSMutableArray arrayWithCapacity:KPasswordNumber];</span><br><span class="line">        for (int i = 0; i &lt; KPasswordNumber; i++) &#123;</span><br><span class="line">            </span><br><span class="line">            // textField 的 Rect</span><br><span class="line">            CGFloat textFieldW = HQLPasswordViewTextFieldWidth;</span><br><span class="line">            CGFloat textFieldH = HQLPasswordViewTextFieldHeight;</span><br><span class="line">            CGFloat textFieldX = (HQLScreenWidth - textFieldW) * 0.5;</span><br><span class="line">            CGFloat textFieldY = HQLPasswordViewTitleHeight + HQLPasswordViewTextFieldMarginTop;</span><br><span class="line">           </span><br><span class="line">            // 圆点 的 Rect</span><br><span class="line">            CGFloat pointW = HQLPasswordViewPointnWH;</span><br><span class="line">            CGFloat pointH = HQLPasswordViewPointnWH;</span><br><span class="line">            CGFloat pointY = textFieldY + (textFieldH - pointH) * 0.5;</span><br><span class="line">            // 一个格子的宽度</span><br><span class="line">            CGFloat cellW = textFieldW / KPasswordNumber;</span><br><span class="line">            CGFloat padding = (cellW - pointW) * 0.5;</span><br><span class="line">            // 圆点的 X</span><br><span class="line">            CGFloat pointX = textFieldX + (2 * i + 1) * padding + i * pointW;</span><br><span class="line">            // 添加圆形图片</span><br><span class="line">            UIImage *dotsImage =</span><br><span class="line">                [UIImage imageNamed:HQLPasswordViewSrcName(@&quot;password_point&quot;)];</span><br><span class="line">            UIImageView *dotsImageView =</span><br><span class="line">                [[UIImageView alloc] initWithImage:dotsImage];</span><br><span class="line">            dotsImageView.contentMode = UIViewContentModeScaleAspectFit;</span><br><span class="line">            dotsImageView.frame = CGRectMake(pointX, pointY, pointW, pointH);</span><br><span class="line">            // 先全部隐藏</span><br><span class="line">            dotsImageView.hidden = YES;</span><br><span class="line">            </span><br><span class="line">            [self addSubview:dotsImageView];</span><br><span class="line">            [_dotsImgArray addObject:dotsImageView];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return _dotsImgArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>通过传入当前密码的长度 <code>length</code>  重置小圆点，比 <code>length</code>值大的 <code>dotsImgArray</code> 视图设置为显示，比 <code>length</code>值小的 <code>dotsImgArray</code> 视图设置为隐藏。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 重置圆点</span><br><span class="line">- (void)resetDotsWithLength:(NSUInteger)length &#123;</span><br><span class="line">    for (int i = 0; i &lt; self.dotsImgArray.count; i++) &#123;</span><br><span class="line">        if (length == 0 || i &gt;= length) &#123;</span><br><span class="line">            ((UIImageView *)[self.dotsImgArray objectAtIndex:i]).hidden = YES;</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            ((UIImageView *)[self.dotsImgArray objectAtIndex:i]).hidden = NO;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="HQLPasswordView"><a href="#HQLPasswordView" class="headerlink" title="HQLPasswordView"></a>HQLPasswordView</h3><p>密码输入视图：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-f90c81c4a46ebd87.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>修改或者优化的地方：</p>
<ul>
<li>密码输入框 <code>pwdTextField</code> 和画上去的输入框图片一样大，可以响应用户触摸并弹出键盘，而不是 <code>CGRectMake(0, 0, 1, 1)</code>  ；</li>
<li>之前多出来的单击手势也不浪费，组织又有新任务了：用户如果触摸上方灰色的蒙版视图也是可以关闭密码输入框的。</li>
<li>因为修改了小圆点的实现方式，所以 <code>UITextFieldDelegate</code> 委托协议实现方式也有改动。</li>
</ul>
<h4 id="1️⃣-密码输入框-pwdTextField-可以响应用户触摸并弹出键盘"><a href="#1️⃣-密码输入框-pwdTextField-可以响应用户触摸并弹出键盘" class="headerlink" title="1️⃣ 密码输入框 pwdTextField 可以响应用户触摸并弹出键盘"></a>1️⃣ 密码输入框 <code>pwdTextField</code> 可以响应用户触摸并弹出键盘</h4><p>只要把它所有的颜色设置为透明就可以了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (UITextField *)pwdTextField &#123;</span><br><span class="line">    if (!_pwdTextField) &#123;</span><br><span class="line">        _pwdTextField = [[UITextField alloc] init];</span><br><span class="line">        _pwdTextField.frame = [self.backgroundView textFieldRect];</span><br><span class="line">        _pwdTextField.backgroundColor = [UIColor clearColor];</span><br><span class="line">        _pwdTextField.textColor = [UIColor clearColor];</span><br><span class="line">        _pwdTextField.tintColor = [UIColor clearColor];</span><br><span class="line">        _pwdTextField.keyboardType = UIKeyboardTypeNumberPad;</span><br><span class="line">        _pwdTextField.delegate = self;</span><br><span class="line">    &#125;</span><br><span class="line">    return _pwdTextField;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2️⃣-用户如果触摸上方灰色的蒙版视图可以关闭密码输入框。"><a href="#2️⃣-用户如果触摸上方灰色的蒙版视图可以关闭密码输入框。" class="headerlink" title="2️⃣ 用户如果触摸上方灰色的蒙版视图可以关闭密码输入框。"></a>2️⃣ 用户如果触摸上方灰色的蒙版视图可以关闭密码输入框。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/** </span><br><span class="line"> 用户点击事件,触摸灰色蒙版区域，实现关闭操作</span><br><span class="line"> */</span><br><span class="line">- (void)tap:(UITapGestureRecognizer *)recognizer &#123;</span><br><span class="line">    // 获取点击的坐标位置</span><br><span class="line">    CGPoint point = [recognizer locationInView:self];</span><br><span class="line">    // 输入框上方的蒙版区域</span><br><span class="line">    CGRect frame = CGRectMake(0,</span><br><span class="line">                              0,</span><br><span class="line">                              HQLScreenWidth,</span><br><span class="line">                              HQLScreenHeight - HQLPasswordInputViewHeight);</span><br><span class="line">    // 判断点击区域是否包含在蒙版矩形中</span><br><span class="line">    if (CGRectContainsPoint(frame, point)) &#123;</span><br><span class="line">        [self removePasswordView];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 移除密码输入视图 */</span><br><span class="line">- (void)removePasswordView &#123;</span><br><span class="line">    [self.pwdTextField resignFirstResponder];</span><br><span class="line">    [self removeFromSuperview];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3️⃣  <code>UITextFieldDelegate</code> 委托协议实现方式也有改动:</p>
<p>用协议的方式自动重置密码输入框，而不是手动烧脑判断</p>
<p>每次弹出键盘就重置密码框</p>
<p>1.第一次跟随密码输入视图弹出会调用；</p>
<p>2.提示密码输入错误，再次输入密码会调用；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - UITextFieldDelegate</span><br><span class="line"></span><br><span class="line">- (void)textFieldDidBeginEditing:(UITextField *)textField &#123;</span><br><span class="line">    NSLog(@&quot;%@&quot;,NSStringFromSelector(_cmd));</span><br><span class="line">    </span><br><span class="line">    // 每次 TextField 开始编辑，都要重置密码框</span><br><span class="line">    [self clearUpPassword];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 清除密码</span><br><span class="line">- (void)clearUpPassword &#123;</span><br><span class="line">    // 1.清空输入文本框密码</span><br><span class="line">    self.pwdTextField.text = @&quot;&quot;;</span><br><span class="line">    // 2.清空黑色圆点</span><br><span class="line">    [self.backgroundView resetDotsWithLength:0];</span><br><span class="line">    // 3.隐藏加载图片和文字</span><br><span class="line">    self.rotationImageView.hidden = YES;</span><br><span class="line">    self.loadingTextLabel.hidden  = YES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 每当用户操作导致其文本更改时，文本字段将调用此方法。 使用此方法来验证用户键入的文本。 例如，您可以使用此方法来防止用户输入任何数字，但不能输入数值。</span><br><span class="line">// 每当一个字符被键入时，都会首先调用此方法，询问是否应该将输入的字符添加进 TextField 中。</span><br><span class="line">// 因此调用该方法时，正被输入的字符实际上还没有被添加进 TextField 中</span><br><span class="line">- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string &#123;    </span><br><span class="line">    // 输入进 TextField 的数字个数</span><br><span class="line">    NSUInteger numberLength = textField.text.length + string.length;</span><br><span class="line">    </span><br><span class="line">    if([string isEqualToString:@&quot;&quot;]) &#123;</span><br><span class="line">        // 1.判断是不是删除键？</span><br><span class="line">        [self.backgroundView resetDotsWithLength:numberLength - 1];</span><br><span class="line">        return YES;</span><br><span class="line">    &#125; else if(numberLength &gt;= KPasswordNumber) &#123;</span><br><span class="line">        // 2.判断此次输入数字的是不是第6个数字？</span><br><span class="line">        [self.backgroundView resetDotsWithLength:numberLength];</span><br><span class="line">        // 2.1 收起键盘</span><br><span class="line">        [self.pwdTextField resignFirstResponder];</span><br><span class="line">        // 2.2 发起请求 Block</span><br><span class="line">        if (self.finishBlock) &#123;</span><br><span class="line">            [self startLoading];</span><br><span class="line">            NSString *password = [textField.text stringByAppendingString:string];</span><br><span class="line">            self.finishBlock(password);</span><br><span class="line">        &#125;</span><br><span class="line">        return NO;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 3.每次键入一个值，都要重设黑点</span><br><span class="line">        [self.backgroundView resetDotsWithLength:numberLength];</span><br><span class="line">        return YES;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4️⃣ 其它的没什么变化，少了几个移除视图的一些重置方法</p>
<h4 id="UIView-动画"><a href="#UIView-动画" class="headerlink" title="UIView 动画"></a>UIView 动画</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">+ (void)animateWithDuration:(NSTimeInterval)duration </span><br><span class="line">                      delay:(NSTimeInterval)delay </span><br><span class="line">                    options:(UIViewAnimationOptions)options </span><br><span class="line">                  animations:(void (^)(void))animations </span><br><span class="line">                  completion:(void (^ __nullable)(BOOL finished))completion ;</span><br><span class="line"></span><br><span class="line">[UIView animateWithDuration:(NSTimeInterval)          // 动画的持续时间</span><br><span class="line">                      delay:(NSTimeInterval)          // 动画执行的延迟时间</span><br><span class="line">                    options:(UIViewAnimationOptions)  // 执行的动画选项，</span><br><span class="line">                 animations:^&#123;</span><br><span class="line"></span><br><span class="line">        // 要执行的动画代码</span><br><span class="line"> &#125; completion:^(BOOL finished) &#123;</span><br><span class="line">        // 动画执行完毕后的调用</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>通过指定动画持续时间、动画延迟、执行动画选项和动画完成后回调的 Block 对象 更改一个或多个视图的动画。</p>
<p>使用示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">- (IBAction)paymentButtonDidClicked:(id)sender &#123;</span><br><span class="line"></span><br><span class="line">    self.passwordView = [[HQLPasswordView alloc] init];</span><br><span class="line">    [self.passwordView showInView:self.view.window];</span><br><span class="line">    self.passwordView.title = @&quot;我是标题&quot;;</span><br><span class="line">    self.passwordView.loadingText = @&quot;正在支付中...&quot;;</span><br><span class="line">    self.passwordView.closeBlock = ^&#123;</span><br><span class="line">        NSLog(@&quot;取消支付回调...&quot;);</span><br><span class="line">    &#125;;</span><br><span class="line">    self.passwordView.forgetPasswordBlock = ^&#123;</span><br><span class="line">        NSLog(@&quot;忘记密码回调...&quot;);</span><br><span class="line">    &#125;;</span><br><span class="line">    WS(weakself);</span><br><span class="line">    self.passwordView.finishBlock = ^(NSString *password) &#123;</span><br><span class="line">        NSLog(@&quot;完成支付回调...&quot;);</span><br><span class="line">        </span><br><span class="line">        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(kRequestTime * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">            flag = !flag;</span><br><span class="line">            if (flag) &#123;</span><br><span class="line">                // 购买成功，跳转到成功页</span><br><span class="line">                [weakself.passwordView requestComplete:YES message:@&quot;购买成功&quot;];</span><br><span class="line">                </span><br><span class="line">                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)( KDelay* NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                    // 从父视图移除密码输入视图</span><br><span class="line">                    [weakself.passwordView removePasswordView];</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // 购买失败，跳转到失败页</span><br><span class="line">                [weakself.passwordView requestComplete:NO];</span><br><span class="line">                </span><br><span class="line">                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(KDelay * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                    // 购买失败的处理，也可以继续支付</span><br><span class="line">                    </span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后，附上<br><a href="https://github.com/Andy0570/HQLPasswordViewDemo" target="_blank" rel="noopener">GitHub地址：HQLPasswordViewDemo</a></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://github.com/chernyog/CYPasswordView" target="_blank" rel="noopener">GitHub:chernyog/CYPasswordView</a></li>
<li><a href="https://github.com/chernyog/CYPasswordView_Block" target="_blank" rel="noopener">GitHub:chernyog/CYPasswordView_Block</a></li>
<li><a href="http://www.jianshu.com/p/7059c017ad0a" target="_blank" rel="noopener">iOS开发：仿微信、支付宝6位密码输入框</a></li>
<li><a href="http://www.jianshu.com/p/2aed522aa258" target="_blank" rel="noopener">手把手教你自动取消textField第一响应的设置</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/06/20/iOS 编程：密码输入框 CYPasswordView_Block 源码解析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/06/20/iOS 编程：密码输入框 CYPasswordView_Block 源码解析/" class="post-title-link" itemprop="url">iOS 编程：密码输入框 CYPasswordView_Block 源码解析</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-06-20 18:21:00" itemprop="dateCreated datePublished" datetime="2017-06-20T18:21:00+08:00">2017-06-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:11:12" itemprop="dateModified" datetime="2019-04-18T01:11:12+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/06/20/iOS 编程：密码输入框 CYPasswordView_Block 源码解析/" class="leancloud_visitors" data-flag-title="iOS 编程：密码输入框 CYPasswordView_Block 源码解析">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p>支付类应用通常都需要输入6位支付密码，有的是用 AlertView 的方式实现的，例如在 iPhone的 App Store 中下载应用，有时会弹窗让你输入密码,界面大概是这样的：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-847cbfdb8ff73eb6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt> </p>
<p>还有一种类似这样的，把输入框放在单独的页面上：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1840399-9def9a00bb9b37fd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>支付宝微信做的是类似半模态视图的界面（下面的是淘票票的输入密码界面）：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-f62fca20bbf42d14.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>网上搜寻了许久，找了个最接近第三种方式的 Demo ：</p>
<ul>
<li><a href="https://github.com/chernyog/CYPasswordView" target="_blank" rel="noopener">GitHub:chernyog/CYPasswordView</a></li>
<li><a href="https://github.com/chernyog/CYPasswordView_Block" target="_blank" rel="noopener">GitHub:chernyog/CYPasswordView_Block</a></li>
</ul>
<h1 id="CYPasswordView-Block-源码解析"><a href="#CYPasswordView-Block-源码解析" class="headerlink" title="CYPasswordView_Block 源码解析"></a>CYPasswordView_Block 源码解析</h1><h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><hr>
<p><a href="https://github.com/chernyog/CYPasswordView_Block" target="_blank" rel="noopener">CYPasswordView_Block</a> 是一个模仿支付宝输入支付密码的密码框(这是一个用block传递事件的版本，避免了因多级页面切换并且都弹出密码框而造成通知监听混乱的bug)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-8831a27434b8db4d.gif?imageMogr2/auto-orient/strip" alt><img src="http://upload-images.jianshu.io/upload_images/2648731-626da661c7068647.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="二、使用方法"><a href="#二、使用方法" class="headerlink" title="二、使用方法"></a>二、使用方法</h3><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">- (IBAction)showPasswordView:(id)sender &#123;</span><br><span class="line"></span><br><span class="line">    WS(weakSelf);</span><br><span class="line">    // 实例化 CYPasswordView 对象</span><br><span class="line">    self.passwordView = [[CYPasswordView alloc] init];</span><br><span class="line">    // 弹出密码框</span><br><span class="line">    [self.passwordView showInView:self.view.window];</span><br><span class="line">    self.passwordView.loadingText = @&quot;提交中...&quot;;</span><br><span class="line">    // 关闭密码框</span><br><span class="line">    self.passwordView.cancelBlock = ^&#123;</span><br><span class="line">        [weakSelf cancel];</span><br><span class="line">    &#125;;</span><br><span class="line">    // 忘记密码</span><br><span class="line">    self.passwordView.forgetPasswordBlock = ^&#123;</span><br><span class="line">        [weakSelf forgetPWD];</span><br><span class="line">    &#125;;</span><br><span class="line">    // 密码输入完成的回调</span><br><span class="line">    self.passwordView.finish = ^(NSString *password) &#123;</span><br><span class="line">        [weakSelf.passwordView hidenKeyboard];</span><br><span class="line">        [weakSelf.passwordView startLoading];</span><br><span class="line">        CYLog(@&quot;cy ========= 发送网络请求  pwd=%@&quot;, password);</span><br><span class="line">        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(kRequestTime * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">            flag = !flag;</span><br><span class="line">            if (flag) &#123;</span><br><span class="line">                // 购买成功，跳转到成功页</span><br><span class="line">                [weakSelf.passwordView requestComplete:YES message:@&quot;购买成功……&quot;];</span><br><span class="line">                [weakSelf.passwordView stopLoading];</span><br><span class="line">                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(kDelay * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                    [weakSelf.passwordView hide];</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // 购买失败，跳转到失败页</span><br><span class="line">                [weakSelf.passwordView requestComplete:NO];</span><br><span class="line">                [weakSelf.passwordView stopLoading];</span><br><span class="line">                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(kDelay * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                    [weakSelf.passwordView hide];</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三、实现方式"><a href="#三、实现方式" class="headerlink" title="三、实现方式"></a>三、实现方式</h3><hr>
<h4 id="需要哪些控件元素？"><a href="#需要哪些控件元素？" class="headerlink" title="需要哪些控件元素？"></a>需要哪些控件元素？</h4><p><img src="http://upload-images.jianshu.io/upload_images/2648731-626da661c7068647.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>照着图片看需要哪些控件元素，自上而下，从左往右看：</p>
<ol>
<li>灰色的背景图层 coverView,用于覆盖上一个视图；</li>
<li>占据半个屏幕的输入框视图，该视图上有：<ul>
<li>标题文本；</li>
<li>关闭按钮、忘记密码按钮；</li>
<li>带6个格子的密码输入框；</li>
<li>加载图片、加载文本</li>
</ul>
</li>
</ol>
<h4 id="如何显示密码？"><a href="#如何显示密码？" class="headerlink" title="如何显示密码？"></a>如何显示密码？</h4><ol>
<li>键盘上输入数字时，并不会实时显示123456…，而是显示 ●●●●●●， 这是为了密码输入安全起见的一贯做法。为 <strong>UITextField</strong> 设置 <code>secureTextEntry</code> 属性为 <strong>YES</strong>。可以禁用用户在视图中复制文本的功能。 还会用* 代替输入的字符。</li>
<li>但是原生的控件无法实现在一个格子里输入一个字符，而且还要在这个格子中心显示●，所以密码输入的6个方框和●都是假象，是用代码画上去的。</li>
<li>每次在 <strong>UITextField</strong> 中输入、删除数字，都要进行判断，根据 <strong>UITextField</strong> 中文本的个数同步添加或删除●</li>
<li>边界情况，当输入的数字个数大于等于6个，禁止输入。</li>
<li>为了提高用户体验，当输入完第6个数字时，自动关闭键盘，发起网络请求以验证密码。</li>
</ol>
<h2 id="CYPasswordView-Block-源码分析"><a href="#CYPasswordView-Block-源码分析" class="headerlink" title="CYPasswordView_Block 源码分析"></a>CYPasswordView_Block 源码分析</h2><h3 id="CYPasswordView代码结构"><a href="#CYPasswordView代码结构" class="headerlink" title="CYPasswordView代码结构"></a>CYPasswordView代码结构</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-8e312309b69a5f03.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ul>
<li><p>CYPasswordView.bundle</p>
<p>图片库，包含所有图片素材</p>
</li>
<li><p>CYConst</p>
<p>通用宏定义、密码框各控件的尺寸常量</p>
</li>
<li><p>UIView+Extension</p>
<p>简化设置视图尺寸的范畴方法</p>
</li>
<li><p>CYPasswordInputView</p>
<p>密码框的输入背景视图(把 <a href="mailto:`password_background@2x.png" target="_blank" rel="noopener">`password_background@2x.png</a><code>、</code><a href="mailto:password_textfield@2x.png" target="_blank" rel="noopener">password_textfield@2x.png</a>`两个背景图片绘制上去)，主要包含标题、关闭按钮、忘记密码按钮、以及绘制6个●的操作。</p>
</li>
<li><p>CYPasswordView</p>
<p>包含蒙版图层、CYPasswordInputView、UITextField 控件、再添加加载图片、加载文字标签、处理判断输入逻辑、加载显示旋转动画等</p>
</li>
</ul>
<p>前三个不多说了，主要看后两个</p>
<h3 id="CYPasswordInputView"><a href="#CYPasswordInputView" class="headerlink" title="CYPasswordInputView"></a>CYPasswordInputView</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-25d1c32d092c70a8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>在指定初始化方法 <code>initWithFrame:</code>中添加 <strong>关闭按钮</strong> 和 <strong>忘记密码按钮</strong>,然后在 <code>layoutSubviews</code> 方法中对这两个控件重新布局，按钮的 Target-Action 点击事件通过 Blocks 传递。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark  - 生命周期方法</span><br><span class="line">- (instancetype)initWithFrame:(CGRect)frame &#123;</span><br><span class="line">    if (self = [super initWithFrame:frame]) &#123;</span><br><span class="line">        self.backgroundColor = [UIColor clearColor];</span><br><span class="line">        /** 添加子控件 */</span><br><span class="line">        [self setupSubViews];</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 添加子控件 */</span><br><span class="line">- (void)setupSubViews &#123;</span><br><span class="line">    /** 关闭按钮 */</span><br><span class="line">    UIButton *btnCancel = [UIButton buttonWithType:UIButtonTypeCustom];</span><br><span class="line">    [self addSubview:btnCancel];</span><br><span class="line">    [btnCancel setBackgroundImage:[UIImage imageNamed:CYPasswordViewSrcName(@&quot;password_close&quot;)] forState:UIControlStateNormal];</span><br><span class="line">    [btnCancel setTitleColor:[UIColor darkGrayColor] forState:UIControlStateNormal];</span><br><span class="line">    self.btnClose = btnCancel;</span><br><span class="line">    [self.btnClose addTarget:self action:@selector(btnClose_Click:) forControlEvents:UIControlEventTouchUpInside];</span><br><span class="line">    </span><br><span class="line">    /** 忘记密码按钮 */</span><br><span class="line">    UIButton *btnForgetPWD = [UIButton buttonWithType:UIButtonTypeCustom];</span><br><span class="line">    [self addSubview:btnForgetPWD];</span><br><span class="line">    [btnForgetPWD setTitle:@&quot;忘记密码？&quot; forState:UIControlStateNormal];</span><br><span class="line">    [btnForgetPWD setTitleColor:CYColor(0, 125, 227) forState:UIControlStateNormal];</span><br><span class="line">    btnForgetPWD.titleLabel.font = CYFont(13);</span><br><span class="line">    [btnForgetPWD sizeToFit];</span><br><span class="line">    self.btnForgetPWD = btnForgetPWD;</span><br><span class="line">    [self.btnForgetPWD addTarget:self action:@selector(btnForgetPWD_Click:) forControlEvents:UIControlEventTouchUpInside];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)layoutSubviews &#123;</span><br><span class="line">    [super layoutSubviews];</span><br><span class="line">    // 设置关闭按钮的坐标</span><br><span class="line">    self.btnClose.width = CYPasswordViewCloseButtonWH;</span><br><span class="line">    self.btnClose.height = CYPasswordViewCloseButtonWH;</span><br><span class="line">    self.btnClose.x = CYPasswordViewCloseButtonMarginLeft;</span><br><span class="line">    self.btnClose.centerY = CYPasswordViewTitleHeight * 0.5;</span><br><span class="line">    </span><br><span class="line">    // 设置忘记密码按钮的坐标</span><br><span class="line">    self.btnForgetPWD.x = CYScreenWidth - (CYScreenWidth - CYPasswordViewTextFieldWidth) * 0.5 - self.btnForgetPWD.width;</span><br><span class="line">    self.btnForgetPWD.y = CYPasswordViewTitleHeight + CYPasswordViewTextFieldMarginTop + CYPasswordViewTextFieldHeight + CYPasswordViewForgetPWDButtonMarginTop;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 按钮点击</span><br><span class="line">- (void)btnClose_Click:(UIButton *)sender &#123;</span><br><span class="line">    if (self.cancelBlock) &#123;</span><br><span class="line">        self.cancelBlock();</span><br><span class="line">    &#125;</span><br><span class="line">    [self.inputNumArray removeAllObjects];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)btnForgetPWD_Click:(UIButton *)sender &#123;</span><br><span class="line">    if (self.forgetPasswordBlock) &#123;</span><br><span class="line">        self.forgetPasswordBlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 <code>drawRect:</code> 方法中把图片画在图层上，标题也并不是 Label 控件，而是画上去的字符串，6个●也同时被画上去了，它是遍历数组中元素的个数画上去的。</p>
<p>所以说，每次在输入框中删除、添加数字，都会通过调用 <code>[self setNeedsDisplay]</code> 将 <code>drawRect:</code>方法中的所有视图重新绘制一遍，目的是需要遍历数组，重画●</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">- (void)drawRect:(CGRect)rect &#123;</span><br><span class="line">    // 画背景视图</span><br><span class="line">    UIImage *imgBackground =</span><br><span class="line">        [UIImage imageNamed:CYPasswordViewSrcName(@&quot;password_background&quot;)];</span><br><span class="line">    [imgBackground drawInRect:rect];</span><br><span class="line">    </span><br><span class="line">    // 画输入框</span><br><span class="line">    CGFloat textfieldY = CYPasswordViewTitleHeight + CYPasswordViewTextFieldMarginTop;</span><br><span class="line">    CGFloat textfieldW = CYPasswordViewTextFieldWidth;</span><br><span class="line">    CGFloat textfieldX = (CYScreenWidth - textfieldW) * 0.5;</span><br><span class="line">    CGFloat textfieldH = CYPasswordViewTextFieldHeight;</span><br><span class="line">    UIImage *imgTextfield =</span><br><span class="line">        [UIImage imageNamed:CYPasswordViewSrcName(@&quot;password_textfield&quot;)];</span><br><span class="line">    [imgTextfield drawInRect:CGRectMake(textfieldX, textfieldY, textfieldW, textfieldH)];</span><br><span class="line">    </span><br><span class="line">    // 画标题</span><br><span class="line">    NSString *title = (self.title ? self.title : @&quot;输入交易密码&quot;);</span><br><span class="line">    NSDictionary *arrts = @&#123;NSFontAttributeName:CYFontB(18)&#125;;</span><br><span class="line">    CGSize size = [title boundingRectWithSize:CGSizeMake(MAXFLOAT, MAXFLOAT)</span><br><span class="line">                                      options:NSStringDrawingUsesLineFragmentOrigin</span><br><span class="line">                                   attributes:arrts</span><br><span class="line">                                      context:nil].size;</span><br><span class="line">    CGFloat titleW = size.width;</span><br><span class="line">    CGFloat titleH = size.height;</span><br><span class="line">    CGFloat titleX = (self.width - titleW) * 0.5;</span><br><span class="line">    CGFloat titleY = (CYPasswordViewTitleHeight - titleH) * 0.5;</span><br><span class="line">    CGRect titleRect = CGRectMake(titleX, titleY, titleW, titleH);</span><br><span class="line">    </span><br><span class="line">    NSMutableDictionary *attr = [NSMutableDictionary dictionary];</span><br><span class="line">    attr[NSFontAttributeName] = CYFontB(18);</span><br><span class="line">    attr[NSForegroundColorAttributeName] = CYColor(102, 102, 102);</span><br><span class="line">    [title drawInRect:titleRect withAttributes:attr];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    // 画点</span><br><span class="line">    UIImage *pointImage =</span><br><span class="line">        [UIImage imageNamed:CYPasswordViewSrcName(@&quot;password_point&quot;)];</span><br><span class="line">    CGFloat pointW = CYPasswordViewPointnWH;</span><br><span class="line">    CGFloat pointH = CYPasswordViewPointnWH;</span><br><span class="line">    CGFloat pointY = textfieldY + (textfieldH - pointH) * 0.5;</span><br><span class="line">    __block CGFloat pointX;</span><br><span class="line">    </span><br><span class="line">    // 一个格子的宽度</span><br><span class="line">    CGFloat cellW = textfieldW / kNumCount;</span><br><span class="line">    CGFloat padding = (cellW - pointW) * 0.5;</span><br><span class="line">    // 根据数组中元素的个数画黑点</span><br><span class="line">    [self.inputNumArray enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) &#123;</span><br><span class="line">        pointX = textfieldX + (2 * idx + 1) * padding + idx * pointW;</span><br><span class="line">        [pointImage drawInRect:CGRectMake(pointX, pointY, pointW, pointH)];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>首先来看在类扩展中声明的可变数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/** 保存用户输入的数字集合 */</span><br><span class="line">@property (nonatomic, strong) NSMutableArray *inputNumArray;</span><br></pre></td></tr></table></figure>
<p>响应输入的两个方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark  - 私有方法</span><br><span class="line">// 响应用户按下删除键事件</span><br><span class="line">- (void)deleteNumber &#123;</span><br><span class="line">    [self.inputNumArray removeLastObject]; // 如果是删除键，就移除数组中的最后一个数字</span><br><span class="line">    [self setNeedsDisplay]; // 根据数组的个数重绘整个视图</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 响应用户按下数字键事件</span><br><span class="line">- (void)number:(NSDictionary *)userInfo &#123;</span><br><span class="line">    NSString *numObj = userInfo[CYPasswordViewKeyboardNumberKey];</span><br><span class="line">    if (numObj.length &gt;= kNumCount) return; // ⚠️ 这行代码应该是永远不会执行的吧。等会再说为啥</span><br><span class="line">    [self.inputNumArray addObject:numObj]; // 这里每次输入一个数字，就会把该数字存进数组中</span><br><span class="line">    [self setNeedsDisplay]; // 根据数组的个数重绘整个视图</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其实可以不用重绘整个视图，因为只是重置小圆点，可以重绘指定区域视图：<code>setNeedsDisplayInRect:</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// 响应用户按下删除键事件</span><br><span class="line">- (void)deleteNumber &#123;</span><br><span class="line">    [self.inputNumArray removeLastObject];</span><br><span class="line">    [self setNeedsDisplayInRect:[self textFieldRect]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 响应用户按下数字键事件</span><br><span class="line">- (void)number:(NSDictionary *)userInfo &#123;</span><br><span class="line">    NSString *numObj = userInfo[CYPasswordViewKeyboardNumberKey];</span><br><span class="line">    if (numObj.length &gt;= kNumCount) return;    </span><br><span class="line">    [self.inputNumArray addObject:numObj];</span><br><span class="line">    [self setNeedsDisplayInRect:[self textFieldRect]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (CGRect)textFieldRect &#123;</span><br><span class="line">    CGFloat textfieldY = CYPasswordViewTitleHeight + CYPasswordViewTextFieldMarginTop;</span><br><span class="line">    CGFloat textfieldW = CYPasswordViewTextFieldWidth;</span><br><span class="line">    CGFloat textfieldX = (CYScreenWidth - textfieldW) * 0.5;</span><br><span class="line">    CGFloat textfieldH = CYPasswordViewTextFieldHeight;</span><br><span class="line">    return CGRectMake(textfieldX, textfieldY, textfieldW, textfieldH);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="CYPasswordView"><a href="#CYPasswordView" class="headerlink" title="CYPasswordView"></a>CYPasswordView</h3><p>再看 <strong>CYPasswordView</strong> 这个类，指定初始化方法中添加了几个子视图、蒙版、输入框、响应者 UITextField、加载图片和加载文字、单击手势。布局子视图方法 <code>layoutSubviews</code>中重新布局了加载图片和加载文字标签的位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">- (instancetype)initWithFrame:(CGRect)frame &#123;</span><br><span class="line">    self = [super initWithFrame:CYScreen.bounds]; // frame 是固定的</span><br><span class="line">    if (self) &#123;</span><br><span class="line">        [self setupUI];</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)setupUI &#123;</span><br><span class="line">    self.backgroundColor = [UIColor clearColor];</span><br><span class="line">    // 蒙版</span><br><span class="line">    [self addSubview:self.coverView];</span><br><span class="line">    // 输入框</span><br><span class="line">    [self addSubview:self.passwordInputView];</span><br><span class="line">    // 响应者</span><br><span class="line">    [self addSubview:self.txfResponsder];</span><br><span class="line">    [self.passwordInputView addSubview:self.imgRotation];</span><br><span class="line">    [self.passwordInputView addSubview:self.lblMessage];</span><br><span class="line">    // 手势</span><br><span class="line">    [self addGestureRecognizer:[[UITapGestureRecognizer alloc]</span><br><span class="line">                                initWithTarget:self</span><br><span class="line">                                action:@selector(tap:)]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)layoutSubviews &#123;</span><br><span class="line">    [super layoutSubviews];</span><br><span class="line">  	// 调整旋转图片布局</span><br><span class="line">    self.imgRotation.centerX = self.passwordInputView.centerX;</span><br><span class="line">    self.imgRotation.centerY = self.passwordInputView.height * 0.5;</span><br><span class="line">    // 调整提示文本布局</span><br><span class="line">    self.lblMessage.x = 0;</span><br><span class="line">    self.lblMessage.y = CGRectGetMaxY(self.imgRotation.frame) + 20;</span><br><span class="line">    self.lblMessage.width = CYScreenWidth;</span><br><span class="line">    self.lblMessage.height = 30;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>① 添加单击手势的作用：点击输入框，弹出键盘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (void)tap:(UITapGestureRecognizer *)recognizer &#123;</span><br><span class="line">    // 获取点击的坐标位置</span><br><span class="line">    CGPoint p = [recognizer locationInView:self.passwordInputView];</span><br><span class="line">    // 6块矩形输入框区域</span><br><span class="line">    CGRect f = CGRectMake(39, 80, 297, 50);</span><br><span class="line">    // 判断点击区域是否包含在输入框区域中</span><br><span class="line">    if (CGRectContainsPoint(f, p)) &#123;</span><br><span class="line">        [self.txfResponsder becomeFirstResponder];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        NSLog(@&quot;==============&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为要响应点击事件，所以蒙版是一个 <strong>UIControl</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (UIControl *)coverView &#123;</span><br><span class="line">    if (_coverView == nil) &#123;</span><br><span class="line">        _coverView = [[UIControl alloc] init];</span><br><span class="line">        [_coverView setBackgroundColor:[UIColor blackColor]];</span><br><span class="line">        _coverView.alpha = 0.4;</span><br><span class="line">        _coverView.frame = self.bounds;</span><br><span class="line">    &#125;</span><br><span class="line">    return _coverView;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>② 为何要手动通过点击事件弹出键盘，而不是点击 UITextField 自动弹出键盘 ？</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 这里的 UITextField 实例对象就像名字一样，只是作为一个响应者，</span><br><span class="line">// 它的 frame 是 CGRectMake(0, 0, 1, 1)</span><br><span class="line">// 优化点：其实还是可以把它设置得跟图片一样大的，只要把它设置为透明就行了，背景色、text、tintColor、通通设置为透明色，1.可以充分利用控件本身的特性。2.不用手动添加点击事件。</span><br><span class="line">- (UITextField *)txfResponsder &#123;</span><br><span class="line">    if (_txfResponsder == nil) &#123;</span><br><span class="line">        _txfResponsder = [[UITextField alloc] init];</span><br><span class="line">        _txfResponsder.delegate = self;</span><br><span class="line">        _txfResponsder.keyboardType = UIKeyboardTypeNumberPad;</span><br><span class="line">        _txfResponsder.frame = CGRectMake(0, 0, 1, 1);</span><br><span class="line">        _txfResponsder.secureTextEntry = YES;</span><br><span class="line">    &#125;</span><br><span class="line">    return _txfResponsder;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个类中实现取消按钮和忘记密码按钮依旧是通过 Block 的方式传递，只是增加了重置密码框操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">- (CYPasswordInputView *)passwordInputView &#123;</span><br><span class="line">    WS(weakself);</span><br><span class="line">    if (_passwordInputView == nil) &#123;</span><br><span class="line">        _passwordInputView = [[CYPasswordInputView alloc] init];</span><br><span class="line">      </span><br><span class="line">        _passwordInputView.cancelBlock = ^&#123;</span><br><span class="line">            [weakself cancel];</span><br><span class="line">        &#125;;</span><br><span class="line">      </span><br><span class="line">        _passwordInputView.forgetPasswordBlock = ^&#123;</span><br><span class="line">            [weakself forgetPassword];</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    return _passwordInputView;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 输入框的取消按钮点击 */</span><br><span class="line">- (void)cancel &#123;</span><br><span class="line">    [self resetPasswordView];</span><br><span class="line">    if (self.cancelBlock) &#123;</span><br><span class="line">        self.cancelBlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">/** 输入框的忘记密码按钮点击 */</span><br><span class="line">- (void)forgetPassword &#123;</span><br><span class="line">    [self resetPasswordView];</span><br><span class="line">    if (self.forgetPasswordBlock) &#123;</span><br><span class="line">        self.forgetPasswordBlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 重置密码框 */</span><br><span class="line">- (void)resetPasswordView &#123;</span><br><span class="line">    [self hidenKeyboard:^(BOOL finished) &#123;</span><br><span class="line">        self.passwordInputView.hidden = YES;</span><br><span class="line">        tempStr = nil;</span><br><span class="line">        [self removeFromSuperview];</span><br><span class="line">        [self hidenKeyboard:nil];</span><br><span class="line">        [self.passwordInputView setNeedsDisplay];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>处理键盘输入的  <code>UITextFieldDelegate</code> 协议方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark  - 常量区</span><br><span class="line">// 前面的角落里声明了一个变量用户保存密码字符串</span><br><span class="line">static NSString *tempStr;</span><br><span class="line"></span><br><span class="line">//...</span><br><span class="line"></span><br><span class="line">#pragma mark  - &lt;UITextFieldDelegate&gt;</span><br><span class="line">#pragma mark  处理字符串 和 删除键</span><br><span class="line"></span><br><span class="line">// 每当一个字符被键入时，都会首先调用此方法，询问是否应该将输入的字符添加进 TextField 中。</span><br><span class="line">// 因此调用该方法时，正被输入的字符实际上还没有被添加进 TextField 中</span><br><span class="line">- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string &#123;</span><br><span class="line">    if (!tempStr) &#123;</span><br><span class="line">        tempStr = string;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        // 把正在输入的数字和之前所有输入的数字拼接起来</span><br><span class="line">        // 因此 tempStr 字符串中存放的是所有的数字</span><br><span class="line">        tempStr = [NSString stringWithFormat:@&quot;%@%@&quot;,tempStr,string];</span><br><span class="line">    &#125;</span><br><span class="line">    // 判断是否是删除按钮？</span><br><span class="line">    if ([string isEqualToString:@&quot;&quot;]) &#123;</span><br><span class="line">        // 响应用户按下删除键事件，删除小黑点</span><br><span class="line">        [self.passwordInputView deleteNumber];</span><br><span class="line">        // 如果是删除按钮，再判断容器字符串的长度？</span><br><span class="line">        if (tempStr.length &gt; 0) &#123;   //  删除最后一个字符串</span><br><span class="line">            NSString *lastStr = [tempStr substringToIndex:[tempStr length] - 1];</span><br><span class="line">            tempStr = lastStr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else&#123;</span><br><span class="line">        // 如果不是删除按钮，先判断容器字符串的长度是否=6？</span><br><span class="line">        if (tempStr.length == 6) &#123;</span><br><span class="line">            if (self.finish) &#123;</span><br><span class="line">                self.finish(tempStr);</span><br><span class="line">                self.finish = nil;</span><br><span class="line">            &#125;</span><br><span class="line">            tempStr = nil;</span><br><span class="line">        &#125;</span><br><span class="line">        // 更新 CYPasswordInputView 中的黑点</span><br><span class="line">        // ❇️把当前输入的数字通过字典的方式传递,key为常量，value 是当前输入的数字</span><br><span class="line">        NSMutableDictionary *userInfoDict = [NSMutableDictionary dictionary];</span><br><span class="line">        userInfoDict[CYPasswordViewKeyboardNumberKey] = string;</span><br><span class="line">        [self.passwordInputView number:userInfoDict];</span><br><span class="line">    &#125;</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>❇️因为当前输入的数字是通过键值对的方式发送给 <code>passwordInputView</code> 对象的，所以它响应用户按下数字的方法中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 响应用户按下数字键事件</span><br><span class="line">- (void)number:(NSDictionary *)userInfo &#123;</span><br><span class="line">    NSString *numObj = userInfo[CYPasswordViewKeyboardNumberKey];</span><br><span class="line">    if (numObj.length &gt;= kNumCount) return; // ⚠️ </span><br><span class="line">    [self.inputNumArray addObject:numObj]; // 这里每次输入一个数字，就会把该数字存进数组中</span><br><span class="line">    [self setNeedsDisplay]; // 根据数组的个数重绘整个视图</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法中的 <code>numObj</code> 就是当前输入的数字，<code>numObj.length</code> 永远等于1，所以我说这行代码是永远不会执行的。</p>
<p>弹出密码框的方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 弹出密码框</span><br><span class="line">[self.passwordView showInView:self.view.window];</span><br></pre></td></tr></table></figure>
<p>源码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">- (void)showInView:(UIView *)view &#123;</span><br><span class="line">    [view addSubview:self];</span><br><span class="line">    /** 输入框起始frame */</span><br><span class="line">    self.passwordInputView.height = CYPasswordInputViewHeight;</span><br><span class="line">    self.passwordInputView.y = self.height;</span><br><span class="line">    self.passwordInputView.width = CYScreenWidth;</span><br><span class="line">    self.passwordInputView.x = 0;</span><br><span class="line">    /** 弹出键盘 */</span><br><span class="line">    [self showKeyboard];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 键盘弹出 */</span><br><span class="line">- (void)showKeyboard &#123;</span><br><span class="line">    [self.txfResponsder becomeFirstResponder];</span><br><span class="line">    [UIView animateWithDuration:CYPasswordViewAnimationDuration</span><br><span class="line">                          delay:0</span><br><span class="line">                        options:UIViewAnimationOptionTransitionNone</span><br><span class="line">                     animations:^&#123;</span><br><span class="line">         self.passwordInputView.y = (self.height - self.passwordInputView.height);</span><br><span class="line">                     &#125;</span><br><span class="line">                     completion:^(BOOL finished) &#123;</span><br><span class="line">         NSLog(@&quot; ========= %@&quot;, NSStringFromCGRect(self.passwordInputView.frame));</span><br><span class="line">                     &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这段代码添加了一个动画让 <code>passwordInputView</code> 的 Y 点从:</p>
<p> <code>self.height</code> → <code>(self.height - self.passwordInputView.height)</code></p>
<p>就是从底部向上推出的动画，它是先弹出键盘，再弹出<code>passwordInputView</code>。</p>
<p>最后，旋转动画都是对加载图片和加载文字作了一些更改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> *  开始旋转</span><br><span class="line"> */</span><br><span class="line">- (void)startRotation:(UIView *)view &#123;</span><br><span class="line">    _imgRotation.hidden = NO;</span><br><span class="line">    _imgRotation.image = </span><br><span class="line">      [UIImage imageNamed:CYPasswordViewSrcName(@&quot;password_loading_b&quot;)];</span><br><span class="line">    _lblMessage.hidden = NO;</span><br><span class="line">    self.lblMessage.text = _loadingText;</span><br><span class="line">  </span><br><span class="line">    CABasicAnimation* rotationAnimation;</span><br><span class="line">    rotationAnimation = [CABasicAnimation animationWithKeyPath:@&quot;transform.rotation.z&quot;];</span><br><span class="line">    rotationAnimation.toValue = [NSNumber numberWithFloat: M_PI * 2.0 ];</span><br><span class="line">    rotationAnimation.duration = 2.0;</span><br><span class="line">    rotationAnimation.cumulative = YES;</span><br><span class="line">    rotationAnimation.repeatCount = MAXFLOAT;</span><br><span class="line">    [view.layer addAnimation:rotationAnimation forKey:@&quot;rotationAnimation&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  结束旋转</span><br><span class="line"> */</span><br><span class="line">- (void)stopRotation:(UIView *)view &#123;</span><br><span class="line">    [view.layer removeAllAnimations];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)startLoading &#123;</span><br><span class="line">    [self startRotation:self.imgRotation];</span><br><span class="line">    [self.passwordInputView disEnalbeCloseButton:NO];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)stopLoading &#123;</span><br><span class="line">    [self stopRotation:self.imgRotation];</span><br><span class="line">    [self.passwordInputView disEnalbeCloseButton:YES];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)requestComplete:(BOOL)state &#123;</span><br><span class="line">    if (state) &#123;</span><br><span class="line">        [self requestComplete:state message:@&quot;支付成功&quot;];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        [self requestComplete:state message:@&quot;支付失败&quot;];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">- (void)requestComplete:(BOOL)state message:(NSString *)message &#123;</span><br><span class="line">    if (state) &#123;</span><br><span class="line">        // 请求成功</span><br><span class="line">        self.lblMessage.text = message;</span><br><span class="line">        self.imgRotation.image = </span><br><span class="line">          [UIImage imageNamed:CYPasswordViewSrcName(@&quot;password_success&quot;)];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 请求失败</span><br><span class="line">        self.lblMessage.text = message;</span><br><span class="line">        self.imgRotation.image = </span><br><span class="line">          [UIImage imageNamed:CYPasswordViewSrcName(@&quot;password_error&quot;)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>分析完以上源码后，我又对该项目重构并进行了些许修改：</p>
<ul>
<li><a href="http://www.jianshu.com/p/7aa9c9d2b366" target="_blank" rel="noopener">密码输入框：HQLPasswordViewDemo</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/18/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/20/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg" alt="独木舟的木">
            
              <p class="site-author-name" itemprop="name">独木舟的木</p>
              <div class="site-description motion-element" itemprop="description">有时候阳光很好 有时候阳光很暗</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">314</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">38</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Andy0570" title="GitHub &rarr; https://github.com/Andy0570" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:andywhm@163.com" title="E-Mail &rarr; mailto:andywhm@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">独木舟的木</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





  



  






  



  
    
    
      
    
  
  <script color="17,119,176" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script>













  
  <script src="//cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  
  
  
    
  

  
    
      
    
  

  
  
  
    <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
    <script>
      
        window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://andy0570.com/page/19/',]
        });
      
        });
      
    </script>
  


  



  



  
  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">

  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js"></script>
  

  <script src="/js/algolia-search.js?v=7.1.0"></script>



  
  
  <script>
    
    function showTime(Counter) {
      var entries = [];
      var $visitors = $('.leancloud_visitors');

      $visitors.each(function() {
        entries.push( $(this).attr('id').trim() );
      });

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url: { '$in': entries } }) })
        .done(function({ results }) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz',
                'X-LC-Key': 'brOnU8mOQvSjpipJvdKUAIbU',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            if ($('.post-title-link').length >= 1) {
              showTime(Counter);
            }
          
        });
    });
  </script>



  

  

  

  

  

  

  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script>pangu.spacingPage();</script>


  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script>
  <script>
  
    bookmark.loadBookmark();
  
  </script>


  

  

  


  <!-- red heart -->
  <script type="text/javascript" src="/js/src/love.js"></script>
  
</body>
</html>

<!DOCTYPE html>













<html class="theme-next gemini" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">



  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css">













  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">







  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/panda/apple-touch-icon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/panda/favicon-32x32.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/panda/favicon-16x16.png?v=7.1.0">


  <link rel="mask-icon" href="/images/panda/safari-pinned-tab.svg?v=7.1.0" color="#222">


  <link rel="manifest" href="/images/panda/site.webmanifest">


  <meta name="msapplication-config" content="/images/panda/browserconfig.xml">





<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: true,
    lazyload: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
<meta name="keywords" content="ç‹¬æœ¨èˆŸçš„æœ¨">
<meta property="og:type" content="website">
<meta property="og:title" content="ç‹¬æœ¨èˆŸçš„æœ¨">
<meta property="og:url" content="https://andy0570.com/page/7/index.html">
<meta property="og:site_name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
<meta property="og:description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç‹¬æœ¨èˆŸçš„æœ¨">
<meta name="twitter:description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">



  <link rel="alternate" href="/atom.xml" title="ç‹¬æœ¨èˆŸçš„æœ¨" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://andy0570.com/page/7/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>ç‹¬æœ¨èˆŸçš„æœ¨</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8229a094facca297f211d61323fd9fde";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/andy0570" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ç‹¬æœ¨èˆŸçš„æœ¨</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">iOS Developer</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»<span class="badge">14</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾<span class="badge">37</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£<span class="badge">317</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>å…³äº</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>æœç´¢</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/andy0570" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/23/OpenSSL-æ— æ³•ä½¿ç”¨-RSA-éå¯¹ç§°åŠ å¯†ç®—æ³•åŠ å¯†å¤§æ–‡ä»¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/23/OpenSSL-æ— æ³•ä½¿ç”¨-RSA-éå¯¹ç§°åŠ å¯†ç®—æ³•åŠ å¯†å¤§æ–‡ä»¶/" class="post-title-link" itemprop="url">OpenSSL-æ— æ³•ä½¿ç”¨-RSA-éå¯¹ç§°åŠ å¯†ç®—æ³•åŠ å¯†å¤§æ–‡ä»¶</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-23 21:05:00" itemprop="dateCreated datePublished" datetime="2018-10-23T21:05:00+08:00">2018-10-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-15 17:37:13" itemprop="dateModified" datetime="2019-04-15T17:37:13+08:00">2019-04-15</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PKI-å¯†ç å­¦/" itemprop="url" rel="index"><span itemprop="name">PKI&å¯†ç å­¦</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/23/OpenSSL-æ— æ³•ä½¿ç”¨-RSA-éå¯¹ç§°åŠ å¯†ç®—æ³•åŠ å¯†å¤§æ–‡ä»¶/" class="leancloud_visitors" data-flag-title="OpenSSL-æ— æ³•ä½¿ç”¨-RSA-éå¯¹ç§°åŠ å¯†ç®—æ³•åŠ å¯†å¤§æ–‡ä»¶">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Shell-ç¤ºä¾‹ä»£ç "><a href="#Shell-ç¤ºä¾‹ä»£ç " class="headerlink" title="Shell ç¤ºä¾‹ä»£ç "></a>Shell ç¤ºä¾‹ä»£ç </h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨ genrsa å‘½ä»¤ç”Ÿæˆ RSA-2048 ä½çš„å¯†é’¥ï¼ˆrsa_private.keyï¼‰</span></span><br><span class="line">openssl genrsa -out rsa_private.key 2048</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£æç§é’¥ç»“æ„ï¼ŒæŸ¥çœ‹å¯†é’¥å†…å®¹</span></span><br><span class="line">openssl rsa -text -in rsa_private.key</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”Ÿæˆå¯†é’¥çš„å…¬é’¥ï¼ˆrsa_private.keyï¼‰</span></span><br><span class="line">openssl rsa -in rsa_private.key -pubout -out rsa_public.key</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨ç”Ÿæˆçš„å…¬é’¥åŠ å¯†æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -pubin è¡¨æ˜ç”¨çº¯å…¬é’¥æ–‡ä»¶åŠ å¯†</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -inkey æŒ‡å®šå¯†é’¥ï¼ˆrsa_private.keyï¼‰</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -<span class="keyword">in</span> æŒ‡å®šè¦åŠ å¯†çš„æ–‡ä»¶ï¼ˆtest.pdfï¼Œ3.2Mï¼‰</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -out åŠ å¯†åçš„æ–‡ä»¶ï¼ˆencrypted.enï¼‰</span></span><br><span class="line">openssl rsautl -encrypt -pubin -inkey rsa_public.key  -in test.pdf -out encrypted.en</span><br><span class="line">RSA operation error</span><br><span class="line">4475450988:error:04FFF06E:rsa routines:CRYPTO_internal:data too large for key size:/BuildRoot/Library/Caches/com.apple.xbs/Sources/libressl/libressl-22.200.4/libressl-2.6/crypto/rsa/rsa_pk1.c:151:</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://stackoverflow.com/questions/7143514/how-to-encrypt-a-large-file-in-openssl-using-public-key" target="_blank" rel="noopener">How to encrypt a large file in openssl using public key</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/13/Node.js æ¡†æ¶&èµ„æº/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/13/Node.js æ¡†æ¶&èµ„æº/" class="post-title-link" itemprop="url">Node.js æ¡†æ¶&èµ„æº</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-13 00:41:00" itemprop="dateCreated datePublished" datetime="2018-10-13T00:41:00+08:00">2018-10-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-23 16:28:58" itemprop="dateModified" datetime="2019-04-23T16:28:58+08:00">2019-04-23</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node-js/" itemprop="url" rel="index"><span itemprop="name">Node.js</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/13/Node.js æ¡†æ¶&èµ„æº/" class="leancloud_visitors" data-flag-title="Node.js æ¡†æ¶&èµ„æº">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h2 id="nodeframework-ä¸Šçš„æ¡†æ¶åˆ†ç±»"><a href="#nodeframework-ä¸Šçš„æ¡†æ¶åˆ†ç±»" class="headerlink" title="nodeframework ä¸Šçš„æ¡†æ¶åˆ†ç±»"></a><a href="http://nodeframework.com/" target="_blank" rel="noopener">nodeframework</a> ä¸Šçš„æ¡†æ¶åˆ†ç±»</h2><p><img src="http://upload-images.jianshu.io/upload_images/2648731-8ccc4b3dde2e47b9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Node.js æ¡†æ¶"></p>
<h3 id="æ¡†æ¶çš„å®šä¹‰"><a href="#æ¡†æ¶çš„å®šä¹‰" class="headerlink" title="æ¡†æ¶çš„å®šä¹‰"></a>æ¡†æ¶çš„å®šä¹‰</h3><ul>
<li><strong>API æ¡†æ¶</strong>â€”â€”ç”¨äºæ­å»º Web API çš„åº“ï¼Œæœ‰ååŠ©ç»„ç»‡ç¨‹åºç»“æ„çš„æ¡†æ¶æ”¯æŒã€‚LoopBackå°†è‡ªå·±å®šä¹‰ä¸ºè¿™ç±»æ¡†æ¶ã€‚</li>
<li><strong>HTTP æœåŠ¡å™¨åº“</strong>â€”â€”æ‰€æœ‰åŸºäº Express çš„é¡¹ç›®éƒ½å¯ä»¥å½’ä¸ºè¿™ä¸€ç±»ï¼ŒåŒ…æ‹¬ Koa å’Œ Kraken.js ã€‚è¿™äº›åº“å¸®æˆ‘ä»¬å›´ç»• HTTP åŠ¨è¯å’Œè·¯ç”±æ­å»ºç¨‹åºã€‚</li>
<li><strong>HTTPæœåŠ¡å™¨æ¡†æ¶</strong>â€”â€”ç”¨æ¥æ­å»ºæ¨¡å—åŒ– HTTP æœåŠ¡å™¨çš„æ¡†æ¶ã€‚hapi å°±æ˜¯è¿™ç§æ¡†æ¶ã€‚</li>
<li><strong>Web MVC æ¡†æ¶</strong>â€”â€”æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨æ¡†æ¶ï¼ŒSail.js å°±æ˜¯è¿™ç§æ¡†æ¶ã€‚</li>
<li><strong>å…¨æ ˆæ¡†æ¶</strong>â€”â€”è¿™äº›æ¡†æ¶åœ¨æœåŠ¡å™¨ç«¯å’Œæµè§ˆå™¨ä¸Šç”¨çš„éƒ½æ˜¯  JavaScriptï¼Œå¹¶ä¸”ä¸¤ç«¯å¯ä»¥å…±äº«ä»£ç ã€‚è¿™è¢«ç§°ä¸º<strong>åŒæ„ä»£ç </strong>ã€‚ DerbyJS æ˜¯ä¸ªå…¨æ ˆ MVC æ¡†æ¶ã€‚</li>
</ul>
<h3 id="Koa"><a href="#Koa" class="headerlink" title="Koa"></a>Koa</h3><table>
<thead>
<tr>
<th>åº“ç±»åˆ«</th>
<th>HTTP æœåŠ¡å™¨åº“</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŠŸèƒ½ç‰¹æ€§</td>
<td>åŸºäºç”Ÿæˆå™¨çš„ä¸­é—´ä»¶ï¼Œè¯·æ±‚/å“åº”æ¨¡å‹</td>
</tr>
<tr>
<td>å»ºè®®åº”ç”¨</td>
<td>è½»å‹ Web ç¨‹åºã€ä¸ä¸¥æ ¼çš„ HTTP APIã€å•é¡µ Web ç¨‹åº</td>
</tr>
<tr>
<td>æ’ä»¶æ¶æ„</td>
<td>ä¸­é—´ä»¶</td>
</tr>
<tr>
<td>æ–‡æ¡£</td>
<td><a href="https://koa.bootcss.com/" target="_blank" rel="noopener">https://koa.bootcss.com/</a></td>
</tr>
<tr>
<td>çƒ­é—¨ç¨‹åº¦</td>
<td><a href="https://github.com/koajs/koa" target="_blank" rel="noopener">GitHub</a> 24198 â­ï¸</td>
</tr>
<tr>
<td>æˆæƒè®¸å¯</td>
<td>MIT</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Koa è½»ä¾¿ã€æç®€ï¼Œåœ¨ä¸­é—´ä»¶ä¸­ä½¿ç”¨ ES2015 ç”Ÿæˆå™¨è¯­æ³•ã€‚é€‚åˆä¾èµ–å¤–éƒ¨ Web API çš„å•é¡µ Web ç¨‹åºã€‚</p>
</blockquote>
<h3 id="Kraken"><a href="#Kraken" class="headerlink" title="Kraken"></a>Kraken</h3><table>
<thead>
<tr>
<th>åº“ç±»åˆ«</th>
<th>HTTP æœåŠ¡å™¨åº“</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŠŸèƒ½ç‰¹æ€§</td>
<td>å¯¹é¡¹ç›®ç»“æ„è¦æ±‚ä¸¥æ ¼ã€æ¨¡å‹ã€æ¨¡ç‰ˆï¼ˆDustï¼‰ã€å®‰å…¨å¼ºåŒ–ï¼ˆLuscaï¼‰ã€é…ç½®ç®¡ç†ã€å›½é™…åŒ–</td>
</tr>
<tr>
<td>å»ºè®®åº”ç”¨</td>
<td>ä¼ä¸š Web ç¨‹åº</td>
</tr>
<tr>
<td>æ’ä»¶æ¶æ„</td>
<td>Express ä¸­é—´ä»¶</td>
</tr>
<tr>
<td>æ–‡æ¡£</td>
<td><a href="https://www.kraken.com/help/api" target="_blank" rel="noopener">https://www.kraken.com/help/api</a></td>
</tr>
<tr>
<td>çƒ­é—¨ç¨‹åº¦</td>
<td><a href="https://github.com/krakenjs/kraken-js" target="_blank" rel="noopener">GitHub</a> 4698 â­ï¸</td>
</tr>
<tr>
<td>æˆæƒè®¸å¯</td>
<td>Apache 2.0</td>
</tr>
</tbody>
</table>
<blockquote>
<p> Kraken æ˜¯åŸºäº Express çš„ï¼Œæ·»åŠ äº†å®‰å…¨ç‰¹æ€§ã€‚å¯ä»¥ç”¨äº MVCã€‚</p>
</blockquote>
<h3 id="hapi"><a href="#hapi" class="headerlink" title="hapi"></a>hapi</h3><table>
<thead>
<tr>
<th>åº“ç±»åˆ«</th>
<th>HTTP æœåŠ¡å™¨åº“</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŠŸèƒ½ç‰¹æ€§</td>
<td>é«˜å±‚æœåŠ¡å™¨å®¹å™¨æŠ½è±¡ï¼Œå®‰å…¨çš„å¤´éƒ¨ä¿¡æ¯</td>
</tr>
<tr>
<td>å»ºè®®åº”ç”¨</td>
<td>å•é¡µ Web ç¨‹åºã€HTTP API</td>
</tr>
<tr>
<td>æ’ä»¶æ¶æ„</td>
<td>hapi æ’ä»¶</td>
</tr>
<tr>
<td>æ–‡æ¡£</td>
<td><a href="https://hapijs.com/" target="_blank" rel="noopener">https://hapijs.com/</a></td>
</tr>
<tr>
<td>çƒ­é—¨ç¨‹åº¦</td>
<td><a href="https://github.com/hapijs/hapi" target="_blank" rel="noopener">GitHub</a> 10000 â­ï¸</td>
</tr>
<tr>
<td>æˆæƒè®¸å¯</td>
<td>BSD 3</td>
</tr>
</tbody>
</table>
<blockquote>
<p>hapi çš„é‡ç‚¹æ˜¯ HTTP æœåŠ¡å™¨å’Œè·¯ç”±ã€‚é€‚åˆç”±å¾ˆå¤šå°æœåŠ¡å™¨ç»„æˆçš„è½»ä¾¿åå°ã€‚</p>
</blockquote>
<h3 id="Sails-js"><a href="#Sails-js" class="headerlink" title="Sails.js"></a>Sails.js</h3><table>
<thead>
<tr>
<th>åº“ç±»åˆ«</th>
<th>MVC æ¡†æ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŠŸèƒ½ç‰¹æ€§</td>
<td>æœ‰æ”¯æŒæ•°æ®åº“çš„ ORMï¼Œç”Ÿæˆ REST APIï¼ŒWebSocket</td>
</tr>
<tr>
<td>å»ºè®®åº”ç”¨</td>
<td>Rails é£æ ¼çš„ MVC ç¨‹åº</td>
</tr>
<tr>
<td>æ’ä»¶æ¶æ„</td>
<td>Express ä¸­é—´ä»¶</td>
</tr>
<tr>
<td>æ–‡æ¡£</td>
<td><a href="http://sailsjs.org/" target="_blank" rel="noopener">http://sailsjs.org/</a></td>
</tr>
<tr>
<td>çƒ­é—¨ç¨‹åº¦</td>
<td><a href="https://github.com/balderdashy/sails/" target="_blank" rel="noopener">GitHub</a> 19976 â­ï¸</td>
</tr>
<tr>
<td>æˆæƒè®¸å¯</td>
<td>BSD 3</td>
</tr>
</tbody>
</table>
<blockquote>
<p> Sails.js æ˜¯ Rails/Django é£æ ¼çš„ MVC æ¡†æ¶ã€‚æœ‰ ORM å’Œæ¨¡æ¿ç³»ç»Ÿã€‚</p>
</blockquote>
<h3 id="DerbyJS"><a href="#DerbyJS" class="headerlink" title="DerbyJS"></a>DerbyJS</h3><table>
<thead>
<tr>
<th>åº“ç±»åˆ«</th>
<th>å…¨æ ˆæ¡†æ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŠŸèƒ½ç‰¹æ€§</td>
<td>æœ‰æ”¯æŒæ•°æ®åº“çš„ ORMï¼ˆRacerï¼‰ï¼ŒåŒæ„</td>
</tr>
<tr>
<td>å»ºè®®åº”ç”¨</td>
<td>æœ‰æœåŠ¡å™¨ç«¯æ”¯æŒçš„å•é¡µ Web ç¨‹åº</td>
</tr>
<tr>
<td>æ’ä»¶æ¶æ„</td>
<td>DerbyJS æ’ä»¶</td>
</tr>
<tr>
<td>æ–‡æ¡£</td>
<td><a href="https://derbyjs.com/" target="_blank" rel="noopener">https://derbyjs.com/</a></td>
</tr>
<tr>
<td>çƒ­é—¨ç¨‹åº¦</td>
<td><a href="https://github.com/derbyjs/derby/" target="_blank" rel="noopener">GitHub</a> 4358 â­ï¸</td>
</tr>
<tr>
<td>æˆæƒè®¸å¯</td>
<td>MIT</td>
</tr>
</tbody>
</table>
<blockquote>
<p> DerbyJS æ˜¯ä¸ªåŒæ„æ¡†æ¶ï¼Œé€‚åˆå®æ—¶ç¨‹åºã€‚</p>
</blockquote>
<h3 id="Flatiron-js"><a href="#Flatiron-js" class="headerlink" title="Flatiron.js"></a>Flatiron.js</h3><table>
<thead>
<tr>
<th>åº“ç±»åˆ«</th>
<th>æ¨¡å—åŒ– MVC æ¡†æ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŠŸèƒ½ç‰¹æ€§</td>
<td>æ•°æ®åº“ç®¡ç†å±‚ï¼ˆResourcefulï¼‰ï¼Œè§£è€¦çš„å¯é‡ç”¨æ¨¡å—</td>
</tr>
<tr>
<td>å»ºè®®åº”ç”¨</td>
<td>è½»é‡çš„ MVC ç¨‹åºï¼Œåœ¨å…¶ä»–æ¡†æ¶ä¸­ä½¿ç”¨ Flatiron æ¨¡å—</td>
</tr>
<tr>
<td>æ’ä»¶æ¶æ„</td>
<td>Broadway æ’ä»¶ API</td>
</tr>
<tr>
<td>æ–‡æ¡£</td>
<td><a href="https://github.com/flatiron/flatiron" target="_blank" rel="noopener">https://github.com/flatiron/flatiron</a></td>
</tr>
<tr>
<td>çƒ­é—¨ç¨‹åº¦</td>
<td><a href="https://github.com/flatiron/flatiron" target="_blank" rel="noopener">GitHub</a> 1338 â­ï¸</td>
</tr>
<tr>
<td>æˆæƒè®¸å¯</td>
<td>MIT</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Flatiron æ˜¯ä¸€ç»„è§£è€¦çš„æ¨¡å—ï¼Œæ—¢å¯ä»¥å½“ä½œ Web MVC æ¡†æ¶æ¥ç”¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œæ›´è½»ä¾¿çš„ Expressåº“ã€‚ Flatiron è·Ÿ Connect ä¸­é—´ä»¶æ˜¯å…¼å®¹çš„ã€‚</p>
</blockquote>
<h3 id="LoopBack"><a href="#LoopBack" class="headerlink" title="LoopBack"></a>LoopBack</h3><table>
<thead>
<tr>
<th>åº“ç±»åˆ«</th>
<th>API æ¡†æ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŠŸèƒ½ç‰¹æ€§</td>
<td>ORMã€API ç”¨æˆ·ç•Œé¢ã€WebScoketã€å®¢æˆ·ç«¯ SDKï¼ˆåŒ…æ‹¬ iOSï¼‰</td>
</tr>
<tr>
<td>å»ºè®®åº”ç”¨</td>
<td>æ”¯æŒå¤šå®¢æˆ·ç«¯çš„ APIï¼ˆç§»åŠ¨ç«¯ã€æ¡Œé¢ç«¯ã€Webï¼‰</td>
</tr>
<tr>
<td>æ’ä»¶æ¶æ„</td>
<td>Express ä¸­é—´ä»¶</td>
</tr>
<tr>
<td>æ–‡æ¡£</td>
<td><a href="https://loopback.io/" target="_blank" rel="noopener">https://loopback.io/</a></td>
</tr>
<tr>
<td>çƒ­é—¨ç¨‹åº¦</td>
<td><a href="https://github.com/strongloop/loopback" target="_blank" rel="noopener">GitHub</a> 12092 â­ï¸</td>
</tr>
<tr>
<td>æˆæƒè®¸å¯</td>
<td>åŒè®¸å¯ï¼šMIT å’Œ StrongLoop è®¤è´­åè®®</td>
</tr>
</tbody>
</table>
<blockquote>
<p> LoopBack å¸®æˆ‘ä»¬çœæ‰äº†å†™å¥—è·¯åŒ–ä»£ç çš„å·¥ä½œã€‚å®ƒå¯ä»¥å¿«é€Ÿç”Ÿæˆå¸¦æœ‰æ•°æ®åº“æ”¯æŒçš„ REST APIï¼Œå¹¶æœ‰ä¸ª API ç®¡ç†ç•Œé¢ã€‚</p>
</blockquote>
<h3 id="å¦‚ä½•é€‰æ‹©-Node-æ¡†æ¶"><a href="#å¦‚ä½•é€‰æ‹©-Node-æ¡†æ¶" class="headerlink" title="å¦‚ä½•é€‰æ‹© Node æ¡†æ¶"></a>å¦‚ä½•é€‰æ‹© Node æ¡†æ¶</h3><p><img src="https://upload-images.jianshu.io/upload_images/2648731-0a2c2e7344bde422.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é€‰æ‹© Node æ¡†æ¶"></p>
<h3 id="æå‡åº”ç”¨å®‰å…¨æ€§çš„-Node-æ¨¡å—"><a href="#æå‡åº”ç”¨å®‰å…¨æ€§çš„-Node-æ¨¡å—" class="headerlink" title="æå‡åº”ç”¨å®‰å…¨æ€§çš„ Node æ¨¡å—"></a>æå‡åº”ç”¨å®‰å…¨æ€§çš„ Node æ¨¡å—</h3><ul>
<li>Luscaï¼š<a href="http://krakenjs.com" target="_blank" rel="noopener">krakenjs</a> ä¸­çš„ä¸€ä¸ªå®‰å…¨æ¨¡å—ã€‚</li>
<li><a href="https://helmetjs.github.io/" target="_blank" rel="noopener">Helmet</a>ï¼šé€šè¿‡è®¾ç½®å„ç§ HTTP å¤´æ¥å¸®åŠ©æ‚¨ä¿æŠ¤ Express åº”ç”¨ç¨‹åºã€‚</li>
<li>nsp æ¨¡å—ï¼šå®¡è®¡ Node åº”ç”¨çš„ <code>package.json</code> å’Œ <code>npm- shrinkwrap.json</code>æ–‡ä»¶ï¼Œæ£€æŸ¥æœ‰æ²¡æœ‰å·²çŸ¥æ¼æ´ã€‚</li>
</ul>
<h2 id="æµè¡Œçš„-npm-åŒ…"><a href="#æµè¡Œçš„-npm-åŒ…" class="headerlink" title="æµè¡Œçš„ npm åŒ…"></a>æµè¡Œçš„ npm åŒ…</h2><ul>
<li><a href="https://prettier.io/" target="_blank" rel="noopener">Prettier</a>â€”â€”è®©ä½ å¯ä»¥ä¸“æ³¨äºä½ æ­£åœ¨å†™çš„ä»£ç ï¼Œè€Œä¸æ˜¯å»å…³å¿ƒä»£ç çš„æ ¼å¼ï¼›<br>Prettier æ˜¯ä¸€ç§ä»£ç æ ¼å¼åŒ–ç¨‹åºï¼Œå®ƒä»¥ç‰¹å®šçš„æ–¹å¼ä¸ºä½ æ ¼å¼åŒ–ä»£ç ã€‚</li>
<li><a href="https://eslint.org/" target="_blank" rel="noopener">eslint</a>â€”â€”ä¿æŒä»£ç æ•´æ´ï¼›</li>
<li><a href="https://date-fns.org/" target="_blank" rel="noopener">date-fns</a>â€”â€”moment.js çš„è½»é‡çº§æ›¿ä»£å“ï¼›</li>
<li><a href="https://lodash.com/" target="_blank" rel="noopener">lodash</a>â€”â€”ä¸»è¦ç”¨äº <code>throttle()</code> å’Œ <code>debounce()</code> å‡½æ•°ï¼›</li>
<li><a href="https://ramdajs.com/" target="_blank" rel="noopener">rambda</a>â€”â€”å¦‚æœä½ çœŸçš„å–œæ¬¢å‡½æ•°å¼ç¼–ç¨‹ã€‚</li>
<li><a href="https://www.npmjs.com/package/cross-env" target="_blank" rel="noopener">cross-env</a></li>
<li><a href="https://yarn.bootcss.com/" target="_blank" rel="noopener">Yarn</a>â€”â€”å¿«é€Ÿã€å¯é ã€å®‰å…¨çš„ä¾èµ–ç®¡ç†å·¥å…·ã€‚</li>
<li><a href="https://aui.github.io/art-template/zh-cn/docs/" target="_blank" rel="noopener">art-template</a>â€”â€”JavaScript æ¨¡ç‰ˆå¼•æ“</li>
</ul>
<h2 id="æ–‡ç« èµ„æº"><a href="#æ–‡ç« èµ„æº" class="headerlink" title="æ–‡ç« èµ„æº"></a>æ–‡ç« èµ„æº</h2><ul>
<li><a href="https://i5ting.github.io/How-to-learn-node-correctly/" target="_blank" rel="noopener">ã€çŸ¥ä¹ Liveã€‘ç‹¼å”ï¼šå¦‚ä½•æ­£ç¡®çš„å­¦ä¹  Node.js</a></li>
<li><a href="http://okj45byt5.bkt.clouddn.com/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BANode.js.pdf" target="_blank" rel="noopener">PDFï¼šæ·±å…¥æµ…å‡º Node.js</a></li>
<li><a href="http://nqdeng.github.io/7-days-nodejs/" target="_blank" rel="noopener">é˜¿é‡Œäº‘å‡ºå“ï¼šä¸ƒå¤©å­¦ä¼šNode.js</a></li>
<li><a href="https://github.com/atian25/blog/issues/19" target="_blank" rel="noopener">å¦‚ä½•æŒ‘é€‰é«˜è´¨é‡çš„ Node.js æ¨¡å—</a></li>
<li><a href="https://www.jianshu.com/p/fbf4a7c94e61" target="_blank" rel="noopener">node.js</a> - åŸºç¡€ç§‘æ™®æ€§æ–‡ç« ï¼Œå€¼å¾—è§‚çœ‹â­ï¸â­ï¸â­ï¸</li>
<li><a href="https://github.com/aisuhua/restful-api-design-references" target="_blank" rel="noopener">RESTful API å®Œæ•´ä»‹ç»</a></li>
<li><a href="https://github.com/ElemeFE/node-interview/blob/master/sections/zh-cn/process.md" target="_blank" rel="noopener">GitHub: process</a> ä¸ node.js è¿›ç¨‹ç›¸å…³çš„ä¸€ç¯‡æ–‡ç« </li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/12/Node.js_ä½¿ç”¨ mongoose è¿æ¥ MongoDB æ•°æ®åº“/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/12/Node.js_ä½¿ç”¨ mongoose è¿æ¥ MongoDB æ•°æ®åº“/" class="post-title-link" itemprop="url">Node.js_ä½¿ç”¨ mongoose è¿æ¥ MongoDB æ•°æ®åº“</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-12 15:42:00" itemprop="dateCreated datePublished" datetime="2018-10-12T15:42:00+08:00">2018-10-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-18 11:04:38" itemprop="dateModified" datetime="2019-04-18T11:04:38+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node-js/" itemprop="url" rel="index"><span itemprop="name">Node.js</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/12/Node.js_ä½¿ç”¨ mongoose è¿æ¥ MongoDB æ•°æ®åº“/" class="leancloud_visitors" data-flag-title="Node.js_ä½¿ç”¨ mongoose è¿æ¥ MongoDB æ•°æ®åº“">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h2 id="MongoDB-æ•°æ®åº“"><a href="#MongoDB-æ•°æ®åº“" class="headerlink" title="MongoDB æ•°æ®åº“"></a>MongoDB æ•°æ®åº“</h2><p>MongoDB çš„æ•°æ®é€»è¾‘ç»“æ„ï¼šæ–‡æ¡£ï¼ˆdocumentï¼‰ã€é›†åˆï¼ˆcollectionï¼‰ã€æ•°æ®åº“ï¼ˆdatabaseï¼‰ã€‚</p>
<ul>
<li>æ–‡æ¡£ï¼ˆdocumentï¼‰ï¼šç”±é”®å€¼å¯¹æ„æˆï¼Œç›¸å½“äºå…³ç³»æ•°æ®åº“ä¸­çš„ä¸€è¡Œè®°å½•ã€‚</li>
<li>é›†åˆï¼ˆcollectionï¼‰ï¼šå¤šä¸ªæ–‡æ¡£ç»„æˆä¸€ä¸ªé›†åˆï¼Œç›¸å½“äºå…³ç³»æ•°æ®åº“çš„è¡¨ã€‚</li>
<li>æ•°æ®åº“ï¼ˆdatabaseï¼‰ï¼šå¤šä¸ªé›†åˆé€»è¾‘ä¸Šç»„ç»‡åœ¨ä¸€èµ·ï¼Œå°±æ˜¯æ•°æ®åº“ã€‚</li>
</ul>
<p>ä¸€ä¸ª MongoDB å®ä¾‹æ”¯æŒå¤šä¸ªæ•°æ®åº“ï¼ˆdatabaseï¼‰ã€‚</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwly1fw4gd4brp4j31fw0jc0u7.jpg" alt="MongoDB æ•°æ®åº“ç»“æ„"></p>
<h2 id="ä½¿ç”¨-mongoose-è¿æ¥-MongoDB"><a href="#ä½¿ç”¨-mongoose-è¿æ¥-MongoDB" class="headerlink" title="ä½¿ç”¨ mongoose è¿æ¥ MongoDB"></a>ä½¿ç”¨ <a href="https://github.com/Automattic/mongoose" target="_blank" rel="noopener">mongoose</a> è¿æ¥ MongoDB</h2><p>MongoDB æ•°æ®åº“åŸºç¡€ï¼š</p>
<ul>
<li>mongoose ä¸­çš„ä¸€åˆ‡ç”± <strong>schema</strong>ï¼ˆËˆskÄ“mÉ™ï¼‰ å¼€å§‹ã€‚ <strong>schema</strong> æ˜¯ä¸€ç§ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨çš„æ•°æ®åº“æ¨¡å‹éª¨æ¶ï¼Œå¹¶ä¸å…·å¤‡æ•°æ®åº“çš„æ“ä½œèƒ½åŠ›ã€‚ </li>
<li><strong>Schema</strong> å®šä¹‰äº† <strong>model</strong> ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œè€Œ <strong>model</strong> åˆ™æ˜¯å¯¹åº”ä¸€ä¸ª MongoDB ä¸­çš„ <strong>collection</strong>ã€‚</li>
</ul>
<blockquote>
<p><strong>Schema</strong> ç”Ÿæˆ <strong>Model</strong>ï¼Œ<strong>Model</strong> åˆ›é€  <strong>Entity</strong>ï¼Œ<strong>Model</strong> å’Œ <strong>Entity</strong> éƒ½å¯å¯¹æ•°æ®åº“æ“ä½œé€ æˆå½±å“ï¼Œä½† <strong>Model</strong> æ¯” <strong>Entity</strong> æ›´å…·æ“ä½œæ€§ã€‚</p>
</blockquote>
<h3 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h3><p>è¿æ¥æ•°æ®åº“ï¼Œå®ç°å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ mongoose æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ•°æ®åº“åœ°å€</span></span><br><span class="line"><span class="comment">// uri:mongodb://+[ç”¨æˆ·å:å¯†ç @]+æ•°æ®åº“åœ°å€[:ç«¯å£]+æ•°æ®åº“å</span></span><br><span class="line"><span class="comment">// uriï¼šmongodb://user:pass@localhost:port/database</span></span><br><span class="line"><span class="keyword">const</span> uri = <span class="string">'mongodb://user:pass@localhost:port/database?authSource=admin'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿æ¥ mongoDB æ•°æ®åº“</span></span><br><span class="line">mongoose.connect(uri, &#123;<span class="attr">useNewUrlParser</span>: <span class="literal">true</span>&#125;);</span><br><span class="line"><span class="keyword">const</span> db = mongoose.connection;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†è¿æ¥ç»‘å®šåˆ°é”™è¯¯äº‹ä»¶</span></span><br><span class="line">db.on(<span class="string">'error'</span>, <span class="built_in">console</span>.error.bind(<span class="built_in">console</span>, <span class="string">'MongoDB connection error'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯äº‹ä»¶ï¼ŒåŒä¸Š</span></span><br><span class="line">db.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.error.bind(<span class="built_in">console</span>, <span class="string">'æ•°æ®åº“è¿æ¥å¤±è´¥ï¼š'</span> + error);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€æ¬¡æ‰“å¼€äº‹ä»¶</span></span><br><span class="line">db.once(<span class="string">'open'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ä¸€æ¬¡æ‰“å¼€è®°å½•'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“è¿æ¥æˆåŠŸ</span></span><br><span class="line">db.on(<span class="string">'open'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æ•°æ®åº“è¿æ¥æˆåŠŸ'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“è¿æ¥å¤±è´¥</span></span><br><span class="line">db.on(<span class="string">'disconnected'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æ•°æ®åº“è¿æ¥æ–­å¼€'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–­å¼€è¿æ¥</span></span><br><span class="line">mongoose.disconnect();</span><br></pre></td></tr></table></figure>
<h3 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ Schema</span></span><br><span class="line"><span class="keyword">const</span> Schema = mongoose.Schema;</span><br><span class="line"><span class="comment">// ä½¿ç”¨ Schema æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ Schema å®ä¾‹</span></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ– mongoose.Schema å¯¹è±¡å¹¶å®šä¹‰ Model çš„å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> ArticleScheme = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">    title: <span class="built_in">String</span>,</span><br><span class="line">    author: <span class="built_in">String</span>,</span><br><span class="line">    content: <span class="built_in">String</span>,</span><br><span class="line">    publishTime: <span class="built_in">Date</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å°† Schema æ³¨å†Œæˆ Model</span></span><br><span class="line">mongoose.model(<span class="string">'Article'</span>, ArticleScheme);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœ ModelæˆåŠŸæ³¨å†Œï¼Œå°±å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è®¿é—®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">const</span> ArticleModel = mongoose.model(<span class="string">'Article'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ Model å®šä¹‰ Entity</span></span><br><span class="line"><span class="keyword">var</span> ArticleEntity = <span class="keyword">new</span> ArticleModel(&#123;</span><br><span class="line">    title: <span class="string">'node.js'</span>,</span><br><span class="line">    author: <span class="string">'node'</span>,</span><br><span class="line">    content: <span class="string">'node.js is great!'</span>,</span><br><span class="line">    publishTime: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ã€å°†æ–‡æ¡£æ’å…¥åˆ°é›†åˆä¸­ã€‘</span></span><br><span class="line">ArticleEntity.save(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'save failed '</span> + err);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'save successed'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ã€æŸ¥è¯¢ã€‘</span></span><br><span class="line"><span class="comment">// find() æ–¹æ³•ï¼ŒæŸ¥è¯¢æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„æ•°æ®</span></span><br><span class="line"><span class="comment">// findOne() æ–¹æ³•ï¼ŒæŸ¥è¯¢ç¬¦å·è¦æ±‚çš„ç¬¬ä¸€æ¡æ•°æ®</span></span><br><span class="line">ArticleModel.find(&#123;<span class="attr">title</span>:<span class="string">'node.js'</span>&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'error'</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'result: '</span> + docs); <span class="comment">// æ‰“å°å®ä½“</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ã€æŸ¥è¯¢çºªå½•åï¼Œä¿®æ”¹è®°å½•çš„å€¼ã€‘</span></span><br><span class="line">    docs[<span class="number">0</span>].title = <span class="string">'javascript'</span>; <span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line">    docs[<span class="number">0</span>].save(); <span class="comment">// ä¿å­˜ä¿®æ”¹åçš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ã€åˆ é™¤æ•°æ®ã€‘</span></span><br><span class="line">    <span class="keyword">if</span> (docs) &#123;</span><br><span class="line">        <span class="comment">// éå†æ–‡æ¡£ï¼Œé€æ¡åˆ é™¤</span></span><br><span class="line">        docs.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">ele</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// åªæœ‰å•ä¸ªæ–‡æ¡£å¯ä»¥ä½¿ç”¨ remove() æ–¹æ³•</span></span><br><span class="line">            ele.remove();</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥å°† Model æå–æˆå•ç‹¬çš„ä¸€ä¸ªç±»ï¼š</p>
<blockquote>
<p>ğŸ’¡</p>
<p>å¼ºçƒˆå»ºè®®åœ¨æ¯ä¸ªæ¨¡å‹æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰ä¸­ï¼Œå®šä¹‰æ¯ä¸ªæ¨¡å‹çº²è¦ï¼Œå¯¼å‡ºæ–¹æ³•ä»¥åˆ›å»ºæ¨¡å‹ã€‚</p>
</blockquote>
<h4 id="article-js"><a href="#article-js" class="headerlink" title="article.js"></a>article.js</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥ mongoose æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ Schema</span></span><br><span class="line"><span class="keyword">const</span> Schema = mongoose.Schema;</span><br><span class="line"><span class="keyword">const</span> ObjectId = Schema.ObjectId; <span class="comment">// ä¸»é”®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ArticleSchema = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">    id: ObjectId,</span><br><span class="line">    title: &#123;<span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">max</span>: <span class="number">100</span>&#125;,</span><br><span class="line">    name: &#123;<span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">max</span>: <span class="number">100</span>&#125;,</span><br><span class="line">    date: &#123;<span class="attr">type</span>: date&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºæ¨¡å‹</span></span><br><span class="line"><span class="built_in">module</span>.exports = mongoose.model(<span class="string">'Article'</span>, ArticleSchema);</span><br></pre></td></tr></table></figure>
<h4 id="farmers-js"><a href="#farmers-js" class="headerlink" title="farmers.js"></a>farmers.js</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ Schema</span></span><br><span class="line"><span class="keyword">const</span> Schema = mongoose.Schema;</span><br><span class="line"><span class="keyword">const</span> FarmerSchema = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">  uuid: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  name: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  id_number: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  phone: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  public_key: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  private_key: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">required</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºæ¨¡å‹</span></span><br><span class="line"><span class="built_in">module</span>.exports = mongoose.model(<span class="string">'Farmer'</span>, FarmerSchema);</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------</span></span><br><span class="line"><span class="comment">// å¼•å…¥å¹¶ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">const</span> FarmerModel = <span class="built_in">require</span>(<span class="string">'../model/farmers'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="å¢ï¼ˆCreateï¼‰"><a href="#å¢ï¼ˆCreateï¼‰" class="headerlink" title="å¢ï¼ˆCreateï¼‰"></a>å¢ï¼ˆCreateï¼‰</h3><p>é€šå¸¸æ‰€è¯´çš„ CRUD å°±æ˜¯æ•°æ®åº“çš„å¢ï¼ˆCreateï¼‰åˆ ï¼ˆDeleteï¼‰æŸ¥ï¼ˆReadï¼‰æ”¹ï¼ˆUpdateï¼‰ã€‚</p>
<blockquote>
<p><code>Model.create()</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> doc = (&#123;</span><br><span class="line">  uuid: <span class="string">'1234567890'</span>,</span><br><span class="line">  name: <span class="string">'å¼ ä¸‰'</span>,</span><br><span class="line">  id_number: <span class="string">'320321201810104321'</span>,</span><br><span class="line">  phone: <span class="string">'15812345678'</span>,</span><br><span class="line">  public_key: <span class="string">'publickey'</span>,</span><br><span class="line">  private_key: <span class="string">'privatekey'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">FarmerModel.create(doc, <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'create error: '</span> + err);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'create success:\n '</span> + docs);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Entity.save()</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ Model å®šä¹‰ Entity</span></span><br><span class="line"><span class="keyword">const</span> FarmerEntity = <span class="keyword">new</span> FarmerModel(&#123;</span><br><span class="line">  uuid: <span class="string">'2234567890'</span>,</span><br><span class="line">  name: <span class="string">'æå››'</span>,</span><br><span class="line">  id_number: <span class="string">'320321201810104322'</span>,</span><br><span class="line">  phone: <span class="string">'15912345678'</span>,</span><br><span class="line">  public_key: <span class="string">'publickey_1'</span>,</span><br><span class="line">  private_key: <span class="string">'privatekey_1'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† Entity ä¿å­˜åˆ°æ•°æ®åº“</span></span><br><span class="line">FarmerEntity.save(<span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'create error: '</span> + err);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'create success:\n '</span> + docs);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>Model.insertMany()</code>ï¼Œä¸€æ¬¡æ’å…¥å¤šä¸ªå€¼</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// insertMany()</span></span><br><span class="line">FarmerModel.insertMany([&#123;</span><br><span class="line">  uuid: <span class="string">'12345'</span>,</span><br><span class="line">  name: <span class="string">'ç‹äº”'</span>,</span><br><span class="line">  id_number: <span class="string">'123456'</span>,</span><br><span class="line">  phone: <span class="string">'123456'</span>,</span><br><span class="line">  public_key: <span class="string">'12345'</span>,</span><br><span class="line">  private_key: <span class="string">'12345'</span>,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  uuid: <span class="string">'12345'</span>,</span><br><span class="line">  name: <span class="string">'èµµå…­'</span>,</span><br><span class="line">  id_number: <span class="string">'123456'</span>,</span><br><span class="line">  phone: <span class="string">'123456'</span>,</span><br><span class="line">  public_key: <span class="string">'12345'</span>,</span><br><span class="line">  private_key: <span class="string">'12345'</span>,</span><br><span class="line">&#125;], <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'create error: '</span> + err);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'create success:\n '</span> + docs);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥ï¼ˆReadï¼‰"><a href="#æŸ¥ï¼ˆReadï¼‰" class="headerlink" title="æŸ¥ï¼ˆReadï¼‰"></a>æŸ¥ï¼ˆReadï¼‰</h3><blockquote>
<p><code>Model.find()</code>ï¼ŒæŸ¥è¯¢æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„æ•°æ®</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FarmerModel.find(&#123; <span class="attr">name</span>: <span class="string">'å¼ ä¸‰'</span> &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æŸ¥è¯¢é”™è¯¯'</span> + err);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æ‰“å°å®ä½“ï¼šresult: '</span> + docs);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»é›†åˆ/è¡¨ä¸­æŒ‰ç…§ uuid é”®å€¼å¯¹æŸ¥æ‰¾æ–‡æ¡£ï¼ˆdocumentï¼‰</span></span><br><span class="line">db.getCollection(<span class="string">'NaturalPersonInfo'</span>).find(&#123;<span class="attr">uuid</span>:<span class="string">'8a033c7f20ea2bdea3c4b9d60d42f11e'</span>&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>Model.findOne()</code>ï¼ŒæŸ¥è¯¢ç¬¦å·è¦æ±‚çš„ç¬¬ä¸€æ¡æ•°æ®</p>
</blockquote>
<blockquote>
<p><code>Model.findById()</code></p>
</blockquote>
<h3 id="æ”¹ï¼ˆUpdateï¼‰"><a href="#æ”¹ï¼ˆUpdateï¼‰" class="headerlink" title="æ”¹ï¼ˆUpdateï¼‰"></a>æ”¹ï¼ˆUpdateï¼‰</h3><blockquote>
<p><code>Model.update()</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Model.update()</span></span><br><span class="line"><span class="comment">// æŸ¥è¯¢ uuid ä¸º 2234567890 çš„å®ä½“ï¼Œå°†ä»–çš„åå­—æ”¹ä¸ºå¼ å›¢å›¢ï¼Œå…è®¸æ›´æ–°å¤šæ¡æŸ¥è¯¢è®°å½•</span></span><br><span class="line">FarmerModel.update(&#123; <span class="attr">uuid</span>: <span class="string">'2234567890'</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">'å¼ å›¢å›¢'</span> &#125;, &#123; <span class="attr">multi</span>: <span class="literal">true</span> &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æ›´æ–°é”™è¯¯'</span> + err);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æ›´æ–°åçš„å®ä½“ï¼šresult: '</span> + docs);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>Model.updateMany()</code>ï¼Œä¸€æ¬¡æ›´æ–°å¤šæ¡æ•°æ®ã€‚</p>
<p><code>Model.updateOne()</code>ï¼Œä¸€æ¬¡æ›´æ–°ä¸€æ¡æ•°æ®ã€‚</p>
<p><code>Model.findByIdAndyUpdate()</code>ï¼Œ</p>
<p><code>Model.findOneAndUpdate()</code></p>
</blockquote>
<h3 id="åˆ ï¼ˆDeleteï¼‰"><a href="#åˆ ï¼ˆDeleteï¼‰" class="headerlink" title="åˆ ï¼ˆDeleteï¼‰"></a>åˆ ï¼ˆDeleteï¼‰</h3><blockquote>
<p><code>Model.remove()</code>ï¼Œåˆ é™¤</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FarmerModel.remove(&#123; <span class="attr">uuid</span>: <span class="string">'1234567890'</span> &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æŸ¥è¯¢é”™è¯¯'</span> + err);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'åˆ é™¤æˆåŠŸ'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>Model.findByIdAndRemove()</code></p>
<p><code>Model.findOneAndRemove()</code></p>
</blockquote>
<h2 id="å¸¸è§é”™è¯¯"><a href="#å¸¸è§é”™è¯¯" class="headerlink" title="å¸¸è§é”™è¯¯"></a>å¸¸è§é”™è¯¯</h2><h3 id="1-è¿æ¥-MongdDB-æ•°æ®åº“æ—¶æç¤ºå­—ç¬¦ä¸²å‚æ•°å¤±æ•ˆ"><a href="#1-è¿æ¥-MongdDB-æ•°æ®åº“æ—¶æç¤ºå­—ç¬¦ä¸²å‚æ•°å¤±æ•ˆ" class="headerlink" title="1. è¿æ¥ MongdDB æ•°æ®åº“æ—¶æç¤ºå­—ç¬¦ä¸²å‚æ•°å¤±æ•ˆ"></a>1. è¿æ¥ MongdDB æ•°æ®åº“æ—¶æç¤ºå­—ç¬¦ä¸²å‚æ•°å¤±æ•ˆ</h3><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿æ¥ mongoDB æ•°æ®åº“</span></span><br><span class="line">mongoose.connect(uri, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'connect failed'</span> + err);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'connect success'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>é”™è¯¯æç¤ºå†…å®¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DeprecationWarning: current URL string parser is deprecated, and will be removed in a future version. To use the new parser, pass option &#123; useNewUrlParser: true &#125; to MongoClient.connect.</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•ï¼šè¿æ¥æ—¶ä¼ é€’å‚æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿æ¥ mongoDB æ•°æ®åº“</span></span><br><span class="line">mongoose.connect(uri, &#123;<span class="attr">useNewUrlParser</span>: <span class="literal">true</span>&#125;); <span class="comment">// &lt;â€”â€”</span></span><br><span class="line"><span class="keyword">const</span> db = mongoose.connection;</span><br><span class="line"><span class="comment">// å°†è¿æ¥ç»‘å®šåˆ°é”™è¯¯äº‹ä»¶</span></span><br><span class="line">db.on(<span class="string">'error'</span>, <span class="built_in">console</span>.error.bind(<span class="built_in">console</span>, <span class="string">'MongoDB connection error'</span>));</span><br></pre></td></tr></table></figure>
<h3 id="2-è¿æ¥-MongoDB-æ•°æ®åº“æ—¶æˆæƒå¤±è´¥ï¼Œæç¤ºï¼šerrmsg-â€˜Authentication-failed-â€™-code-18"><a href="#2-è¿æ¥-MongoDB-æ•°æ®åº“æ—¶æˆæƒå¤±è´¥ï¼Œæç¤ºï¼šerrmsg-â€˜Authentication-failed-â€™-code-18" class="headerlink" title="2. è¿æ¥ MongoDB æ•°æ®åº“æ—¶æˆæƒå¤±è´¥ï¼Œæç¤ºï¼šerrmsg: â€˜Authentication failed.â€™,  code: 18"></a>2. è¿æ¥ MongoDB æ•°æ®åº“æ—¶æˆæƒå¤±è´¥ï¼Œæç¤ºï¼š<strong>errmsg: â€˜Authentication failed.â€™,  code: 18</strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// uri åé¢æ·»åŠ  authDatabase å‚æ•°</span></span><br><span class="line">mongoose.connect(<span class="string">'mongodb://user:password@host:port/dbname?authSource=admin'</span>)</span><br></pre></td></tr></table></figure>
<p>è§£å†³å‚è€ƒï¼š<a href="https://stackoverflow.com/questions/31398367/authentication-in-mongoose-using-scram-sha-1" target="_blank" rel="noopener">Authentication in mongoose using SCRAM-SHA-1</a></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li>å¼€æºæ¡†æ¶ï¼š<a href="https://mongodb.github.io/node-mongodb-native/" target="_blank" rel="noopener">node-mongode-native</a></li>
<li>å¼€æºæ¡†æ¶ï¼š<a href="https://github.com/Automattic/mongoose" target="_blank" rel="noopener">mongoose</a></li>
<li>å¼€æºæ¡†æ¶ï¼š<a href="https://github.com/eggjs/egg-mongoose" target="_blank" rel="noopener">egg-mongoose</a></li>
<li><a href="https://mongoosejs.com/" target="_blank" rel="noopener">mongoose å®˜ç½‘|Doc</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/learn/Server-side/Express_Nodejs/mongoose" target="_blank" rel="noopener">Express æ•™ç¨‹ 3: ä½¿ç”¨æ•°æ®åº“ (Mongoose)</a></li>
<li><a href="https://cnodejs.org/topic/504b4924e2b84515770103dd" target="_blank" rel="noopener">CNodeï¼šMongoose å­¦ä¹ å‚è€ƒæ–‡æ¡£â€”â€”åŸºç¡€ç¯‡</a> â­ï¸â­ï¸â­ï¸</li>
<li><a href="https://segmentfault.com/a/1190000008245062#articleHeader13" target="_blank" rel="noopener">Mongoose å¢æŸ¥æ”¹åˆ å­¦ä¹ ç¬”è®°</a> â­ï¸â­ï¸â­ï¸</li>
<li><a href="https://segmentfault.com/a/1190000009492647" target="_blank" rel="noopener">Node å­¦ä¹ è®°å½•: mongodb</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/11/Node.js ç½‘ç»œå¼€å‘/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/11/Node.js ç½‘ç»œå¼€å‘/" class="post-title-link" itemprop="url">Node.js ç½‘ç»œå¼€å‘</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-11 18:07:00" itemprop="dateCreated datePublished" datetime="2018-10-11T18:07:00+08:00">2018-10-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-18 10:36:06" itemprop="dateModified" datetime="2019-04-18T10:36:06+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node-js/" itemprop="url" rel="index"><span itemprop="name">Node.js</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/11/Node.js ç½‘ç»œå¼€å‘/" class="leancloud_visitors" data-flag-title="Node.js ç½‘ç»œå¼€å‘">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <table>
<thead>
<tr>
<th>Node.js ç½‘ç»œé€šä¿¡æ¨¡å—</th>
<th>å®ç°çš„é€šä¿¡æ–¹å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>net</td>
<td>TCP</td>
</tr>
<tr>
<td>http</td>
<td>HTTP</td>
</tr>
<tr>
<td>http2</td>
<td>HTTP/2</td>
</tr>
<tr>
<td>https</td>
<td>HTTPS</td>
</tr>
<tr>
<td>dgram</td>
<td>UDP</td>
</tr>
</tbody>
</table>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2018/10/11/Node.js ç½‘ç»œå¼€å‘/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/11/Node.jsç¤ºä¾‹_åˆ©ç”¨ Node.js çˆ¬å–ç½‘é¡µå›¾ç‰‡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/11/Node.jsç¤ºä¾‹_åˆ©ç”¨ Node.js çˆ¬å–ç½‘é¡µå›¾ç‰‡/" class="post-title-link" itemprop="url">Node.jsç¤ºä¾‹_åˆ©ç”¨ Node.js çˆ¬å–ç½‘é¡µå›¾ç‰‡</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-11 11:17:00" itemprop="dateCreated datePublished" datetime="2018-10-11T11:17:00+08:00">2018-10-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-18 10:33:01" itemprop="dateModified" datetime="2019-04-18T10:33:01+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node-js/" itemprop="url" rel="index"><span itemprop="name">Node.js</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/11/Node.jsç¤ºä¾‹_åˆ©ç”¨ Node.js çˆ¬å–ç½‘é¡µå›¾ç‰‡/" class="leancloud_visitors" data-flag-title="Node.jsç¤ºä¾‹_åˆ©ç”¨ Node.js çˆ¬å–ç½‘é¡µå›¾ç‰‡">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <p>ä¸»è¦å†…å®¹ï¼šåˆ©ç”¨ Node.js çˆ¬å–ä¸€ä¸ªç½‘é¡µï¼Œé€šè¿‡ç¬¬ä¸‰æ–¹æ¨¡å— cheerio.js åˆ†æè¿™ä¸ªç½‘é¡µçš„å†…å®¹ï¼Œæœ€åå°†è¿™ä¸ªç½‘é¡µçš„å›¾ç‰‡ä¿å­˜åœ¨æœ¬åœ°ã€‚</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2018/10/11/Node.jsç¤ºä¾‹_åˆ©ç”¨ Node.js çˆ¬å–ç½‘é¡µå›¾ç‰‡/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/11/Node.js æ–‡ä»¶ç³»ç»Ÿ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/11/Node.js æ–‡ä»¶ç³»ç»Ÿ/" class="post-title-link" itemprop="url">Node.js æ–‡ä»¶ç³»ç»Ÿ</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-11 11:00:00" itemprop="dateCreated datePublished" datetime="2018-10-11T11:00:00+08:00">2018-10-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-18 01:29:38" itemprop="dateModified" datetime="2019-04-18T01:29:38+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node-js/" itemprop="url" rel="index"><span itemprop="name">Node.js</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/11/Node.js æ–‡ä»¶ç³»ç»Ÿ/" class="leancloud_visitors" data-flag-title="Node.js æ–‡ä»¶ç³»ç»Ÿ">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <p>Node.js ä½¿ç”¨ fsï¼ˆFile Systemï¼‰æ¨¡å—æ¥æ“ä½œæ–‡ä»¶ã€‚æ–‡ä»¶ç³»ç»Ÿæ¨¡å—æœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ³•ï¼šåŒæ­¥æ–¹æ³•/å¼‚æ­¥æ–¹æ³•ã€‚</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2018/10/11/Node.js æ–‡ä»¶ç³»ç»Ÿ/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/10/Node.js æ ¸å¿ƒæ¨¡å—æ¦‚è¿°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/10/Node.js æ ¸å¿ƒæ¨¡å—æ¦‚è¿°/" class="post-title-link" itemprop="url">Node.js æ ¸å¿ƒæ¨¡å—æ¦‚è¿°</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-10 10:48:00" itemprop="dateCreated datePublished" datetime="2018-10-10T10:48:00+08:00">2018-10-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-23 12:51:30" itemprop="dateModified" datetime="2019-04-23T12:51:30+08:00">2019-04-23</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node-js/" itemprop="url" rel="index"><span itemprop="name">Node.js</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/10/Node.js æ ¸å¿ƒæ¨¡å—æ¦‚è¿°/" class="leancloud_visitors" data-flag-title="Node.js æ ¸å¿ƒæ¨¡å—æ¦‚è¿°">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h2 id="CmmonJS-è§„èŒƒ"><a href="#CmmonJS-è§„èŒƒ" class="headerlink" title="CmmonJS è§„èŒƒ"></a>CmmonJS è§„èŒƒ</h2><p>CommonJS æ˜¯ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ç›®æ ‡æ˜¯åœ¨ Web æµè§ˆå™¨ä¹‹å¤–ä¸º JavaScript å»ºç«‹æ¨¡å—ç”Ÿæ€ç³»ç»Ÿçš„çº¦å®šã€‚å…¶åˆ›å»ºçš„ä¸»è¦åŸå› æ˜¯ç¼ºä¹æ™®éæ¥å—çš„ JavaScript è„šæœ¬æ¨¡å—å•å…ƒå½¢å¼ï¼Œå…¶å¯ä»¥åœ¨ä¸åŒäºä¼ ç»Ÿç½‘ç»œæµè§ˆå™¨æä¾›çš„ç¯å¢ƒä¸­é‡å¤ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼Œè¿è¡Œ JavaScript è„šæœ¬çš„ Web æœåŠ¡å™¨æˆ–æœ¬æœºæ¡Œé¢åº”ç”¨ç¨‹åºã€‚</p>
<p>è¯¦ç»†å‚è€ƒï¼š<a href="https://zhaoda.net/webpack-handbook/commonjs.html" target="_blank" rel="noopener">CommonJS è§„èŒƒ</a></p>
<h2 id="æ¨¡å—åŠ è½½åŸç†ä¸åŠ è½½æ–¹å¼"><a href="#æ¨¡å—åŠ è½½åŸç†ä¸åŠ è½½æ–¹å¼" class="headerlink" title="æ¨¡å—åŠ è½½åŸç†ä¸åŠ è½½æ–¹å¼"></a>æ¨¡å—åŠ è½½åŸç†ä¸åŠ è½½æ–¹å¼</h2><ul>
<li>Node ä¸­çš„æ¨¡å—ï¼š<ol>
<li><strong>æ ¸å¿ƒæ¨¡å—/åŸç”Ÿæ¨¡å—</strong>ï¼šNodeæä¾›çš„æ¨¡å—ã€‚</li>
<li><strong>æ–‡ä»¶æ¨¡å—</strong>ï¼šç”¨æˆ·ç¼–å†™çš„æ¨¡å—ã€‚</li>
</ol>
</li>
<li>Node å¼•å…¥æ¨¡å—çš„æ­¥éª¤ï¼š<strong>è·¯å¾„åˆ†æ â€”&gt; æ–‡ä»¶å®šä½ â€”&gt; ç¼–è¯‘æ‰§è¡Œ</strong>ã€‚</li>
<li>åŠ è½½é€Ÿåº¦ï¼šæ ¸å¿ƒæ¨¡å—æ¯”æ–‡ä»¶æ¨¡å—åŠ è½½é€Ÿåº¦æ›´å¿«ã€‚</li>
</ul>
<h3 id="ä¼˜å…ˆä»ç¼“å­˜åŠ è½½"><a href="#ä¼˜å…ˆä»ç¼“å­˜åŠ è½½" class="headerlink" title="ä¼˜å…ˆä»ç¼“å­˜åŠ è½½"></a>ä¼˜å…ˆä»ç¼“å­˜åŠ è½½</h3><ul>
<li>Node å¯¹å¼•å…¥è¿‡çš„æ¨¡å—éƒ½ä¼šè¿›è¡Œç¼“å­˜ï¼Œä»¥å‡å°‘äºŒæ¬¡å¼•å…¥æ—¶çš„å¼€é”€ã€‚è€Œä¸”ç¼“å­˜çš„æ˜¯ç¼–è¯‘å’Œæ‰§è¡Œä¹‹åçš„å¯¹è±¡ã€‚</li>
<li><code>require()</code> æ–¹æ³•æ˜¯ä¸€ä¸ª<strong>åŒæ­¥ I/O æ“ä½œ</strong>ã€‚</li>
<li><code>require()</code> æ–¹æ³•å¯¹ç›¸åŒæ¨¡å—çš„äºŒæ¬¡åŠ è½½ä¸€å¾‹é‡‡ç”¨<strong>ç¼“å­˜ä¼˜å…ˆ</strong>çš„æ–¹å¼ã€‚</li>
<li>åŠ è½½æ¬¡åºï¼šç¼“å­˜ä¸­åŠ è½½ - æ ¸å¿ƒæ¨¡å— - æ–‡ä»¶æ¨¡å— - node_modules æ¨¡å—ã€‚</li>
</ul>
<h2 id="require-å¯¼å…¥æ¨¡å—"><a href="#require-å¯¼å…¥æ¨¡å—" class="headerlink" title="require å¯¼å…¥æ¨¡å—"></a>require å¯¼å…¥æ¨¡å—</h2><blockquote>
<p>ğŸ’¡ğŸ’¡ğŸ’¡<br><strong>æ–‡ä»¶æ‰©å±•å</strong><br><code>require()</code> æ–¹æ³•å¯¼å…¥æ¨¡å—æ—¶ï¼Œæ ‡è¯†ç¬¦ä¸­å¯ä»¥ä¸åŒ…å«æ–‡ä»¶æ‰©å±•åï¼Œå³ï¼š<br><code>const mongoose = require(&#39;mongoose&#39;);</code><br>æ­¤æ—¶ï¼ŒNode.js ä¼šæŒ‰ .jsã€.jsonã€.nodeçš„æ¬¡åºä¾æ¬¡è¡¥è¶³æ‰©å±•åï¼Œä¾æ¬¡å°è¯•ï¼ˆæ€§èƒ½é—®é¢˜ï¼š<strong>ä¼šè°ƒç”¨ fs æ¨¡å—åŒæ­¥é˜»å¡å¼åœ°åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</strong>ï¼‰ã€‚</p>
<p>ä¼˜åŒ–çš„è¯€çªï¼šå¦‚æœæ˜¯ .node æˆ–è€… .json æ–‡ä»¶ï¼Œåœ¨ä¼ é€’ç»™ <code>require()</code> çš„æ ‡è¯†ç¬¦ä¸­å¸¦ä¸Šæ‰©å±•åã€‚</p>
</blockquote>
<h3 id="1-å¯¼å…¥æ ¸å¿ƒæ¨¡å—"><a href="#1-å¯¼å…¥æ ¸å¿ƒæ¨¡å—" class="headerlink" title="1. å¯¼å…¥æ ¸å¿ƒæ¨¡å—"></a>1. å¯¼å…¥æ ¸å¿ƒæ¨¡å—</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥ http æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="2-å¯¼å…¥æ–‡ä»¶æ¨¡å—"><a href="#2-å¯¼å…¥æ–‡ä»¶æ¨¡å—" class="headerlink" title="2. å¯¼å…¥æ–‡ä»¶æ¨¡å—"></a>2. å¯¼å…¥æ–‡ä»¶æ¨¡å—</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// "./" å‰ç¼€æŒ‡ä»£å½“å‰è·¯å¾„</span></span><br><span class="line"><span class="comment">// Node.js å†…éƒ¨ä¼šè‡ªåŠ¨æŸ¥æ‰¾åŠ è½½ node_modules æ–‡ä»¶å¤¹ä¸‹çš„æ¨¡å—</span></span><br><span class="line"><span class="comment">// æ¨¡å—è·¯å¾„æŸ¥æ‰¾è§„åˆ™ï¼šå½“å‰ç›®å½•-&gt;çˆ¶ç›®å½•-&gt;...-&gt;æ ¹ç›®å½•</span></span><br><span class="line"><span class="keyword">const</span> underscore = <span class="built_in">require</span>(<span class="string">'./underscore'</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ npm æ’ä»¶å¯¼å…¥æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> &#123;&#125; <span class="keyword">from</span> <span class="string">'underscore'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="exports-å¯¼å‡ºæ¨¡å—"><a href="#exports-å¯¼å‡ºæ¨¡å—" class="headerlink" title="exports å¯¼å‡ºæ¨¡å—"></a>exports å¯¼å‡ºæ¨¡å—</h2><ul>
<li>åœ¨ Node ä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚</li>
<li>åœ¨æ¨¡å—ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ª <strong>module</strong> å¯¹è±¡ï¼Œå®ƒä»£è¡¨æ¨¡å—è‡ªèº«ï¼Œè€Œ <strong>exports</strong> æ˜¯ <strong>module</strong> çš„å±æ€§ã€‚</li>
</ul>
<h3 id="1-ç¤ºä¾‹ä¸€"><a href="#1-ç¤ºä¾‹ä¸€" class="headerlink" title="1. ç¤ºä¾‹ä¸€"></a>1. ç¤ºä¾‹ä¸€</h3><p>å¯¼å‡ºæ¨¡å—ï¼Œä¸å…¶ä»–æ¨¡å—å…±äº«ä¸€äº›å±æ€§ã€æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> util = &#123;</span><br><span class="line">    <span class="comment">// æ•°ç»„å»é‡</span></span><br><span class="line">    noRepeat : <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">ele, index</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> arr.indexOf(ele) == index;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è®¡ç®—æ•°ç»„ä¹‹å’Œ</span></span><br><span class="line">    add : <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">ele1, ele2</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> ele1 + ele2;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºæ¨¡å—</span></span><br><span class="line"><span class="built_in">module</span>.exports = util;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'./test'</span>); <span class="comment">// å¯¼å…¥æ–‡ä»¶æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> noRepeatArr = util.noRepeat(arr);</span><br><span class="line"><span class="keyword">let</span> num = util.add(arr);</span><br></pre></td></tr></table></figure>
<h3 id="2-ç¤ºä¾‹äºŒ"><a href="#2-ç¤ºä¾‹äºŒ" class="headerlink" title="2. ç¤ºä¾‹äºŒ"></a>2. ç¤ºä¾‹äºŒ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math.js</span></span><br><span class="line"><span class="comment">// å°†æ–¹æ³•æŒ‚è½½åˆ° exports å¯¹è±¡ä¸Šä½œä¸ºå±æ€§å³å¯å®šä¹‰å¯¼å‡ºçš„æ–¹å¼</span></span><br><span class="line">exports.add = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>,</span><br><span class="line">        i = <span class="number">0</span>,</span><br><span class="line">        args = <span class="built_in">arguments</span>,</span><br><span class="line">        l = args.length;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        sum += args[i++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// program.js</span></span><br><span class="line"><span class="keyword">const</span> math = <span class="built_in">require</span>(<span class="string">'./math'</span>);</span><br><span class="line">exports.increment = <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> math.add(val, <span class="number">1</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="exports-ä¸-module-exports"><a href="#exports-ä¸-module-exports" class="headerlink" title="exports ä¸ module.exports"></a>exports ä¸ module.exports</h3><ul>
<li><p>exports å¯¹è±¡æ˜¯é€šè¿‡å½¢å‚çš„æ–¹å¼ä¼ å…¥çš„ï¼Œç›´æ¥èµ‹å€¼å½¢å‚ä¼šæ”¹å˜å½¢å‚çš„å¼•ç”¨ï¼Œä½†å¹¶ä¸èƒ½æ”¹å˜ä½œç”¨åŸŸå¤–çš„å€¼ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> change = <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">    a = <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// =&gt; 100</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">change(a);</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// =&gt; 10</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœè¦è¾¾åˆ° require å¼•å…¥ä¸€ä¸ªç±»çš„æ•ˆæœï¼Œè¯·èµ‹å€¼ç»™ <strong>module.exports</strong> å¯¹è±¡ã€‚</p>
</li>
</ul>
<h2 id="Node-js-æ ¸å¿ƒæ¨¡å—"><a href="#Node-js-æ ¸å¿ƒæ¨¡å—" class="headerlink" title="Node.js æ ¸å¿ƒæ¨¡å—"></a>Node.js æ ¸å¿ƒæ¨¡å—</h2><p>æ ¸å¿ƒæ¨¡å—å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<ol>
<li>C/C++ å†…å»ºæ¨¡å—ï¼›</li>
<li>JavaScript æ ¸å¿ƒæ¨¡å—ï¼›</li>
</ol>
<h2 id="httpæ¨¡å—â€”â€”åˆ›å»º-HTTP-æœåŠ¡å™¨ã€å®¢æˆ·ç«¯"><a href="#httpæ¨¡å—â€”â€”åˆ›å»º-HTTP-æœåŠ¡å™¨ã€å®¢æˆ·ç«¯" class="headerlink" title="httpæ¨¡å—â€”â€”åˆ›å»º HTTP æœåŠ¡å™¨ã€å®¢æˆ·ç«¯"></a>httpæ¨¡å—â€”â€”åˆ›å»º HTTP æœåŠ¡å™¨ã€å®¢æˆ·ç«¯</h2><h3 id="1-Node-js-æœåŠ¡å™¨ç«¯"><a href="#1-Node-js-æœåŠ¡å™¨ç«¯" class="headerlink" title="1. Node.js æœåŠ¡å™¨ç«¯"></a>1. Node.js æœåŠ¡å™¨ç«¯</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Node.js æœåŠ¡å™¨ç«¯</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å‘è¯·æ±‚çš„å®¢æˆ·ç«¯è¿”å›å“åº”å¤´ä¿¡æ¯</span></span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">        <span class="string">'content-type'</span>: <span class="string">'text/plain'</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// ç»“æŸå“åº”</span></span><br><span class="line">    res.end(<span class="string">'Hello, Node.js!'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'listening port 3000'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ï¼š<a href="http://localhost:3000/" target="_blank" rel="noopener">http://localhost:3000/</a> éªŒè¯ã€‚</p>
<ul>
<li><code>http.createServer()</code> æ–¹æ³•è¿”å›çš„æ˜¯ http æ¨¡å—å°è£…çš„ä¸€ä¸ªåŸºäºäº‹ä»¶çš„ http æœåŠ¡å™¨ã€‚</li>
<li><code>http.request</code> æ˜¯å…¶å°è£…çš„ä¸€ä¸ª http å®¢æˆ·ç«¯å·¥å…·ã€‚</li>
<li>req æ˜¯ <code>http.IncomingMessage</code> çš„å®ä¾‹ï¼Œè¡¨ç¤ºhttpè¯·æ±‚çš„ä¿¡æ¯ã€‚</li>
<li>res æ˜¯  <code>http.ServerResponse</code> çš„å®ä¾‹ï¼Œè¡¨ç¤ºè¿”å›ç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯ã€‚</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-7be96dc26e4d8b8f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="http.IncomingMessage"></p>
<p><code>http.ServerResponse</code> å¸¸ç”¨æ–¹æ³•:</p>
<ol>
<li><strong>res.writeHead(statusCode, [headers])</strong>ï¼šå‘è¯·æ±‚çš„å®¢æˆ·ç«¯å‘é€å“åº”å¤´ã€‚</li>
<li><strong>res.write(data,[encoding])</strong>ï¼šå‘è¯·æ±‚å‘é€å†…å®¹ã€‚</li>
<li><strong>res.end([data],[encoding])</strong>ï¼šç»“æŸè¯·æ±‚ã€‚</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Node.js æœåŠ¡å™¨ç«¯</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// http.createServer() æ–¹æ³•æ·»åŠ äº†ä¸€ä¸ª request äº‹ä»¶ç›‘å¬</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> data = <span class="string">''</span>;</span><br><span class="line">    req.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">        data += chunk;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    req.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> method = req.method;                   <span class="comment">// HTTP è¯·æ±‚çš„æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">let</span> url = req.url;                         <span class="comment">// è¯·æ±‚è·¯å¾„</span></span><br><span class="line">        <span class="keyword">let</span> headers = <span class="built_in">JSON</span>.stringify(req.headers); <span class="comment">// HTTP è¯·æ±‚å¤´</span></span><br><span class="line">        <span class="keyword">let</span> httpVersion = req.httpVersion;         <span class="comment">// HTTP åè®®çš„ç‰ˆæœ¬å·</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å‘è¯·æ±‚çš„å®¢æˆ·ç«¯å‘é€å“åº”å¤´</span></span><br><span class="line">        res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">            <span class="string">'content-type'</span>: <span class="string">'text/html'</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> dataHtml = <span class="string">'&lt;p&gt;data:'</span> + data + <span class="string">'&lt;/p&gt;'</span>;</span><br><span class="line">        <span class="keyword">let</span> methodHtml = <span class="string">'&lt;p&gt;method:'</span> + method + <span class="string">'&lt;/p&gt;'</span>;</span><br><span class="line">        <span class="keyword">let</span> urlHtml = <span class="string">'&lt;p&gt;url:'</span> + url + <span class="string">'&lt;/p&gt;'</span>;</span><br><span class="line">        <span class="keyword">let</span> headersHtml = <span class="string">'&lt;p&gt;headers:'</span> + headers + <span class="string">'&lt;/p&gt;'</span>;</span><br><span class="line">        <span class="keyword">let</span> httpVersionHtml = <span class="string">'&lt;p&gt;httpVersion:'</span> + httpVersion + <span class="string">'&lt;/p&gt;'</span>;</span><br><span class="line">        <span class="keyword">let</span> resData = dataHtml + methodHtml + urlHtml + headersHtml + httpVersion;</span><br><span class="line">        res.end(resData); <span class="comment">// ç»“æŸè¯·æ±‚</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'listening port 3000'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="2-å®¢æˆ·ç«¯å‘-http-æœåŠ¡å™¨å‘èµ·è¯·æ±‚"><a href="#2-å®¢æˆ·ç«¯å‘-http-æœåŠ¡å™¨å‘èµ·è¯·æ±‚" class="headerlink" title="2. å®¢æˆ·ç«¯å‘ http æœåŠ¡å™¨å‘èµ·è¯·æ±‚"></a>2. å®¢æˆ·ç«¯å‘ http æœåŠ¡å™¨å‘èµ·è¯·æ±‚</h3><p>å‘ http æœåŠ¡å™¨å‘èµ·è¯·æ±‚çš„æ–¹æ³•ï¼š</p>
<ul>
<li><strong>http.request(options[, callback])</strong></li>
<li><strong>http.get(options[, callback])</strong>ï¼Œhttp.request() ä½¿ç”¨ HTTP è¯·æ±‚æ–¹å¼ GET çš„ç®€ä¾¿å†™æ³•ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯å‘ http æœåŠ¡å™¨å‘èµ·è¯·æ±‚</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">let</span> reqData = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// http.request()ï¼šå‘ http æœåŠ¡å™¨å‘èµ·è¯·æ±‚</span></span><br><span class="line">http.request(&#123;</span><br><span class="line">    <span class="string">'host'</span>: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">    <span class="string">'port'</span>: <span class="string">'3000'</span>,</span><br><span class="line">    <span class="string">'method'</span>: <span class="string">'get'</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    res.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">        reqData += chunk;</span><br><span class="line">    &#125;);</span><br><span class="line">    res.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(reqData);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).end(); <span class="comment">// ç»“æŸè¯·æ±‚</span></span><br></pre></td></tr></table></figure>
<p><strong>http.request()</strong> å’Œ <strong>http.get()</strong> æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª <strong>http.ClientRequest()</strong> å®ä¾‹ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-dba7e05985466be7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="http.ClientRequest"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯å‘ http æœåŠ¡å™¨å‘èµ·è¯·æ±‚</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">let</span> reqData = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">let</span> option = &#123;</span><br><span class="line">    <span class="string">'host'</span>: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">    <span class="string">'port'</span>: <span class="string">'3000'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> req = http.request(option);</span><br><span class="line"></span><br><span class="line">req.on(<span class="string">'response'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    res.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">        reqData += chunk;</span><br><span class="line">    &#125;);</span><br><span class="line">    res.on(<span class="string">'end'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(reqData);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="url-æ¨¡å—â€”â€”url-åœ°å€å¤„ç†"><a href="#url-æ¨¡å—â€”â€”url-åœ°å€å¤„ç†" class="headerlink" title="url æ¨¡å—â€”â€”url åœ°å€å¤„ç†"></a>url æ¨¡å—â€”â€”url åœ°å€å¤„ç†</h2><p>url æ¨¡å—æ˜¯ä¸€ä¸ªåˆ†æã€è§£æ url åœ°å€çš„æ¨¡å—ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-cffab2d0aabfa669.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="url æ¨¡å—çš„3ä¸ªä¸»è¦æ–¹æ³•"></p>
<h3 id="url-parse-urlString-parseQueryString-slashesDenoteHost"><a href="#url-parse-urlString-parseQueryString-slashesDenoteHost" class="headerlink" title="url.parse(urlString[, parseQueryString[, slashesDenoteHost]])"></a><code>url.parse(urlString[, parseQueryString[, slashesDenoteHost]])</code></h3><p>ç¤ºä¾‹ï¼šè§£æ url åœ°å€ï¼Œè¿”å› url å¯¹è±¡ï¼š</p>
<p>ç¤ºä¾‹ä»£ç è®¿é—® url è·¯å¾„ï¼š<a href="http://localhost:8080/login?username=andy&amp;password=123456" target="_blank" rel="noopener">http://localhost:8080/login?username=andy&amp;password=123456</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰“å° req.url</span></span><br><span class="line">  <span class="built_in">console</span>.log(req.url);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è§£æ urlï¼Œè·å– url çš„ get ä¼ å€¼</span></span><br><span class="line">  <span class="keyword">const</span> result = url.parse(req.url, <span class="literal">true</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br><span class="line">  <span class="built_in">console</span>.log(result.query.username); <span class="comment">// andy</span></span><br><span class="line">  <span class="built_in">console</span>.log(result.query.password); <span class="comment">// 123456</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½®å“åº”å¤´ä¿¡æ¯</span></span><br><span class="line">  res.writeHead(<span class="number">200</span>, &#123; <span class="string">'content-type'</span>: <span class="string">'text/plain;charset=UTF8'</span> &#125;);</span><br><span class="line">  res.end(<span class="string">'hello world'</span>);</span><br><span class="line">&#125;).listen(<span class="number">8080</span>);</span><br></pre></td></tr></table></figure>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/login?username=andy&amp;password=123456</span></span><br><span class="line"></span><br><span class="line"><span class="string">Url</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">  protocol:</span> <span class="literal">null</span><span class="string">,</span></span><br><span class="line"><span class="attr">  slashes:</span> <span class="literal">null</span><span class="string">,</span></span><br><span class="line"><span class="attr">  auth:</span> <span class="literal">null</span><span class="string">,</span></span><br><span class="line"><span class="attr">  host:</span> <span class="literal">null</span><span class="string">,</span></span><br><span class="line"><span class="attr">  port:</span> <span class="literal">null</span><span class="string">,</span></span><br><span class="line"><span class="attr">  hostname:</span> <span class="literal">null</span><span class="string">,</span></span><br><span class="line"><span class="attr">  hash:</span> <span class="literal">null</span><span class="string">,</span></span><br><span class="line"><span class="attr">  search:</span> <span class="string">'?username=andy&amp;password=123456'</span><span class="string">,</span></span><br><span class="line"><span class="attr">  query:</span></span><br><span class="line">   <span class="string">[Object:</span> <span class="literal">null</span> <span class="string">prototype]</span> <span class="string">&#123;</span> <span class="attr">username:</span> <span class="string">'andy'</span><span class="string">,</span> <span class="attr">password:</span> <span class="string">'123456'</span> <span class="string">&#125;,</span></span><br><span class="line"><span class="attr">  pathname:</span> <span class="string">'/login'</span><span class="string">,</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">'/login?username=andy&amp;password=123456'</span><span class="string">,</span></span><br><span class="line"><span class="attr">  href:</span> <span class="string">'/login?username=andy&amp;password=123456'</span> <span class="string">&#125;</span></span><br><span class="line">  </span><br><span class="line"><span class="string">andy</span></span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<h3 id="url-format-urlObject"><a href="#url-format-urlObject" class="headerlink" title="url.format(urlObject)"></a><code>url.format(urlObject)</code></h3><p>ç¤ºä¾‹ï¼Œè·å–urlå¯¹è±¡ï¼Œè¿”å›å®Œæ•´çš„ url åœ°å€ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urlObj = &#123;</span><br><span class="line">    <span class="string">'host'</span>: <span class="string">'www.google.com'</span>,</span><br><span class="line">    <span class="string">'port'</span>: <span class="string">'80'</span>,</span><br><span class="line">    <span class="string">'protocol'</span>: <span class="string">'https'</span>,</span><br><span class="line">    <span class="string">'search'</span>: <span class="string">'?q=node.js'</span>,</span><br><span class="line">    <span class="string">'query'</span>: <span class="string">'q=node.js'</span>,</span><br><span class="line">    <span class="string">'path'</span>: <span class="string">'/'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> urlAdress = url.format(urlObj);</span><br><span class="line"><span class="built_in">console</span>.log(urlAdress); <span class="comment">// https://www.google.com?q=node.js</span></span><br></pre></td></tr></table></figure>
<h3 id="url-resolve-from-to"><a href="#url-resolve-from-to" class="headerlink" title="url.resolve(from, to)"></a><code>url.resolve(from, to)</code></h3><p>è¯¥æ¨¡å—å¯ç”¨äºæ·»åŠ æˆ–æ›¿æ¢ URL åœ°å€ã€‚</p>
<p>ç¤ºä¾‹ï¼šè§£æå¹¶è¿”å›å®Œæ•´çš„ URL åœ°å€ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urlAddress =  url.resolve(<span class="string">'https://www.google.com'</span>,<span class="string">'/image'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(urlAddress); <span class="comment">// https://www.google.com/image</span></span><br></pre></td></tr></table></figure>
<h2 id="querystring-æ¨¡å—â€”â€”æŸ¥è¯¢å­—ç¬¦ä¸²å¤„ç†"><a href="#querystring-æ¨¡å—â€”â€”æŸ¥è¯¢å­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="querystring æ¨¡å—â€”â€”æŸ¥è¯¢å­—ç¬¦ä¸²å¤„ç†"></a>querystring æ¨¡å—â€”â€”æŸ¥è¯¢å­—ç¬¦ä¸²å¤„ç†</h2><p><code>querystring</code> æ¨¡å—æä¾›äº†ä¸€äº›å®ç”¨å‡½æ•°ï¼Œç”¨äºè§£æä¸æ ¼å¼åŒ– URL æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-f6571c40824bd77f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="querystring æ¨¡å—"></p>
<h3 id="querystring-parse-ï¼Œååºåˆ—åŒ–"><a href="#querystring-parse-ï¼Œååºåˆ—åŒ–" class="headerlink" title="querystring.parse()ï¼Œååºåˆ—åŒ–"></a><code>querystring.parse()</code>ï¼Œååºåˆ—åŒ–</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ä¸€ä¸ª URL æŸ¥è¯¢å­—ç¬¦ä¸²åºåˆ—åŒ–ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„é›†åˆï¼‰</span></span><br><span class="line"><span class="keyword">let</span> str1 = <span class="string">'keyWord=node.js&amp;name=andy'</span>;</span><br><span class="line"><span class="keyword">let</span> obj1 = querystring.parse(str1);</span><br><span class="line"><span class="built_in">console</span>.log(obj1); <span class="comment">// // &#123; keyWord: 'node.js', name: 'andy' &#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="querystring-stringify-ï¼Œåºåˆ—åŒ–"><a href="#querystring-stringify-ï¼Œåºåˆ—åŒ–" class="headerlink" title="querystring.stringify()ï¼Œåºåˆ—åŒ–"></a><code>querystring.stringify()</code>ï¼Œåºåˆ—åŒ–</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å¯¹è±¡åºåˆ—åŒ–ä¸º URL æŸ¥è¯¢å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    name : <span class="string">'Andy'</span>,</span><br><span class="line">    age : <span class="number">25</span>,</span><br><span class="line">    job : <span class="string">'Doctor'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> str2 = querystring.stringify(obj2);</span><br><span class="line"><span class="built_in">console</span>.log(str2); <span class="comment">// name=Andy&amp;age=25&amp;job=Doctor</span></span><br></pre></td></tr></table></figure>
<h3 id="å…¶å®ƒæ–¹æ³•"><a href="#å…¶å®ƒæ–¹æ³•" class="headerlink" title="å…¶å®ƒæ–¹æ³•"></a>å…¶å®ƒæ–¹æ³•</h3><ul>
<li><p><code>querystring.escape(str)</code> ç”¨äºå¯¹ç»™å®šçš„ <code>str</code> è¿›è¡Œ URL ç¼–ç ã€‚è¯¥æ–¹æ³•æ˜¯æä¾›ç»™ <code>querystring.stringify()</code> ä½¿ç”¨çš„ï¼Œé€šå¸¸ä¸ç›´æ¥ä½¿ç”¨ã€‚ å®ƒä¹‹æ‰€ä»¥å¯¹å¤–å¼€æ”¾ï¼Œæ˜¯ä¸ºäº†åœ¨éœ€è¦æ—¶å¯ä»¥é€šè¿‡ç»™ <code>querystring.escape</code> èµ‹å€¼ä¸€ä¸ªå‡½æ•°æ¥é‡å†™ç¼–ç çš„å®ç°ã€‚</p>
</li>
<li><p><code>querystring.unescape(str)</code> ç”¨äºå¯¹ç»™å®šçš„ <code>str</code> è¿›è¡Œè§£ç ã€‚è¯¥æ–¹æ³•æ˜¯æä¾›ç»™ <code>querystring.parse()</code> ä½¿ç”¨çš„ï¼Œé€šå¸¸ä¸ç›´æ¥ä½¿ç”¨ã€‚ å®ƒä¹‹æ‰€ä»¥å¯¹å¤–å¼€æ”¾ï¼Œæ˜¯ä¸ºäº†åœ¨éœ€è¦æ—¶å¯ä»¥é€šè¿‡ç»™ <code>querystring.unescape</code> èµ‹å€¼ä¸€ä¸ªå‡½æ•°æ¥é‡å†™è§£ç çš„å®ç°ã€‚</p>
<p>é»˜è®¤ä½¿ç”¨ JavaScript å†…ç½®çš„ <code>decodeURIComponent()</code> æ–¹æ³•æ¥è§£ç ã€‚</p>
</li>
</ul>
<h2 id="util-æ¨¡å—â€”â€”å®ç”¨å·¥å…·"><a href="#util-æ¨¡å—â€”â€”å®ç”¨å·¥å…·" class="headerlink" title="util æ¨¡å—â€”â€”å®ç”¨å·¥å…·"></a>util æ¨¡å—â€”â€”å®ç”¨å·¥å…·</h2><p><img src="http://upload-images.jianshu.io/upload_images/2648731-86d9e4c9aebaf05a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="util æ¨¡å—"></p>
<h4 id="util-inspect-ï¼Œè¿”å›-object-çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¸»è¦ç”¨äºè°ƒè¯•ã€‚"><a href="#util-inspect-ï¼Œè¿”å›-object-çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¸»è¦ç”¨äºè°ƒè¯•ã€‚" class="headerlink" title="util.inspect()ï¼Œè¿”å› object çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¸»è¦ç”¨äºè°ƒè¯•ã€‚"></a><code>util.inspect()</code>ï¼Œè¿”å› <code>object</code> çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¸»è¦ç”¨äºè°ƒè¯•ã€‚</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    keyword: <span class="string">'node.js'</span>,</span><br><span class="line">    name: <span class="string">'andy'</span>,</span><br><span class="line">    marrage: <span class="literal">true</span>,</span><br><span class="line">    age: <span class="number">25</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.å°†å¯¹è±¡ååºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// let str = util.inspect(obj);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.å°†å¯¹è±¡ååºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè®©æ§åˆ¶å°å¸¦é¢œè‰²è¾“å‡º</span></span><br><span class="line"><span class="keyword">let</span> str = util.inspect(obj, &#123;</span><br><span class="line">    <span class="string">'colors'</span> : <span class="literal">true</span></span><br><span class="line">&#125;); </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// &#123; keyword: [32m'node.js' [39m, name:  [32m'andy' [39m, marrage:  [33mtrue [39m, age:  [33m25 [39m &#125;</span></span><br></pre></td></tr></table></figure>
<p>æ§åˆ¶å°å¸¦é¢œè‰²è¾“å‡ºå­—ç¬¦ä¸²ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-ce0ac7d9bd8cf70f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="util.inspect()"></p>
<h4 id="util-format-ï¼Œç±»ä¼¼-printf-çš„æ ¼å¼å­—ç¬¦ä¸²ã€‚"><a href="#util-format-ï¼Œç±»ä¼¼-printf-çš„æ ¼å¼å­—ç¬¦ä¸²ã€‚" class="headerlink" title="util.format()ï¼Œç±»ä¼¼ printf çš„æ ¼å¼å­—ç¬¦ä¸²ã€‚"></a><code>util.format()</code>ï¼Œç±»ä¼¼ <code>printf</code> çš„æ ¼å¼å­—ç¬¦ä¸²ã€‚</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line"></span><br><span class="line">util.format(<span class="string">'%s is %d'</span>, <span class="string">'andy'</span>, <span class="number">16</span>); <span class="comment">// andy is 16</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°å°‘äºå ä½ç¬¦</span></span><br><span class="line">util.format(<span class="string">'%s is %s %s'</span>, <span class="string">'andy'</span>, <span class="string">'smile'</span>); <span class="comment">// andy is smile %s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°å¤šäºå ä½ç¬¦</span></span><br><span class="line">util.format(<span class="string">'%s is '</span>, <span class="string">'andy'</span>, <span class="string">'smile'</span>, <span class="string">'zy'</span>); <span class="comment">// andy is  smile zy</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ²¡æœ‰å ä½ç¬¦</span></span><br><span class="line">util.format(<span class="string">'andy'</span>, <span class="string">'is'</span>, <span class="string">'smile'</span>); <span class="comment">// andy is smile</span></span><br></pre></td></tr></table></figure>
<h2 id="path-æ¨¡å—â€”â€”è·¯å¾„å¤„ç†"><a href="#path-æ¨¡å—â€”â€”è·¯å¾„å¤„ç†" class="headerlink" title="path æ¨¡å—â€”â€”è·¯å¾„å¤„ç†"></a>path æ¨¡å—â€”â€”è·¯å¾„å¤„ç†</h2><p>path æ¨¡å—ç”¨äºå¤„ç†æ–‡ä»¶ä¸ç›®å½•çš„è·¯å¾„ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-be2abbde6a62e760.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="path æ¨¡å—"></p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// path.join()</span></span><br><span class="line"><span class="keyword">let</span> outputpath = path.join(__dirname, <span class="string">'node'</span>, <span class="string">'node.js'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(outputpath); <span class="comment">// /Users/huqilin/Desktop/node/test/node/node.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// path.extname()</span></span><br><span class="line"><span class="keyword">let</span> ext = path.extname(path.join(__dirname, <span class="string">'node'</span>, <span class="string">'node.js'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(ext); <span class="comment">// .js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// path.parse()</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">'C/frontEnd/node/node.js'</span>;</span><br><span class="line"><span class="keyword">let</span> obj = path.parse(str);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; root: '',				 //æ ¹ç›®å½•</span></span><br><span class="line"><span class="comment">//   dir: 'C/frontEnd/node', //å®Œæ•´ç›®å½•</span></span><br><span class="line"><span class="comment">//   base: 'node.js',        //è·¯å¾„æœ€åä¸€ä¸ªéƒ¨åˆ†</span></span><br><span class="line"><span class="comment">//   ext: '.js',             //æ‹“å±•å</span></span><br><span class="line"><span class="comment">//   name: 'node' &#125;          //æ–‡ä»¶åï¼ˆä¸å¸¦æ‹“å±•åï¼‰</span></span><br></pre></td></tr></table></figure>
<p>å®ä¾‹ï¼š<code>path.join()</code> è§£å†³ <strong>Error: Missing *</strong> File** é—®é¢˜ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// const configFilename = './rss_feeds.txt'; // error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">const</span> configFilename = path.join(__dirname, <span class="string">'./rss_feeds.txt'</span>);</span><br></pre></td></tr></table></figure></p>
<h2 id="dns-æ¨¡å—"><a href="#dns-æ¨¡å—" class="headerlink" title="dns æ¨¡å—"></a>dns æ¨¡å—</h2><p>dns æ¨¡å—çš„åŠŸèƒ½æ˜¯åŸŸåå¤„ç†å’ŒåŸŸåè§£æã€‚</p>
<p>dns æ¨¡å—åŒ…å«ä¸¤ç±»å‡½æ•°ï¼š</p>
<ol>
<li>ä½¿ç”¨åº•å±‚æ“ä½œç³»ç»Ÿå·¥å…·è¿›è¡ŒåŸŸåè§£æï¼Œä¸”æ— éœ€è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚ è¿™ç±»å‡½æ•°åªæœ‰ä¸€ä¸ªï¼š<a href="http://nodejs.cn/s/LJLsTL" target="_blank" rel="noopener"><code>dns.lookup()</code></a>ã€‚</li>
<li>è¿æ¥åˆ°ä¸€ä¸ªçœŸå®çš„ DNS æœåŠ¡å™¨è¿›è¡ŒåŸŸåè§£æï¼Œä¸”å§‹ç»ˆä½¿ç”¨ç½‘ç»œè¿›è¡Œ DNS æŸ¥è¯¢ã€‚ </li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-aa98a7b647fef759.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="dns æ¨¡å—"></p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dns = <span class="built_in">require</span>(<span class="string">'dns'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> domain = <span class="string">'baidu.com'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dns.resolve()</span></span><br><span class="line">dns.resolve(domain, <span class="function"><span class="keyword">function</span>(<span class="params">err, address</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(address); <span class="comment">// [ '123.125.115.110', '220.181.57.216' ]</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// dns.lookup()</span></span><br><span class="line">dns.lookup(domain, <span class="function"><span class="keyword">function</span>(<span class="params">err, address</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(address); <span class="comment">// 123.125.115.110</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//dns.reverse()</span></span><br><span class="line">dns.reverse(<span class="string">'114.114.114.114'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, domain</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(domain); <span class="comment">// [ 'public1.114dns.com' ]</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/09/iOS å®ç° readme ç™»å½•é¡µé¢çŒ«å¤´é¹°åŠ¨ç”»/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/09/iOS å®ç° readme ç™»å½•é¡µé¢çŒ«å¤´é¹°åŠ¨ç”»/" class="post-title-link" itemprop="url">iOS å®ç° readme ç™»å½•é¡µé¢çŒ«å¤´é¹°åŠ¨ç”»</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-09 15:56:00" itemprop="dateCreated datePublished" datetime="2018-10-09T15:56:00+08:00">2018-10-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-17 13:29:58" itemprop="dateModified" datetime="2019-04-17T13:29:58+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/09/iOS å®ç° readme ç™»å½•é¡µé¢çŒ«å¤´é¹°åŠ¨ç”»/" class="leancloud_visitors" data-flag-title="iOS å®ç° readme ç™»å½•é¡µé¢çŒ«å¤´é¹°åŠ¨ç”»">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-c9d2d5d59e4db4e7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="readme.io"></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ³¨å†Œã€ç™»å½•åŠŸèƒ½æ˜¯åº”ç”¨æ ‡è¯†ç”¨æˆ·èº«ä»½ã€è®°å½•å¹¶ä¿å­˜ç”¨æˆ·æ•°æ®ã€æä¾›ä¸ªæ€§åŒ–æœåŠ¡çš„é‡è¦æ–¹æ³•ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œçœ‹åˆ°å¤æ‚çš„ç™»å½•ã€æ³¨å†Œè¡¨å•å°±å·²ç»è®©äººåŒæ¶è‡³æäº†ï¼Œè¿˜è¦å»ä¹±æˆä¸€å›¢çš„è„‘æµ·ä¸­æå–å‡ºç›¸åº”çš„è´¦å·å¯†ç ï¼Œæœ€åè¿˜è¦æ­£ç¡®æ— è¯¯åœ°åœ¨é”®ç›˜ä¸Šä¸€ä¸ªä¸€ä¸ªåœ°è¾“å…¥å­—æ¯ã€‚ã€‚ã€‚æ˜¯ä¸æ˜¯è¦ç”Ÿæ— å¯æ‹åˆ°æ²¡æœ‰è„¾æ°”äº†ï¼Œæ„Ÿè§‰äººç”Ÿå·²ç»èµ°åˆ°å´©æºƒæ‚¬å´–çš„è¾¹ç¼˜äº†å‘¢ï¼Ÿ <a href="https://dash.readme.io/login" target="_blank" rel="noopener">readme</a> åœ¨ç™»å½•å’Œæ³¨å†Œä¸­æ°åˆ°å¥½å¤„åœ°åŠ å…¥äº†åŠ¨ç”»ï¼Œè¿™ç§äººæ€§åŒ–çš„è®¾è®¡è®©äººçœ¼å‰ä¸€äº®ï¼Œå¦‚æœå°è¯•å¤šç‚¹å‡ ä¸‹è§¦å‘åŠ¨ç”»ï¼Œæ„Ÿè§‰å¯ä»¥ç©ä¸€æ•´å¤©å•Šã€‚</p>
<p>è¾“å…¥ ã€ŒEmail ã€æ—¶æ‘Šå¼€åŒæ‰‹ï¼Œè¾“å…¥ã€ŒPasswordã€æ—¶é®ä½çœ¼ç›åœ¨æ— å½¢ä¸­ä¼ è¾¾äº†ï¼š</p>
<ol>
<li>ç”¨é®çœ¼ã€ççœ¼çš„åŠ¨ç”»å·§å¦™åœ°è¡¨è¾¾äº†ï¼šã€ŒEmailã€æ˜¯æ˜æ–‡è¾“å…¥ï¼Œè€Œã€ŒPasswordã€æ˜¯å¯†æ–‡è¾“å…¥ï¼›</li>
<li>å¯†ç è¾“å…¥çš„å®‰å…¨æ€§ï¼ŒçŒ«å¤´é¹°é®ä½çœ¼ç›å¥½åƒåœ¨æç¤ºç”¨æˆ·ï¼šè¾“å…¥å¯†ç æ—¶è¦æ³¨æ„é˜²æ­¢ä»–äººå·çª¥ä»¥çªƒå–ä½ çš„è´¦å·å’Œå¯†ç ï¼Œå¦‚æœæ­¤æ—¶æœ‰å°ä¼™ä¼´åœ¨è¾¹ä¸Šï¼Œçœ‹åˆ°è¿™ä¸ªåŠ¨ç”»ï¼Œä»–ä¹Ÿåº”è¯¥æ˜ç™½ï¼šè¿™æ—¶å€™æˆ‘éœ€è¦å›é¿ä¸€ä¸‹ã€‚</li>
<li>å‘ä½¿ç”¨è€…ä¼ è¾¾ï¼šæœåŠ¡æä¾›æ–¹éå¸¸æ³¨é‡ç”¨æˆ·éšç§ï¼Œç”¨æˆ·è¾“å…¥çš„å¯†ç æœåŠ¡æä¾›æ–¹æ˜¯ä¸ä¼šéšæ„å·çœ‹çš„ï¼›</li>
<li>å¯çˆ±ã€ç®€æ´è€Œæœ‰è¶£çš„çŒ«å¤´é¹°åŠ¨ç”»å‡è½»å¹¶é™ä½äº†ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç æ—¶çš„åæ„Ÿå’Œç„¦è™‘ï¼Œä¹Ÿä¼ è¾¾äº†æœåŠ¡æä¾›æ–¹éå¸¸å…·æœ‰åˆ›æ„ï¼Œå¯¹äº§å“åŠå…¶æ³¨é‡äººæ€§åŒ–ä½“éªŒã€‚</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-7c35eaf3cb260cc3.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="readme.io.gif"></p>
<h2 id="åŠ¨ç”»åˆ†è§£"><a href="#åŠ¨ç”»åˆ†è§£" class="headerlink" title="åŠ¨ç”»åˆ†è§£"></a>åŠ¨ç”»åˆ†è§£</h2><p>å°†çŒ«å¤´é¹°åŠ¨ç”»å½•å±ï¼Œå¹¶æå–å‡ºå…³é”®å¸§å›¾ç‰‡ï¼ŒæŸ¥çœ‹æ‰‹æŒ‡çš„å˜åŒ–ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-1d298d7ce8446f42.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åˆ†è§£åŠ¨ç”»"></p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>ä¸¤æ‰‹æŠ“èµ·çš„å›¾ç‰‡ä¸ºã€æ”¾ä¸‹æ—¶çš„å·¦å³æ‰‹ã€‘</li>
<li>é®ä½çœ¼ç›çš„å›¾ç‰‡ä¸ºã€æŠ¬èµ·æ—¶çš„å·¦å³æ‰‹ã€‘</li>
</ul>
<p>è§‚å¯Ÿåˆ†è§£çš„å›¾ç‰‡ï¼Œä»æ‰“å¼€åŒæ‰‹çŠ¶æ€ -&gt; é®ä½çœ¼ç›çŠ¶æ€ï¼š</p>
<ul>
<li>ã€æ”¾ä¸‹æ—¶çš„å·¦å³æ‰‹ã€‘åˆå§‹åŒ–æ—¶ä½ç½®åˆ†åˆ«åœ¨çŒ«å¤´é¹°å¤´åƒå›¾ç‰‡å·¦å³ä¸¤ä¾§ï¼Œæ­£å¸¸å¤§å°ã€‚åŠ¨ç”»å¼€å§‹åï¼Œå‘å³å¹³ç§»çš„åŒæ—¶é€æ¸ç¼©å°ä¸º0ï¼›</li>
<li>ã€æŠ¬èµ·æ—¶çš„å·¦å³æ‰‹ã€‘åˆå§‹åŒ–æ—¶ä½ç½®åœ¨ã€æ”¾ä¸‹æ—¶çš„å·¦å³æ‰‹ã€‘å›¾ç‰‡çš„ä¸­å¿ƒç‚¹ä½ç½®ï¼Œä½†æ˜¯å¤§å°ä¸º 0ã€‚åŠ¨ç”»å¼€å§‹åï¼Œå‘å³å¹³ç§»çš„åŒæ—¶æ”¾å¤§è‡³æ­£å¸¸å¤§å°å¹¶é®ä½çœ¼ç›ï¼›</li>
<li><p>æ³¨æ„åˆ°ï¼ŒåŒæ‰‹é®ä½çœ¼ç›åï¼Œè¿˜æœ‰ä¸€å¼ ã€çœ¼ç›å›¾ç‰‡ã€‘ä¼šè¦†ç›–ä½çœ¼ç›ç™½è‰²çš„éƒ¨åˆ†ï¼Œ</p>
<p>çœ¼ç›å›¾ç‰‡å¹¶ä¸æ˜¯ç®€å•çš„è®¾ç½®éšè—/æ˜¾ç¤ºï¼š<code>self.owlEyeImgView.hidden = YES;</code> æ¥æ·»åŠ çš„ã€‚æ³¨æ„åˆ°ç¬¬å››å¼ åˆ†è§£å›¾ç‰‡ï¼ŒçŒ«å¤´é¹°çš„ç™½è‰²éƒ¨åˆ†æ˜¯æœ‰ä¸€ç‚¹ç‚¹ç°è‰²æ¸å˜çš„ï¼Œåœ¨åŠ¨ç”»ä¸­å¯ä»¥é€šè¿‡è®¾ç½® <code>alpha</code> å€¼æ¥è®¾ç½®çœ¼ç›å›¾ç‰‡ã€‚</p>
</li>
</ul>
<p>é®ä½çœ¼ç›çŠ¶æ€-&gt;æ‰“å¼€åŒæ‰‹çŠ¶æ€çš„åŠ¨ç”»åˆ™ä¸ä¸Šæ‰€è¿°ç›¸åã€‚</p>
<h2 id="å‡†å¤‡ç´ æ"><a href="#å‡†å¤‡ç´ æ" class="headerlink" title="å‡†å¤‡ç´ æ"></a>å‡†å¤‡ç´ æ</h2><p>ä» <a href="https://dash.readme.io/login" target="_blank" rel="noopener">readme</a> ç™»å½•é¡µé¢ä¸‹è½½å›¾ç‰‡ç´ æï¼š</p>
<p>Safari æµè§ˆå™¨ - å¼€å‘ - æ˜¾ç¤ºé¡µé¢èµ„æº - æ‰“å¼€å›¾åƒå¹¶ä¸‹è½½ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-fe32cca155d5b35d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/620" alt></p>
<h2 id="æ ¸å¿ƒæ–¹æ³•"><a href="#æ ¸å¿ƒæ–¹æ³•" class="headerlink" title="æ ¸å¿ƒæ–¹æ³•"></a>æ ¸å¿ƒæ–¹æ³•</h2><p>è®¾ç½®ä¸€ä¸ªæšä¸¾ç±»å‹è¡¨ç¤ºçŒ«å¤´é¹°å½“å‰çš„åŠ¨ç”»çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// çŒ«å¤´é¹°åŠ¨ç”»</span><br><span class="line">typedef NS_ENUM(NSUInteger, RMIOLoginViewOwlAnimationState) &#123;</span><br><span class="line">    RMIOLoginViewOwlAnimationStateDefaule, // é»˜è®¤åˆå§‹çŠ¶æ€</span><br><span class="line">    RMIOLoginViewOwlAnimationStateDown,    // ççœ¼çŠ¶æ€ï¼ˆè¾“å…¥ç”¨æˆ·åæ—¶ï¼‰</span><br><span class="line">    RMIOLoginViewOwlAnimationStateUp,      // é®çœ¼çŠ¶æ€ï¼ˆè¾“å…¥å¯†ç æ—¶ï¼‰</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å°†æŠ¬æ‰‹åŠ¨ç”»å’Œæ‰“å¼€åŒæ‰‹çš„ä¸¤ä¸ªåŠ¨ç”»åˆ†åˆ«å°è£…åœ¨ä¸¤ä¸ªæ–¹æ³•ä¸­ï¼Œæ–¹ä¾¿å¤ç”¨ï¼š</p>
<h3 id="æŠ¬èµ·å·¦å³æ‰‹é®çœ¼åŠ¨ç”»æ–¹æ³•"><a href="#æŠ¬èµ·å·¦å³æ‰‹é®çœ¼åŠ¨ç”»æ–¹æ³•" class="headerlink" title="æŠ¬èµ·å·¦å³æ‰‹é®çœ¼åŠ¨ç”»æ–¹æ³•"></a>æŠ¬èµ·å·¦å³æ‰‹é®çœ¼åŠ¨ç”»æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// æŠ¬èµ·å·¦å³æ‰‹åŠ¨ç”»ï¼šæ‰“å¼€åŒæ‰‹çŠ¶æ€ -&gt; é®ä½çœ¼ç›çŠ¶æ€</span><br><span class="line">- (void)armUpImageAnimation &#123;</span><br><span class="line">    </span><br><span class="line">    [UIView animateWithDuration:KOwlAnimationDuration animations:^&#123;</span><br><span class="line">        </span><br><span class="line">        // çœ¼ç›å›¾ç‰‡ alpha å€¼ä»0å˜ä¸º1</span><br><span class="line">        self.owlEyeImgView.alpha = 1;</span><br><span class="line">        </span><br><span class="line">        // ã€æ”¾ä¸‹æ—¶çš„å·¦å³æ‰‹ã€‘å‘å³å¹³ç§»å¹¶ç¼©å°åˆ°0</span><br><span class="line">        CGRect armDownLeftRect = CGRectMake(_faceRect.origin.x +29, 148, 0, 0);</span><br><span class="line">        self.armDownLeftImgView.frame = armDownLeftRect;</span><br><span class="line">        CGRect armDownRightRect = CGRectMake(CGRectGetMaxX(_faceRect) - 29, 148, 0, 0);</span><br><span class="line">        self.armDownRightImgView.frame = armDownRightRect;</span><br><span class="line">        </span><br><span class="line">        // æŠ¬èµ·æ—¶çš„å·¦å³æ‰‹ã€‘å‘å³å¹³ç§»å¹¶æ”¾å¤§</span><br><span class="line">        CGRect armUpLeftRect = CGRectMake(_faceRect.origin.x - 6, 108, 51, 42);</span><br><span class="line">        self.armUpLeftImgView.frame = armUpLeftRect;</span><br><span class="line">        CGRect armUpRightRect = CGRectMake(_faceRect.origin.x + 60, 107, 51, 43);</span><br><span class="line">        self.armUpRightImgView.frame = armUpRightRect;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ”¾ä¸‹å·¦å³æ‰‹ççœ¼åŠ¨ç”»æ–¹æ³•"><a href="#æ”¾ä¸‹å·¦å³æ‰‹ççœ¼åŠ¨ç”»æ–¹æ³•" class="headerlink" title="æ”¾ä¸‹å·¦å³æ‰‹ççœ¼åŠ¨ç”»æ–¹æ³•"></a>æ”¾ä¸‹å·¦å³æ‰‹ççœ¼åŠ¨ç”»æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// æ”¾ä¸‹å·¦å³æ‰‹åŠ¨ç”»ï¼šé®ä½çœ¼ç›çŠ¶æ€-&gt;æ‰“å¼€åŒæ‰‹çŠ¶æ€</span><br><span class="line">- (void)armDownImageAnimation &#123;</span><br><span class="line">    [UIView animateWithDuration:KOwlAnimationDuration animations:^&#123;</span><br><span class="line">        </span><br><span class="line">        // çœ¼ç›å›¾ç‰‡ alpha å€¼ä»1å˜ä¸º0</span><br><span class="line">        self.owlEyeImgView.alpha = 0;</span><br><span class="line">        </span><br><span class="line">        // ã€æ”¾ä¸‹æ—¶çš„å·¦å³æ‰‹ã€‘å‘å·¦å¹³ç§»è¿˜åŸ</span><br><span class="line">        CGRect armDownLeftRect = CGRectMake(_faceRect.origin.x - 36, 134, 43, 25);</span><br><span class="line">        self.armDownLeftImgView.frame = armDownLeftRect;</span><br><span class="line">        CGRect armDownRightRect = CGRectMake(CGRectGetMaxX(_faceRect), 134, 43, 26);</span><br><span class="line">        self.armDownRightImgView.frame = armDownRightRect;</span><br><span class="line">        </span><br><span class="line">        // æŠ¬èµ·æ—¶çš„å·¦å³æ‰‹ã€‘å‘å·¦å¹³ç§»å¹¶ç¼©å°åˆ°0</span><br><span class="line">        CGRect armUpLeftRect = CGRectMake(_faceRect.origin.x - 15, 150, 0, 0);</span><br><span class="line">        self.armUpLeftImgView.frame = armUpLeftRect;</span><br><span class="line">        CGRect armUpRightRect = CGRectMake(CGRectGetMaxX(_faceRect) + 15, 150, 0, 0);</span><br><span class="line">        self.armUpRightImgView.frame = armUpRightRect;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦å®ç° <code>UITextFieldDelegate</code> éƒ¨åˆ†åè®®ä»¥è°ƒç”¨åŠ¨ç”»æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - UITextFieldDelegate</span><br><span class="line"></span><br><span class="line">// å¼€å§‹ç¼–è¾‘</span><br><span class="line">- (void)textFieldDidBeginEditing:(UITextField *)textField &#123;</span><br><span class="line">    // 1.å¼€å§‹è¾“å…¥ç”¨æˆ·å</span><br><span class="line">    if (textField.tag == KUsernameTextFieldTag) &#123;</span><br><span class="line">        switch (self.owlAnimationState) &#123;</span><br><span class="line">            case RMIOLoginViewOwlAnimationStateDefaule: &#123;</span><br><span class="line">                self.owlAnimationState = RMIOLoginViewOwlAnimationStateDown;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            case RMIOLoginViewOwlAnimationStateDown: &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            case RMIOLoginViewOwlAnimationStateUp: &#123;</span><br><span class="line">                self.owlAnimationState = RMIOLoginViewOwlAnimationStateDown;</span><br><span class="line">                [self armDownImageAnimation];</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // 2.å¼€å§‹è¾“å…¥å¯†ç </span><br><span class="line">    if (textField.tag == KPasswordTextFieldTag) &#123;</span><br><span class="line">        switch (self.owlAnimationState) &#123;</span><br><span class="line">            case RMIOLoginViewOwlAnimationStateDefaule:</span><br><span class="line">            case RMIOLoginViewOwlAnimationStateDown: &#123;</span><br><span class="line">                self.owlAnimationState = RMIOLoginViewOwlAnimationStateUp;</span><br><span class="line">                [self armUpImageAnimation];</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            case RMIOLoginViewOwlAnimationStateUp: &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> ç»“æŸç¼–è¾‘</span><br><span class="line"> æ¯å½“å¯†ç è¾“å…¥ç»“æŸç¼–è¾‘æ—¶ï¼Œéœ€è¦æ‰“å¼€åŒæ‰‹ã€‚</span><br><span class="line"> é®ä½çœ¼ç›-&gt;æ‰“å¼€åŒæ‰‹ï¼š</span><br><span class="line"> * å¯†ç è¾“å…¥æ—¶ï¼Œè¿”å›åˆ°è´¦å·è¾“å…¥ï¼Œæ‰“å¼€åŒæ‰‹ã€‚</span><br><span class="line"> * å¯†ç è¾“å…¥æ—¶ï¼Œç‚¹å‡»ç©ºç™½éƒ¨åˆ†æˆ–ç‚¹å‡»ç™»å½•ï¼Œæ‰“å¼€åŒæ‰‹ã€‚</span><br><span class="line"> </span><br><span class="line"> */</span><br><span class="line">- (void)textFieldDidEndEditing:(UITextField *)textField &#123;</span><br><span class="line">    if (textField.tag == KPasswordTextFieldTag) &#123;</span><br><span class="line">        if (self.owlAnimationState == RMIOLoginViewOwlAnimationStateUp) &#123;</span><br><span class="line">            self.owlAnimationState = RMIOLoginViewOwlAnimationStateDown;</span><br><span class="line">            [self armDownImageAnimation];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç”¨æˆ·ç‚¹å‡»é”®ç›˜&quot;Return&quot;æŒ‰é’®</span><br><span class="line">- (BOOL)textFieldShouldReturn:(UITextField *)textField &#123;</span><br><span class="line">    [self endEditing:YES];</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>çœ‹çœ‹å®ç°æ•ˆæœå¦‚ä½•ï¼š</p>
<p>bingoï¼I Do Itï¼ğŸ‰ğŸ‰ğŸ‰<br><img src="http://upload-images.jianshu.io/upload_images/2648731-5c5d508dbd65c50e.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="iOS å®ç°æ•ˆæœå›¾.gif"></p>
<p>æ”¾æ…¢10å€é€Ÿåº¦çœ‹çœ‹ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-7dfa38b266131bbe.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ”¾æ…¢åŠ¨ç”».gif"></p>
<p>æºç å·²ä¸Šä¼  <a href="https://github.com/Andy0570/ReadMeLoginDemo" target="_blank" rel="noopener">GitHub</a></p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><blockquote>
<p>å›å­æ€§éå¼‚ä¹Ÿï¼Œå–„å‡äºç‰©ä¹Ÿâ€”â€”è€å­</p>
</blockquote>
<p> å‚è€ƒäº†å„ä½å¤§ä½¬çš„Demoæºç ï¼Œè¿˜æœ‰å„ç§èµ„æ–™ï¼š</p>
<ul>
<li><a href="https://github.com/JxbSir/JxbLovelyLogin" target="_blank" rel="noopener">JxbLovelyLogin</a></li>
<li><a href="https://www.jianshu.com/p/2e2426e861d6" target="_blank" rel="noopener">èŒè´§çŒ«å¤´é¹°ç™»å½•ç•Œé¢åŠ¨ç”»iOSå®ç°åˆ†æ</a></li>
<li><a href="https://www.jianshu.com/p/ca7f9bc62429" target="_blank" rel="noopener">iOSå½¢å˜ä¹‹CGAffineTransform @èšŠé¦™é…±</a></li>
<li><a href="https://www.jianshu.com/p/f8a3400836b5" target="_blank" rel="noopener">iOS å¸¸ç”¨ç»„ä»¶-é«˜æ•ˆåˆ‡åœ†è§’æ–¹æ³•æ€»ç»“</a></li>
<li><p><a href="https://github.com/Zws-China/WSLoginView" target="_blank" rel="noopener">WSLoginView</a> â­ï¸</p>
<blockquote>
<p>è¿™ä¸ª Demo å¯ä»¥ç ”ç©¶ç ”ç©¶ï¼Œæœ¬æ–‡çš„åŠ¨ç”»é€»è¾‘ä¹Ÿå¤§éƒ½å‚è€ƒè¿™ä¸ªã€‚ä½†ä»”ç»†è§‚å¯Ÿä½ ä¼šå‘ç°å› ä¸ºå®ƒç”¨çš„å›¾ç‰‡ä¸è§†å›¾å±‚æ¬¡ç»“æ„å†²çªçš„åŸå› ï¼ŒçŒ«å¤´é¹°çš„é¼»å°–æ²¡æœ‰åŠæ³•éœ²å‡ºæ¥ï¼ˆå·¦å³ä¸¤è¾¹çš„å°æ‰‹æœ¬æ¥ä¹Ÿæ²¡æœ‰éœ²å‡ºæ¥ï¼‰ï¼Œæˆ‘æƒ³äº†è®¸ä¹…ï¼Œæœ€åä½¿ç”¨ Sketch ç”»äº†ä¸€ä¸ªé¼»å­è´´åœ¨ä¸Šé¢ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-a83e3aa24c83eeb1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="WSLoginView
"><br>ç”»ä¸€ä¸ªé¼»å­ç»™ä½ ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2648731-46943cb151cda0ed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="owl-mouth@2x.png"></p>
</blockquote>
</li>
</ul>
<h4 id="å…³äºåƒç´ å¯¹é½"><a href="#å…³äºåƒç´ å¯¹é½" class="headerlink" title="å…³äºåƒç´ å¯¹é½"></a>å…³äºåƒç´ å¯¹é½</h4><p>æˆ‘åœ¨è®¾ç½®çŒ«å¤´é¹°å›¾ç‰‡ Frame æ—¶çš„æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">self.faceRect = CGRectMake(CGFloatPixelRound((kScreenWidth - 116) / 2), 69, 116, 92); //ç¬¬ 203 è¡Œ</span><br><span class="line"></span><br><span class="line">// ã€åŸå› è§£æã€‘</span><br><span class="line">// åœ¨ iPhone 7 ï¼ˆå°ºå¯¸ä¸º 375*667ï¼‰ä¸Šçš„å€¼ä¸ºï¼š(129.5,69,116,92)ï¼Œå› ä¸º Scale = 2ï¼Œæ‰€ä»¥å®é™…åƒç´ å€¼ä¸ºï¼ˆ259ï¼Œ138ï¼Œ232ï¼Œ184ï¼‰ï¼Œåƒç´ å¯¹é½</span><br><span class="line">// åœ¨ iPhone X (å°ºå¯¸ä¸º 375*812)ä¸Šçš„å€¼ä¸º(129.666667,69.000000,116.000000,92.000000),å› ä¸º Scale = 3 ï¼Œæ‰€ä»¥å®é™…åƒç´ å€¼ä¸º ï¼ˆ389ï¼Œ207ï¼Œ348ï¼Œ276ï¼‰ï¼Œåƒç´ å¯¹é½</span><br><span class="line"></span><br><span class="line">//-------------------------</span><br><span class="line">// å¦‚æœä¸ä½¿ç”¨åƒç´ å¯¹é½å‡½æ•°ï¼Œé‚£ä¹ˆ</span><br><span class="line">// åœ¨ iPhone 7 ä¸Šçš„å€¼ä¸º(129.5,69,116,92)ï¼Œå®é™…åƒç´ å€¼ä¸ºï¼šï¼ˆ259ï¼Œ138ï¼Œ232ï¼Œ184ï¼‰ï¼Œåƒç´ å¯¹é½</span><br><span class="line">// åœ¨ iPhone X ä¸Šçš„å€¼ä¸º(129.5,69,116,92)ï¼Œå®é™…åƒç´ å€¼ä¸ºï¼šï¼ˆ388.5ï¼Œ207ï¼Œ348ï¼Œ276ï¼‰ï¼Œåƒç´ æ²¡æœ‰å¯¹é½âš ï¸</span><br><span class="line"></span><br><span class="line">// ã€æ€»ç»“ã€‘</span><br><span class="line">// è®¾ç½® CGRect å€¼çš„æ—¶å€™å°½é‡å°å¿ƒï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ ç”¨åˆ°äº†é™¤æ³•ï¼ˆå¦‚ KScreenSize / 5ï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœ€ç»ˆå–å‡ºæ¥çš„å€¼ä¸æ˜¯æ•´æ•°ï¼Œ</span><br><span class="line">// å°±ä¼šé€ æˆåƒç´ ä¸å¯¹é½ï¼Œå°±ä¼šå¢åŠ  CPU/GPU çš„æ¶ˆè€—ï¼Œä¼šå½±å“æ€§èƒ½æˆ–è€…è¯´é¡µé¢ä¸ä¼šä»¥ 60 FPS è¿›è¡Œæ¸²æŸ“ï¼Œé€ æˆé¡µé¢å¡é¡¿ã€‚</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æœ‰ä¸€ä¸ª <code>CGFloatPixelRound()</code> å‡½æ•°å¯ä»¥è®¾ç½®åƒç´ å¯¹é½å€¼ï¼ˆCGFloatï¼‰ï¼Œæ¥è‡ªäº <a href="https://github.com/ibireme/YYKit" target="_blank" rel="noopener">YYKit</a> æ¡†æ¶çš„ <strong>YYCGUtilities.h</strong> ç±»ä¸­ï¼Œé‡Œé¢è¿˜æœ‰å…¶ä»–åƒè®¾ç½®åƒç´ å¯¹é½ç‚¹ï¼ˆCGPointï¼‰ã€åƒç´ å¯¹é½å¤§å°ï¼ˆCGSizeï¼‰ã€åƒç´ å¯¹é½çŸ©å½¢ï¼ˆCGRectï¼‰ç­‰æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// åƒç´ å¯¹é½å€¼</span><br><span class="line">CGFloatPixelFloor(CGFloat value)</span><br><span class="line">CGFloatPixelRound(CGFloat value)</span><br><span class="line">CGFloatPixelCeil(CGFloat value)</span><br><span class="line">CGFloatPixelHalf(CGFloat value)</span><br><span class="line"></span><br><span class="line">// åƒç´ å¯¹é½ç‚¹</span><br><span class="line">CGPointPixelFloor(CGPoint point)</span><br><span class="line">CGPointPixelRound(CGPoint point)</span><br><span class="line">CGPointPixelCeil(CGPoint point)</span><br><span class="line">CGPointPixelHalf(CGPoint point)</span><br><span class="line"></span><br><span class="line">// åƒç´ å¯¹é½å¤§å°</span><br><span class="line">CGSizePixelFloor(CGSize size)</span><br><span class="line">CGSizePixelRound(CGSize size)</span><br><span class="line">CGSizePixelCeil(CGSize size)</span><br><span class="line">CGSizePixelHalf(CGSize size)</span><br><span class="line"></span><br><span class="line">// åƒç´ å¯¹é½çŸ©å½¢</span><br><span class="line">CGRectPixelFloor(CGRect rect)</span><br><span class="line">CGRectPixelRound(CGRect rect)</span><br><span class="line">CGRectPixelCeil(CGRect rect)</span><br><span class="line">CGRectPixelHalf(CGRect rect)</span><br><span class="line"></span><br><span class="line">// åƒç´ å¯¹é½è¾¹ç¼˜æ’å…¥é‡</span><br><span class="line">UIEdgeInsetPixelFloor(UIEdgeInsets insets)</span><br><span class="line">UIEdgeInsetPixelCeil(UIEdgeInsets insets)</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­åº•å±‚è°ƒç”¨çš„ Floor()ã€Round()ã€Ceil() åˆ†åˆ«æ˜¯æ•°å­¦å‡½æ•°ï¼š</p>
<ul>
<li>floor()  å–ä¸å¤§äºä¼ å…¥å€¼çš„æœ€å¤§æ•´æ•°</li>
<li>round()  å››èˆäº”å…¥</li>
<li>ceil()   è¿”å›å¤§äºæˆ–è€…ç­‰äºæŒ‡å®šè¡¨è¾¾å¼çš„æœ€å°æ•´æ•°</li>
</ul>
<p>ç¤ºä¾‹:</p>
<blockquote>
<p> scale = 2.000000  æ—¶ï¼š</p>
<pre><code>&quot;CGFloatPixelCeil(2.1)&quot; = 5;
&quot;CGFloatPixelCeil(2.25)&quot; = 5;
&quot;CGFloatPixelCeil(2.45)&quot; = 5;
&quot;CGFloatPixelFloor(2.1)&quot; = 4;
&quot;CGFloatPixelFloor(2.25)&quot; = 4;
&quot;CGFloatPixelFloor(2.45)&quot; = 4;
&quot;CGFloatPixelHalf(2.1)&quot; = &quot;4.5&quot;;
&quot;CGFloatPixelHalf(2.25)&quot; = &quot;4.5&quot;;
&quot;CGFloatPixelHalf(2.45)&quot; = &quot;4.5&quot;;
&quot;CGFloatPixelRound(2.1)&quot; = 4;
&quot;CGFloatPixelRound(2.25)&quot; = 5;
&quot;CGFloatPixelRound(2.45)&quot; = 5;
</code></pre></blockquote>
<h3 id="æœ€åçš„è¯"><a href="#æœ€åçš„è¯" class="headerlink" title="æœ€åçš„è¯"></a>æœ€åçš„è¯</h3><blockquote>
<p>å…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆï¼Œå†™ä»£ç å¯èƒ½æ˜¯ä¸€ä»¶æ¯ç‡¥çš„äº‹ã€‚çœ‹åˆ°è¿™ä¸ªåŠ¨ç”»çš„ç¬¬ä¸€çœ¼å°±æ˜¯ï¼šå“‡ï¼å¥½é…·ï¼å¦‚æœåœ¨ iOS ä¸Šå®ç°è¿™ä¸ªåŠ¨ç”»åº”è¯¥ä¼šå¾ˆå¥½ç©å§ï¼</p>
<p>æ‰€ä»¥åšè¿™ä¸ªDemoçš„æ—¶å€™å¯ä»¥ä¸€ç›´ç›¯ç€ç”µè„‘ç ”ç©¶æ£é¼“å¥½ä¹…ï¼Œå°±è¿åƒé¥­ã€èµ°è·¯çš„æ—¶å€™ä¹Ÿä¼šæƒ³ç€åˆå§‹åŒ–æ—¶å„ä¸ªå›¾ç‰‡åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿå¦‚ä½•æ­£ç¡®è·å–åŠè°ƒæ•´å›¾ç‰‡çš„ä½ç½®å‘¢ï¼Ÿåº”è¯¥æ˜¯ä»€ä¹ˆçŠ¶æ€çš„ï¼ŸåŠ¨ç”»çš„è·¯å¾„æ˜¯å¦‚ä½•è¿›è¡Œçš„å‘¢ï¼Ÿè§¦æ‘¸ç‚¹å‡»äº‹ä»¶çš„é€»è¾‘æ˜¯æ€æ ·çš„å‘¢ï¼Ÿæ‰€ä»¥å®ç°èµ·æ¥ä¸€ç‚¹ä¹Ÿä¸è´¹åŠ›ï¼Œåšå®Œè¿˜ä¼šæœ‰æ»¡æ»¡çš„æˆå°±æ„Ÿã€‚ã€‚ã€‚</p>
<p>Soï¼Œæ„¿æ°¸è¿œå¹´è½»ï¼Œæ°¸è¿œçƒ­æ³ªç›ˆçœ¶ã€‚</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/09/Node.js å¸¸ç”¨å‘½ä»¤/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/09/Node.js å¸¸ç”¨å‘½ä»¤/" class="post-title-link" itemprop="url">Node.js å¸¸ç”¨å‘½ä»¤</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-09 02:07:00" itemprop="dateCreated datePublished" datetime="2018-10-09T02:07:00+08:00">2018-10-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-23 13:36:10" itemprop="dateModified" datetime="2019-04-23T13:36:10+08:00">2019-04-23</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node-js/" itemprop="url" rel="index"><span itemprop="name">Node.js</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/09/Node.js å¸¸ç”¨å‘½ä»¤/" class="leancloud_visitors" data-flag-title="Node.js å¸¸ç”¨å‘½ä»¤">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="Node-js-å®‰è£…"><a href="#Node-js-å®‰è£…" class="headerlink" title="Node.js å®‰è£…"></a>Node.js å®‰è£…</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£… node.js v10.12.0</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> wget -qO- https://deb.nodesource.com/setup_10.x | sudo -E bash -</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install -y nodejs</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¦ä» npm ç¼–è¯‘å’Œå®‰è£…åŸç”Ÿæ’ä»¶ï¼Œæ‚¨å¯èƒ½è¿˜éœ€è¦å®‰è£…æ„å»ºå·¥å…·</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install -y build-essential </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ£€æŸ¥å½“å‰ node.js ç‰ˆæœ¬</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> node -v      </span></span><br><span class="line">v11.14.0</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ£€æŸ¥å½“å‰ npm ç‰ˆæœ¬</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm -v</span></span><br><span class="line">6.9.0</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get upgrade nodejs    <span class="comment">## æ›´æ–° node.js</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get remove nodejs     <span class="comment">## å¸è½½ node.js</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ›´æ–° npm</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm i -g npm</span></span><br></pre></td></tr></table></figure>
<p>å‚è€ƒï¼š<a href="https://nodejs.org/zh-cn/download/package-manager/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£ï¼šé€šè¿‡åŒ…ç®¡ç†å™¨æ–¹å¼å®‰è£… Nodejs</a></p>
<h1 id="Node-js-ç‰ˆæœ¬å‡çº§"><a href="#Node-js-ç‰ˆæœ¬å‡çº§" class="headerlink" title="Node.js ç‰ˆæœ¬å‡çº§"></a>Node.js ç‰ˆæœ¬å‡çº§</h1><p>npm ä¸Šæœ‰ä¸€ä¸ªå¼€æºåŒ…å« <a href="https://github.com/tj/n" target="_blank" rel="noopener">n</a>ï¼Œæ˜¯ä¸“é—¨ç”¨æ¥ç®¡ç† node.js ç‰ˆæœ¬çš„ã€‚</p>
<ol>
<li><p>å®‰è£… n æ¨¡å—ï¼ˆ-g è¡¨ç¤ºå…¨å±€ç¯å¢ƒä¸‹å®‰è£…ï¼‰ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g n</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡çº§ node åˆ°æœ€æ–°ç¨³å®šç‰ˆæœ¬ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo n stable</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½ ä¹Ÿå¯ä»¥æŒ‡å®š node ç‰ˆæœ¬</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> n v10.11.0</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> n 10.11.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ£€æŸ¥å½“å‰ node ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> node -v <span class="comment"># æŸ¥çœ‹ node ç‰ˆæœ¬</span></span></span><br><span class="line">v11.14.0</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm -v <span class="comment"># æ˜¾ç¤ºç‰ˆæœ¬ï¼Œæ£€æŸ¥ npm æ˜¯å¦æ­£ç¡®å®‰è£…</span></span></span><br><span class="line">6.9.0</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm version <span class="comment"># æ˜¾ç¤ºå®Œæ•´ä¿¡æ¯</span></span></span><br><span class="line"> &#123; npm: '6.4.1',</span><br><span class="line"> ares: '1.14.0',</span><br><span class="line"> cldr: '33.1',</span><br><span class="line"> http_parser: '2.8.0',</span><br><span class="line"> icu: '62.1',</span><br><span class="line"> modules: '64',</span><br><span class="line"> napi: '3',</span><br><span class="line"> nghttp2: '1.33.0',</span><br><span class="line"> node: '10.10.0',</span><br><span class="line"> openssl: '1.1.0i',</span><br><span class="line"> tz: '2018e',</span><br><span class="line"> unicode: '11.0',</span><br><span class="line"> uv: '1.23.0',</span><br><span class="line"> v8: '6.8.275.30-node.24',</span><br><span class="line"> zlib: '1.2.11' &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="NPM-çš„å¸¸ç”¨å‘½ä»¤"><a href="#NPM-çš„å¸¸ç”¨å‘½ä»¤" class="headerlink" title="NPM çš„å¸¸ç”¨å‘½ä»¤"></a>NPM çš„å¸¸ç”¨å‘½ä»¤</h1><p>npm æ˜¯ Node.js é»˜è®¤çš„åŒ…ç®¡ç†å™¨ï¼Œé€šè¿‡ npm å‘½ä»¤å¯ä»¥ä¸‹è½½å¹¶ç®¡ç†ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆåŒ…ï¼‰ã€‚</p>
<h2 id="æŸ¥çœ‹å¸®åŠ©"><a href="#æŸ¥çœ‹å¸®åŠ©" class="headerlink" title="æŸ¥çœ‹å¸®åŠ©"></a>æŸ¥çœ‹å¸®åŠ©</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm help æˆ– npm h</span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…æ¨¡å—"><a href="#å®‰è£…æ¨¡å—" class="headerlink" title="å®‰è£…æ¨¡å—"></a>å®‰è£…æ¨¡å—</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">npm install &lt;Module Name&gt;</span><br><span class="line">npm i &lt;Module Name&gt; # ç®€å†™</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®å¥½ package.json æ–‡ä»¶åï¼Œæ‰¹é‡å®‰è£…æ‰€æœ‰æ¨¡å—</span></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> â­ï¸â­ï¸â­ï¸ æ¨èå®‰è£…åŒ…æ—¶ï¼Œæ·»åŠ  --save å‘½ä»¤</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åŒæ—¶å°†å®‰è£…åŒ…ä¿¡æ¯è®°å½•åˆ° package.json çš„ dependencies å­—æ®µï¼ˆè‡ªåŠ¨æ›´æ–° package.json æ–‡ä»¶ï¼‰</span></span><br><span class="line">npm i --save &lt;Module Name&gt; </span><br><span class="line">npm i -S &lt;Module Name&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼€å‘é˜¶æ®µï¼Œè®°å½•åˆ° package.json çš„ devDependencies å­—æ®µ</span></span><br><span class="line">npm i --save -dev &lt;Module Name&gt; </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¤ºä¾‹ï¼š</span></span><br><span class="line">npm install express    # å®‰è£… express æ¨¡å—</span><br><span class="line">npm i uuid             # å®‰è£… uuid æ¨¡å—</span><br><span class="line">npm i moment           # å®‰è£… moment æ¨¡å—ï¼ˆæ—¶é—´å¤„ç†æ¨¡å—ï¼‰</span><br><span class="line">npm i node-forge       # å®‰è£… node-forge æ¨¡å—ï¼ˆTLSï¼‰</span><br><span class="line">npm i mocha            # å®‰è£… mocha æ¨¡å—ï¼ˆæµ‹è¯•æ¡†æ¶ï¼‰</span><br><span class="line">npm i body-parser --save # å®‰è£…æ¶ˆæ¯ä½“è§£ææ¨¡å—</span><br><span class="line">npm i sqlite3 --save     # å®‰è£… sqlite3 è¿›ç¨‹å†…æ•°æ®åº“</span><br><span class="line">npm i node-readability --save # å®‰è£… HTML é¡µé¢è½¬åŒ–æ¨¡å—</span><br><span class="line">npm i ejs --save        # å®‰è£…æ¸²æŸ“æ¨¡ç‰ˆå¼•æ“</span><br><span class="line">npm i http-errors --save  # Create HTTP errors for Express, Koa, Connect, etc. with ease.</span><br></pre></td></tr></table></figure>
<h3 id="æŒ‡å®šå®‰è£…ç‰ˆæœ¬"><a href="#æŒ‡å®šå®‰è£…ç‰ˆæœ¬" class="headerlink" title="æŒ‡å®šå®‰è£…ç‰ˆæœ¬"></a>æŒ‡å®šå®‰è£…ç‰ˆæœ¬</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ ¼å¼</span></span><br><span class="line">npm install åŒ…å@ç‰ˆæœ¬å·</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¤ºä¾‹</span></span><br><span class="line">npm install jqurey@1.8.2</span><br></pre></td></tr></table></figure>
<h3 id="åœ¨å…¨å±€ç¯å¢ƒä¸­å®‰è£…æ¨¡å—ï¼ˆ-gï¼šå¯ç”¨-global-æ¨¡å¼ï¼‰"><a href="#åœ¨å…¨å±€ç¯å¢ƒä¸­å®‰è£…æ¨¡å—ï¼ˆ-gï¼šå¯ç”¨-global-æ¨¡å¼ï¼‰" class="headerlink" title="åœ¨å…¨å±€ç¯å¢ƒä¸­å®‰è£…æ¨¡å—ï¼ˆ-gï¼šå¯ç”¨ global æ¨¡å¼ï¼‰"></a>åœ¨å…¨å±€ç¯å¢ƒä¸­å®‰è£…æ¨¡å—ï¼ˆ-gï¼šå¯ç”¨ global æ¨¡å¼ï¼‰</h3><blockquote>
<p>âš ï¸ </p>
<ul>
<li>å…¨å±€æ¨¡å¼å¹¶ä¸æ˜¯å°†ä¸€ä¸ªæ¨¡å—åŒ…å®‰è£…ä¸ºä¸€ä¸ªå…¨å±€åŒ…çš„æ„æ€ï¼Œå®ƒå¹¶ä¸æ„å‘³ç€å¯ä»¥ä»ä»»ä½•åœ°æ–¹é€šè¿‡ <code>require()</code> æ–¹æ³•å¼•ç”¨åˆ°å®ƒã€‚</li>
<li><code>-g</code> æ˜¯å°†ä¸€ä¸ªåŒ…å®‰è£…ä¸º<strong>å…¨å±€å¯ç”¨çš„å¯æ‰§è¡Œå‘½ä»¤</strong>ã€‚</li>
<li>å¦‚æœåŒ…ä¸­å«æœ‰å‘½ä»¤è¡Œå·¥å…·ï¼Œé‚£ä¹ˆéœ€è¦æ‰§è¡Œå…¨å±€å®‰è£…ã€‚</li>
<li>è¦å…¨å±€å®‰è£…çš„åŒ…ä¸€èˆ¬æ˜¯å·¥å…·ï¼Œå³ä½ è¦åœ¨å‘½ä»¤è¡Œé‡Œè¿è¡Œçš„ç¨‹åºï¼Œæ¯”å¦‚ gulp-cli åŒ…ã€‚</li>
</ul>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">npm install -g &lt;Module Name&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…¨å±€å®‰è£… express</span></span><br><span class="line">npm install -g express</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨è„šæ‰‹æ¶å¿«é€Ÿåˆå§‹åŒ– Egg.js é¡¹ç›®</span></span><br><span class="line">npm i egg-init -g</span><br><span class="line">egg-init egg-example --type=simple</span><br><span class="line">cd egg-example</span><br><span class="line">npm i</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…¨å±€å®‰è£… Express ç”Ÿæˆå™¨</span></span><br><span class="line">sudo -s npm install -g express-generator</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨ Express ç”Ÿæˆå™¨åˆ›å»ºåº”ç”¨ï¼ˆoauthï¼‰</span></span><br><span class="line">express oauth</span><br><span class="line">cd oauth</span><br><span class="line">npm install</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>
<h2 id="å¸è½½æ¨¡å—"><a href="#å¸è½½æ¨¡å—" class="headerlink" title="å¸è½½æ¨¡å—"></a>å¸è½½æ¨¡å—</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ uninstall ç”¨æ³•</span></span><br><span class="line">npm uninstall -h  </span><br><span class="line">npm uninstall [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]... [--save-prod|--save-dev|--save-optional] [--no-save]</span><br><span class="line"></span><br><span class="line">aliases: un, unlink, remove, rm, r</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line">npm uninstall &lt;Module Name&gt;</span><br><span class="line"></span><br><span class="line">npm uninstall express    # åˆ é™¤æŒ‡å®šçš„æ¨¡å—</span><br><span class="line">npm uninstall -g express # å…¨å±€å¸è½½ express</span><br><span class="line">npm un md5               # ç§»é™¤ md5 æ¨¡å—</span><br><span class="line">npm un node-rsa          # ç§»é™¤ node-rsa æ¨¡å—</span><br></pre></td></tr></table></figure>
<h2 id="æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹å®‰è£…çš„æ¨¡å—"><a href="#æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹å®‰è£…çš„æ¨¡å—" class="headerlink" title="æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹å®‰è£…çš„æ¨¡å—"></a>æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹å®‰è£…çš„æ¨¡å—</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm list</span><br><span class="line">npm ls # åˆ†æåŒ…ï¼Œåˆ†æå‡ºå½“å‰è·¯å¾„ä¸‹èƒ½å¤Ÿé€šè¿‡æ¨¡å—è·¯å¾„æ‰¾åˆ°çš„æ‰€æœ‰åŒ…ï¼Œå¹¶ç”Ÿæˆä¾èµ–æ ‘ã€‚</span><br><span class="line"></span><br><span class="line">npm list -g</span><br></pre></td></tr></table></figure>
<h2 id="æ˜¾ç¤ºæ¨¡å—è¯¦æƒ…"><a href="#æ˜¾ç¤ºæ¨¡å—è¯¦æƒ…" class="headerlink" title="æ˜¾ç¤ºæ¨¡å—è¯¦æƒ…"></a>æ˜¾ç¤ºæ¨¡å—è¯¦æƒ…</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm show &lt;Module Name&gt;</span><br><span class="line"></span><br><span class="line">npm show express</span><br></pre></td></tr></table></figure>
<h2 id="å‡çº§æ¨¡å—"><a href="#å‡çº§æ¨¡å—" class="headerlink" title="å‡çº§æ¨¡å—"></a>å‡çº§æ¨¡å—</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm update        # å‡çº§å½“å‰ç›®å½•ä¸‹çš„é¡¹ç›®çš„æ‰€æœ‰æ¨¡å—</span><br><span class="line">npm update express     # å‡çº§å½“å‰ç›®å½•ä¸‹çš„é¡¹ç›®çš„æŒ‡å®šæ¨¡å—</span><br><span class="line">npm update -g express  # å‡çº§å…¨å±€å®‰è£…çš„expressæ¨¡å—</span><br></pre></td></tr></table></figure>
<h2 id="åˆå§‹åŒ–ç”ŸæˆåŒ…æè¿°æ–‡ä»¶ï¼ˆpackage-json-æ–‡ä»¶ï¼‰"><a href="#åˆå§‹åŒ–ç”ŸæˆåŒ…æè¿°æ–‡ä»¶ï¼ˆpackage-json-æ–‡ä»¶ï¼‰" class="headerlink" title="åˆå§‹åŒ–ç”ŸæˆåŒ…æè¿°æ–‡ä»¶ï¼ˆpackage.json æ–‡ä»¶ï¼‰"></a>åˆå§‹åŒ–ç”ŸæˆåŒ…æè¿°æ–‡ä»¶ï¼ˆpackage.json æ–‡ä»¶ï¼‰</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ Node é¡¹ç›®çš„æ­¥éª¤ï¼šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åè¿è¡Œ <code>npm init</code> æ¥åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ï¼š</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir example-project</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> example-project</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm init</span></span><br><span class="line">This utility will walk you through creating a package.json file.</span><br><span class="line">It only covers the most common items, and tries to guess sensible defaults.</span><br><span class="line"></span><br><span class="line">package name: (node)</span><br><span class="line">version: (1.0.0)</span><br><span class="line">description:</span><br><span class="line">entry point: (testCrypto.js)</span><br><span class="line">test command:</span><br><span class="line">git repository:</span><br><span class="line">keywords: arlingbc</span><br><span class="line">author:</span><br><span class="line">license: (ISC)</span><br></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å€¼åˆ›å»º package.json æ–‡ä»¶ï¼š<code>npm init -y</code></p>
<p>package.json éƒ¨åˆ†ç‰‡æ®µç¤ºä¾‹ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># dependencies é…ç½®å½“å‰ç¨‹åºæ‰€ä¾èµ–çš„å…¶ä»–åŒ…</span><br><span class="line"># dependencies æ˜¯é¡¹ç›®è¿è¡Œæ‰€ä¾èµ–çš„æ¨¡å—</span><br><span class="line">"dependencies": &#123;</span><br><span class="line">  "async": "^2.6.2",</span><br><span class="line">  "bcrypt": "^3.0.6",</span><br><span class="line">  "egg": "^2.21.1",</span><br><span class="line">  "egg-scripts": "^2.11.0",</span><br><span class="line">  "egg-view-nunjucks": "^2.2.0",</span><br><span class="line">  "moment": "^2.24.0",</span><br><span class="line">  "node-forge": "^0.8.2",</span><br><span class="line">  "scrypt": "^6.0.3",</span><br><span class="line">  "uuid": "^3.3.2"</span><br><span class="line">&#125;,</span><br><span class="line"># devDependencies é…ç½®å½“å‰ç¨‹åºæ‰€ä¾èµ–çš„å…¶ä»–åŒ…ï¼Œåªä¼šä¸‹è½½æ¨¡å—ï¼Œè€Œä¸ä¸‹è½½è¿™äº›æ¨¡å—çš„æµ‹è¯•å’Œæ–‡æ¡£æ¡†æ¶</span><br><span class="line"># devDependencies é¡¹ç›®å¼€å‘æ‰€éœ€è¦çš„æ¨¡å—</span><br><span class="line">"devDependencies": &#123;</span><br><span class="line">  "autod": "^3.1.0",</span><br><span class="line">  "autod-egg": "^1.0.0",</span><br><span class="line">  "egg-bin": "^4.12.3",</span><br><span class="line">  "egg-ci": "^1.11.0",</span><br><span class="line">  "egg-mock": "^3.22.2",</span><br><span class="line">  "eslint": "^4.11.0",</span><br><span class="line">  "eslint-config-egg": "^6.0.0",</span><br><span class="line">  "webstorm-disable-index": "^1.2.0"</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"># ^ è¡¨ç¤ºç¬¬ä¸€ä½ç‰ˆæœ¬å·ä¸å˜ï¼Œåé¢ä¸¤ä½å–æœ€æ–°å€¼ã€‚</span><br><span class="line"># ï½ è¡¨ç¤ºå‰ä¸¤ä½ç‰ˆæœ¬å·ä¸å˜ï¼Œæœ€åä¸€ä½å–æœ€æ–°å€¼ã€‚</span><br><span class="line"># * è¡¨ç¤ºå…¨éƒ¨å–æœ€æ–°å€¼ï¼Œå³ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚</span><br><span class="line"># é…ç½®å¥½è¯¥æ–‡ä»¶åï¼Œè¾“å…¥ npm install å‘½ä»¤ç³»ç»Ÿå°±ä¼šæŒ‰ä»¥ä¸Šçº¦å®šè‡ªåŠ¨å®‰è£…æ¨¡å—</span><br></pre></td></tr></table></figure>
<h1 id="æ³¨å†ŒåŒ…ä»“åº“è´¦å·"><a href="#æ³¨å†ŒåŒ…ä»“åº“è´¦å·" class="headerlink" title="æ³¨å†ŒåŒ…ä»“åº“è´¦å·"></a>æ³¨å†ŒåŒ…ä»“åº“è´¦å·</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm adduser</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¸Šä¼ åŒ…æ–‡ä»¶"><a href="#ä¸Šä¼ åŒ…æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ åŒ…æ–‡ä»¶"></a>ä¸Šä¼ åŒ…æ–‡ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm publish &lt;floder&gt; <span class="comment"># ä¸Šä¼ åŒ…æ–‡ä»¶åˆ°å®˜æ–¹ä»“åº“</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm publish .</span></span><br></pre></td></tr></table></figure>
<h2 id="ç®¡ç†åŒ…æƒé™"><a href="#ç®¡ç†åŒ…æƒé™" class="headerlink" title="ç®¡ç†åŒ…æƒé™"></a>ç®¡ç†åŒ…æƒé™</h2><p>é€šå¸¸ï¼Œä¸€ä¸ªåŒ…åªæœ‰ä¸€ä¸ªäººæ‹¥æœ‰æƒé™è¿›è¡Œå‘å¸ƒã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm owner ls &lt;package name&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm owner add &lt;user&gt; &lt;package name&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm owner rm &lt;user&gt; &lt;package name&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="node-å‘½ä»¤è¡Œæƒé™é—®é¢˜"><a href="#node-å‘½ä»¤è¡Œæƒé™é—®é¢˜" class="headerlink" title="node å‘½ä»¤è¡Œæƒé™é—®é¢˜"></a>node å‘½ä»¤è¡Œæƒé™é—®é¢˜</h2><p>è¿è¡Œ npm å‘½åæ—¶ï¼Œæç¤ºâ€œpermission deniedâ€¦â€ï¼Œè§£å†³æ–¹æ³•æ˜¯è®¾ç½®å…è®¸ä¸å®‰å…¨æƒé™ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm config set unsafe-perm=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœä»¥ä¸Šæ–¹æ³•æ— æ•ˆï¼Œä¸å¦¨åœ¨å‘½ä»¤å‰åŠ  sudo æå‡æƒé™</span></span><br><span class="line">sudo npm install -g eslint</span><br></pre></td></tr></table></figure>
<h2 id="npm-è„šæœ¬"><a href="#npm-è„šæœ¬" class="headerlink" title="npm è„šæœ¬"></a>npm è„šæœ¬</h2><p>npm è„šæœ¬å¯ä»¥è¯´æ˜¯ä¸€ä¸ª<strong>å¾®å‹è„šæœ¬è°ƒç”¨å·¥å…·</strong>ï¼Œä½ å¯ä»¥ç”¨å®ƒæ„å»ºå®¢æˆ·ç«¯åŒ…ã€æ‰§è¡Œæµ‹è¯•ã€ç”Ÿæˆæ–‡æ¡£ç­‰ã€‚<br>å¯åŠ¨æœåŠ¡å™¨çš„å‘½ä»¤ï¼ˆ<code>node index.js</code>ï¼‰å¯ä»¥ä¿å­˜ä¸º npm è„šæœ¬ï¼Œæ‰“å¼€ package.json æ–‡ä»¶ï¼Œåœ¨ scripts é‡Œæ·»åŠ ä¸€ä¸ª start å±æ€§ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"echo \"</span><span class="keyword">Error</span>: <span class="keyword">no</span> <span class="keyword">test</span> specified\<span class="string">" &amp;&amp; exit 1"</span>,</span><br><span class="line">  <span class="string">"start"</span>: <span class="string">"node index.js"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p>å¯åŠ¨ç¨‹åºï¼š<code>npm start</code><br>æŒ‡å®šç«¯å£ï¼š<code>PORT=3001 npm start</code></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2018/10/09/iOS ç¼–ç¨‹ï¼šLoginç™»å½•ç•Œé¢è®¾è®¡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
      <meta itemprop="description" content="æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç‹¬æœ¨èˆŸçš„æœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/09/iOS ç¼–ç¨‹ï¼šLoginç™»å½•ç•Œé¢è®¾è®¡/" class="post-title-link" itemprop="url">iOS ç¼–ç¨‹ï¼šLoginç™»å½•ç•Œé¢è®¾è®¡</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-09 02:07:00" itemprop="dateCreated datePublished" datetime="2018-10-09T02:07:00+08:00">2018-10-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-17 17:29:48" itemprop="dateModified" datetime="2019-04-17T17:29:48+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2018/10/09/iOS ç¼–ç¨‹ï¼šLoginç™»å½•ç•Œé¢è®¾è®¡/" class="leancloud_visitors" data-flag-title="iOS ç¼–ç¨‹ï¼šLoginç™»å½•ç•Œé¢è®¾è®¡">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-9108087e9438f177.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç™»å½•ç•Œé¢"></p>
<p>å‚è€ƒç®€ä¹¦æ–‡ç« ï¼š<br>ä»£ç æ–¹å¼ï¼š<a href="http://www.jianshu.com/p/16766c358d19" target="_blank" rel="noopener">iOSåˆ¶ä½œä¸€ä¸ªæ¼‚äº®çš„ç™»å½•ç•Œé¢</a><br>Xibæ–¹å¼ï¼š<a href="http://www.jianshu.com/p/dd80b3fe3b42" target="_blank" rel="noopener">ç™»å½•æ³¨å†Œç•Œé¢çš„è®¾è®¡è¿‡ç¨‹</a></p>
<h2 id="1-ä»£ç æ–¹å¼åˆ›å»º"><a href="#1-ä»£ç æ–¹å¼åˆ›å»º" class="headerlink" title="1.ä»£ç æ–¹å¼åˆ›å»º"></a>1.ä»£ç æ–¹å¼åˆ›å»º</h2><ul>
<li>é¦–å…ˆåˆ›å»ºviewController</li>
<li>è¿˜éœ€è¦åˆ›å»ºçˆ¶è§†å›¾ä¸ºUIViewçš„backgroundViewç”¨äºç»˜åˆ¶åº•éƒ¨å›¾å±‚ä»¥åŠç”»ç”¨æˆ·åå’Œå¯†ç textFieldä¹‹é—´çš„ç›´çº¿</li>
<li>æœ€å¤–å±‚çš„ç°è‰²èƒŒæ™¯å¯åœ¨storyboardä¸­è®¾ç½®</li>
</ul>
<h3 id="é¦–å…ˆåœ¨viewController-hæ–‡ä»¶ä¸­å®šä¹‰ç›¸å…³å±æ€§"><a href="#é¦–å…ˆåœ¨viewController-hæ–‡ä»¶ä¸­å®šä¹‰ç›¸å…³å±æ€§" class="headerlink" title="é¦–å…ˆåœ¨viewController.hæ–‡ä»¶ä¸­å®šä¹‰ç›¸å…³å±æ€§"></a>é¦–å…ˆåœ¨viewController.hæ–‡ä»¶ä¸­å®šä¹‰ç›¸å…³å±æ€§</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@interface</span> <span class="attribute">LoginViewController </span>: UIViewController</span><br><span class="line"><span class="comment">//å±æ€§ï¼šè´¦æˆ·</span></span><br><span class="line"><span class="variable">@property</span>(nonatomic,strong) UITextField *account;</span><br><span class="line"><span class="comment">//å±æ€§ï¼šå¯†ç </span></span><br><span class="line"><span class="variable">@property</span>(nonatomic,strong) UITextField *password;</span><br><span class="line"><span class="comment">//å±æ€§ï¼šç™»å½•æŒ‰é’®</span></span><br><span class="line"><span class="variable">@property</span>(nonatomic,strong) UIButton *loginButton;</span><br><span class="line"><span class="comment">//å±æ€§ï¼šç”¨æˆ·ç»‘å®š</span></span><br><span class="line"><span class="variable">@property</span>(nonatomic,strong) UIButton *bindUser;</span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="mæ–‡ä»¶ä¸­å®ç°"><a href="#mæ–‡ä»¶ä¸­å®ç°" class="headerlink" title=".mæ–‡ä»¶ä¸­å®ç°"></a>.mæ–‡ä»¶ä¸­å®ç°</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è®¾ç½®å¯¼èˆªæ æ ‡é¢˜&amp;é¢œè‰²</span></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.title = <span class="string">@"ç™»å½•"</span>;</span><br><span class="line">    [<span class="keyword">self</span>.navigationController.navigationBar setTitleTextAttributes:@&#123;<span class="built_in">NSFontAttributeName</span>:[<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">16</span>],<span class="built_in">NSForegroundColorAttributeName</span>:[<span class="built_in">UIColor</span> orangeColor]&#125;];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç”¨æˆ·å&amp;å¯†ç çš„åº•éƒ¨å›¾å±‚</span></span><br><span class="line">    HQLLoginTextFieldBackground *_background = [[HQLLoginTextFieldBackground alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">20</span>, <span class="number">150</span>, <span class="keyword">self</span>.view.frame.size.width<span class="number">-40</span>, <span class="number">100</span>)];</span><br><span class="line">    [_background setBackgroundColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br><span class="line">    [[_background layer] setCornerRadius:<span class="number">10.0</span>];</span><br><span class="line">    [[_background layer] setMasksToBounds:<span class="literal">YES</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_background];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ–‡æœ¬è¾“å…¥æ¡†ï¼šç”¨æˆ·å</span></span><br><span class="line">    _account = [[<span class="built_in">UITextField</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">30</span>, <span class="number">150</span>, <span class="keyword">self</span>.view.frame.size.width<span class="number">-50</span>, <span class="number">50</span>)];</span><br><span class="line">    _account.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">    _account.placeholder = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"æ‰‹æœºå·ç "</span>]; <span class="comment">//å ä½ç¬¦</span></span><br><span class="line">    _account.layer.cornerRadius = <span class="number">10.0</span>;  <span class="comment">//åœ†è§’å±æ€§</span></span><br><span class="line">    _account.clearButtonMode = <span class="built_in">UITextFieldViewModeWhileEditing</span>; <span class="comment">//æ¸…ç©ºæŒ‰é’®</span></span><br><span class="line">    _account.keyboardType = <span class="built_in">UIKeyboardTypeNumberPad</span>;    <span class="comment">//è½¯é”®ç›˜æ ·å¼ï¼šæ•°å­—</span></span><br><span class="line">    _account.tintColor = [<span class="built_in">UIColor</span> blackColor];  <span class="comment">//å…‰æ ‡é¢œè‰²</span></span><br><span class="line">    _account.delegate = <span class="keyword">self</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_account];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ–‡æœ¬è¾“å…¥æ¡†ï¼šå¯†ç </span></span><br><span class="line">    _password = [[<span class="built_in">UITextField</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">30</span>, <span class="number">200</span>, <span class="keyword">self</span>.view.frame.size.width<span class="number">-50</span>, <span class="number">50</span>)];</span><br><span class="line">    _password.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">    _password.placeholder = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"å¯†ç "</span>];</span><br><span class="line">    _password.layer.cornerRadius = <span class="number">10.0</span>; <span class="comment">//åœ†è§’å±æ€§</span></span><br><span class="line">    _password.clearButtonMode = <span class="built_in">UITextFieldViewModeWhileEditing</span>; <span class="comment">//æ¸…ç©ºæŒ‰é’®</span></span><br><span class="line">    _password.secureTextEntry = <span class="literal">YES</span>;    <span class="comment">//éšè—å¯†ç </span></span><br><span class="line">    _password.returnKeyType = <span class="built_in">UIReturnKeyDone</span>;  <span class="comment">//è¿”å›é”®ç±»å‹</span></span><br><span class="line">    _password.tintColor = [<span class="built_in">UIColor</span> blackColor]; <span class="comment">//å…‰æ ‡é¢œè‰²</span></span><br><span class="line">    _password.delegate = <span class="keyword">self</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_password];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æŒ‰é’®ï¼šç™»å½•</span></span><br><span class="line">    _loginButton = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeSystem</span>];</span><br><span class="line">    [_loginButton setFrame:<span class="built_in">CGRectMake</span>(<span class="number">20</span>, <span class="number">270</span>, <span class="keyword">self</span>.view.frame.size.width<span class="number">-40</span>, <span class="number">50</span>)];</span><br><span class="line">    [_loginButton setTitle:<span class="string">@"ç™»   å½•"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    [_loginButton setTitleColor:[<span class="built_in">UIColor</span> whiteColor] forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    [_loginButton setBackgroundColor:[<span class="built_in">UIColor</span> orangeColor]];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_loginButton];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æŒ‰é’®:ç”¨æˆ·ç»‘å®š</span></span><br><span class="line">    _bindUser = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeSystem</span>];</span><br><span class="line">    [_bindUser setFrame:<span class="built_in">CGRectMake</span>(<span class="keyword">self</span>.view.frame.size.width<span class="number">-100</span>, <span class="number">335</span>, <span class="number">80</span>, <span class="number">50</span>)];</span><br><span class="line">    [_bindUser setTitle:<span class="string">@"ç”¨æˆ·ç»‘å®š"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    [_bindUser setTitleColor:[<span class="built_in">UIColor</span> blackColor] forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    [_bindUser setBackgroundColor:[<span class="built_in">UIColor</span> clearColor]];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_bindUser];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è¿˜éœ€è¦åœ¨ç”¨æˆ·åå’Œå¯†ç çš„TextFieldä¹‹é—´åˆ’çº¿"><a href="#è¿˜éœ€è¦åœ¨ç”¨æˆ·åå’Œå¯†ç çš„TextFieldä¹‹é—´åˆ’çº¿" class="headerlink" title="è¿˜éœ€è¦åœ¨ç”¨æˆ·åå’Œå¯†ç çš„TextFieldä¹‹é—´åˆ’çº¿"></a>è¿˜éœ€è¦åœ¨ç”¨æˆ·åå’Œå¯†ç çš„TextFieldä¹‹é—´åˆ’çº¿</h2><pre><code>- (void)drawRect:(CGRect)rect {
//åœ¨ç”¨æˆ·åå’Œå¯†ç ä¹‹é—´æ·»åŠ çº¿
CGContextRef context = UIGraphicsGetCurrentContext();   //è·å¾—å½“å‰ç”»æ¿
CGContextSetLineWidth(context, 0.2);    //è®¾ç½®çº¿å®½
CGContextBeginPath(context);    //æ ‡è®°
CGContextMoveToPoint(context, 5, 50);   //èµ·å§‹ç‚¹
CGContextAddLineToPoint(context, self.frame.size.width-5, 50);  //æ·»åŠ çº¿
CGContextClosePath(context);    //è·¯å¾„ç»“æŸæ ‡å¿—
[[UIColor grayColor] setStroke];    //è®¾ç½®ç”»çº¿é¢œè‰²
CGContextStrokePath(context);   //ç»˜åˆ¶è·¯å¾„
}
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg" alt="ç‹¬æœ¨èˆŸçš„æœ¨">
            
              <p class="site-author-name" itemprop="name">ç‹¬æœ¨èˆŸçš„æœ¨</p>
              <div class="site-description motion-element" itemprop="description">æœ‰æ—¶å€™é˜³å…‰å¾ˆå¥½ æœ‰æ—¶å€™é˜³å…‰å¾ˆæš—</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">317</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">36</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Andy0570" title="GitHub &rarr; https://github.com/Andy0570" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:andywhm@163.com" title="E-Mail &rarr; mailto:andywhm@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ç‹¬æœ¨èˆŸçš„æœ¨</span>

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





  



  






  



  
    
    
      
    
  
  <script color="17,119,176" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script>













  
  <script src="//cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  
  
  
    
  

  
    
      
    
  

  
  
  
    <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
    <script>
      
        window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://andy0570.com/page/7/',]
        });
      
        });
      
    </script>
  


  



  



  
  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">

  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js"></script>
  

  <script src="/js/algolia-search.js?v=7.1.0"></script>



  
  
  <script>
    
    function showTime(Counter) {
      var entries = [];
      var $visitors = $('.leancloud_visitors');

      $visitors.each(function() {
        entries.push( $(this).attr('id').trim() );
      });

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url: { '$in': entries } }) })
        .done(function({ results }) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz',
                'X-LC-Key': 'brOnU8mOQvSjpipJvdKUAIbU',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            if ($('.post-title-link').length >= 1) {
              showTime(Counter);
            }
          
        });
    });
  </script>



  

  

  

  

  

  

  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script>pangu.spacingPage();</script>


  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script>
  <script>
  
    bookmark.loadBookmark();
  
  </script>


  

  

  


  <!-- red heart -->
  <script type="text/javascript" src="/js/src/love.js"></script>
  
</body>
</html>

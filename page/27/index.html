<!DOCTYPE html>













<html class="theme-next gemini" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">



  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css">













  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">







  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/panda/apple-touch-icon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/panda/favicon-32x32.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/panda/favicon-16x16.png?v=7.1.0">


  <link rel="mask-icon" href="/images/panda/safari-pinned-tab.svg?v=7.1.0" color="#222">


  <link rel="manifest" href="/images/panda/site.webmanifest">


  <meta name="msapplication-config" content="/images/panda/browserconfig.xml">





<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: true,
    lazyload: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '0E2AON8EZF',
      apiKey: '22fbefd84c8343239f5c04365b9728de',
      indexName: 'MyBlogPlatform',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="有时候阳光很好 有时候阳光很暗">
<meta name="keywords" content="独木舟的木">
<meta property="og:type" content="website">
<meta property="og:title" content="独木舟的木">
<meta property="og:url" content="https://andy0570.com/page/27/index.html">
<meta property="og:site_name" content="独木舟的木">
<meta property="og:description" content="有时候阳光很好 有时候阳光很暗">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="独木舟的木">
<meta name="twitter:description" content="有时候阳光很好 有时候阳光很暗">



  <link rel="alternate" href="/atom.xml" title="独木舟的木" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://andy0570.com/page/27/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>独木舟的木</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8229a094facca297f211d61323fd9fde";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/andy0570" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">独木舟的木</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">iOS Developer</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">14</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">37</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">317</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/andy0570" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/01/12/UIAlertViewController/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/01/12/UIAlertViewController/" class="post-title-link" itemprop="url">UIAlertController</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-01-12 11:35:00" itemprop="dateCreated datePublished" datetime="2017-01-12T11:35:00+08:00">2017-01-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:45:00" itemprop="dateModified" datetime="2019-04-28T15:45:00+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/01/12/UIAlertViewController/" class="leancloud_visitors" data-flag-title="UIAlertController">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">16k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">15 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UIAlertController"><a href="#UIAlertController" class="headerlink" title="UIAlertController"></a>UIAlertController</h1><blockquote>
<p>UIAlertController 同时替代了 UIAlertView 和 UIActionSheet，从系统层级上统一了 alert 的概念 —— 即以 modal 方式或 popover 方式展示。</p>
</blockquote>
<blockquote>
<p>UIAlertController 是 UIViewController 的子类，而非其先前的方式。因此新的 alert 可以由 view controller 展示相关的配置中获益很多。</p>
</blockquote>
<blockquote>
<p>UIAlertController 不管是要用 alert 还是 action sheet 方式展示，都要以 title 和 message 参数来初始化。Alert 会在当前显示的 view controller 中心以模态形式出现，action sheet 则会在底部滑出。Alert 可以同时有按钮和输入框，action sheet 仅支持按钮。</p>
</blockquote>
<blockquote>
<p>新的方式并没有把所有的 alert 按钮配置都放在初始化函数中，而是引入了一个新类 UIAlertAction 的对象，在初始化之后可以进行配置。这种形式的 API 重构让对按钮数量、类型、顺序方便有了更大的控制。同时也弃用了 UIAlertView 和 UIActionSheet 使用的delegate 这种方式，而是采用更简便的完成时回调。<br>                                       -<a href="http://nshipster.cn/uialertcontroller/" target="_blank" rel="noopener">摘自Mattt Thompson</a></p>
</blockquote>
<h2 id="UIAlertControllerStyle-——Alert-样式"><a href="#UIAlertControllerStyle-——Alert-样式" class="headerlink" title="UIAlertControllerStyle ——Alert 样式"></a>UIAlertControllerStyle ——Alert 样式</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">typedef <span class="class"><span class="keyword">enum</span> <span class="title">UIAlertControllerStyle</span> : <span class="title">NSInteger</span> &#123;</span></span><br><span class="line">    UIAlertControllerStyleActionSheet = <span class="number">0</span>, <span class="regexp">//</span> 从底部向上推出的 action sheet 列表方式</span><br><span class="line">    UIAlertControllerStyleAlert            /<span class="regexp">/ 模态显示的 alert</span></span><br><span class="line"><span class="regexp">&#125; UIAlertControllerStyle;</span></span><br></pre></td></tr></table></figure>
<h2 id="UIAlertActionStyle-——-按钮样式"><a href="#UIAlertActionStyle-——-按钮样式" class="headerlink" title="UIAlertActionStyle —— 按钮样式"></a>UIAlertActionStyle —— 按钮样式</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">typedef <span class="class"><span class="keyword">enum</span> <span class="title">UIAlertActionStyle</span> : <span class="title">NSInteger</span> &#123;</span></span><br><span class="line">    UIAlertActionStyleDefault = <span class="number">0</span>,</span><br><span class="line">    UIAlertActionStyleCancel,</span><br><span class="line">    UIAlertActionStyleDestructive</span><br><span class="line">&#125; UIAlertActionStyle;</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>UIAlertActionStyleDefault</strong><br> 默认风格样式的动作按钮;</li>
<li><strong>UIAlertActionStyleCancel</strong><br> 取消操作并且保持视图内容不变的动作按钮;</li>
<li><strong>UIAlertActionStyleDestructive</strong><br> 可能更改或删除数据样式的动作按钮,警示性样式，默认按钮字体为红色，提示用户这样做可能会删除或者改变某些数据.</li>
</ol>
<h2 id="1-1一个按钮的-Alert-样式"><a href="#1-1一个按钮的-Alert-样式" class="headerlink" title="1.1一个按钮的 Alert 样式"></a>1.1一个按钮的 Alert 样式</h2><p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071611-1.jpg" alt="一个按钮的Alert样式"></p>
<h2 id="创建方法"><a href="#创建方法" class="headerlink" title="创建方法"></a>创建方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 1.实例化alertController</span><br><span class="line">UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;标题&quot;</span><br><span class="line">                                                               message:@&quot;消息&quot;</span><br><span class="line">                                                        preferredStyle:UIAlertControllerStyleAlert];</span><br><span class="line"></span><br><span class="line">// 2.实例化按钮</span><br><span class="line">UIAlertAction *action = [UIAlertAction actionWithTitle:@&quot;确定&quot;</span><br><span class="line">                                                 style:UIAlertActionStyleDefault</span><br><span class="line">                                               handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                   // 点击按钮，调用此block</span><br><span class="line">                                                   NSLog(@&quot;Button Click&quot;);</span><br><span class="line">                                               &#125;];</span><br><span class="line">[alert addAction:action];</span><br><span class="line"></span><br><span class="line">//  3.显示alertController</span><br><span class="line">[self presentViewController:alert animated:YES completion:nil];</span><br></pre></td></tr></table></figure>
<h2 id="1-2-标准的-Alert-样式"><a href="#1-2-标准的-Alert-样式" class="headerlink" title="1.2 标准的 Alert 样式"></a>1.2 标准的 Alert 样式</h2><p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071612.jpg" alt></p>
<h2 id="创建方法-1"><a href="#创建方法-1" class="headerlink" title="创建方法"></a>创建方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//  1.实例化UIAlertController对象</span><br><span class="line">UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;标准的Alert 样式&quot;</span><br><span class="line">                                                               message:@&quot;UIAlertControllerStyleAlert&quot;</span><br><span class="line">                                                        preferredStyle:UIAlertControllerStyleAlert];</span><br><span class="line"></span><br><span class="line">//  2.1实例化UIAlertAction按钮:取消按钮</span><br><span class="line">UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@&quot;取消&quot;</span><br><span class="line">                                                       style:UIAlertActionStyleCancel</span><br><span class="line">                                                     handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                         // 点击取消按钮，调用此block</span><br><span class="line">                                                         NSLog(@&quot;取消按钮被按下！&quot;);</span><br><span class="line">                                                     &#125;];</span><br><span class="line">[alert addAction:cancelAction];</span><br><span class="line"></span><br><span class="line">//  2.2实例化UIAlertAction按钮:确定按钮</span><br><span class="line">UIAlertAction *defaultAction = [UIAlertAction actionWithTitle:@&quot;确定&quot;</span><br><span class="line">                                                        style:UIAlertActionStyleDefault</span><br><span class="line">                                                      handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                          // 点击按钮，调用此block</span><br><span class="line">                                                          NSLog(@&quot;确定按钮被按下&quot;);</span><br><span class="line">                                                      &#125;];</span><br><span class="line">[alert addAction:defaultAction];</span><br><span class="line"></span><br><span class="line">//  3.显示alertController</span><br><span class="line">[self presentViewController:alert animated:YES completion:nil];</span><br></pre></td></tr></table></figure>
<h2 id="1-3-带有多个按钮的-Alert-样式"><a href="#1-3-带有多个按钮的-Alert-样式" class="headerlink" title="1.3 带有多个按钮的 Alert 样式"></a>1.3 带有多个按钮的 Alert 样式</h2><p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071614.jpg" alt></p>
<h2 id="创建方法-2"><a href="#创建方法-2" class="headerlink" title="创建方法"></a>创建方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//  1.实例化UIAlertController对象</span><br><span class="line">UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;多个按钮的Alert 样式&quot;</span><br><span class="line">                                                               message:@&quot;有1个或者2个操作按钮的时候，按钮会水平排布。更多按钮的情况，就会像action sheet那样展示：&quot;</span><br><span class="line">                                                        preferredStyle:UIAlertControllerStyleAlert];</span><br><span class="line"></span><br><span class="line">//  2.1实例化UIAlertAction按钮:确定按钮</span><br><span class="line">UIAlertAction *defaultAction = [UIAlertAction actionWithTitle:@&quot;确定&quot;</span><br><span class="line">                                                        style:UIAlertActionStyleDefault</span><br><span class="line">                                                      handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                          // 点击按钮，调用此block</span><br><span class="line">                                                          NSLog(@&quot;确定按钮被按下&quot;);</span><br><span class="line">                                                      &#125;];</span><br><span class="line">[alert addAction:defaultAction];</span><br><span class="line"></span><br><span class="line">//  2.2实例化UIAlertAction按钮:更多按钮</span><br><span class="line">UIAlertAction *moreAction = [UIAlertAction actionWithTitle:@&quot;更多&quot;</span><br><span class="line">                                                     style:UIAlertActionStyleDestructive</span><br><span class="line">                                                   handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                       // 点击按钮，调用此block</span><br><span class="line">                                                       NSLog(@&quot;更多按钮被按下&quot;);</span><br><span class="line">                                                   &#125;];</span><br><span class="line">[alert addAction:moreAction];</span><br><span class="line"></span><br><span class="line">//  2.3实例化UIAlertAction按钮:取消按钮</span><br><span class="line">UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@&quot;取消&quot;</span><br><span class="line">                                                       style:UIAlertActionStyleCancel</span><br><span class="line">                                                     handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                         // 点击取消按钮，调用此block</span><br><span class="line">                                                         NSLog(@&quot;取消按钮被按下！&quot;);</span><br><span class="line">                                                     &#125;];</span><br><span class="line">[alert addAction:cancelAction];</span><br><span class="line"></span><br><span class="line">//  3.显示alertController</span><br><span class="line">[self presentViewController:alert animated:YES completion:nil];</span><br></pre></td></tr></table></figure>
<h2 id="2-标准的-Alert-Sheet-样式"><a href="#2-标准的-Alert-Sheet-样式" class="headerlink" title="2.标准的 Alert Sheet 样式"></a>2.标准的 Alert Sheet 样式</h2><p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071614-1.jpg" alt></p>
<h2 id="创建方法-3"><a href="#创建方法-3" class="headerlink" title="创建方法"></a>创建方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// 1.实例化UIAlertController对象</span><br><span class="line">UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;标准的Action Sheet样式&quot;</span><br><span class="line">                                                               message:@&quot;UIAlertControllerStyleActionSheet&quot;</span><br><span class="line">                                                        preferredStyle:UIAlertControllerStyleActionSheet];</span><br><span class="line"></span><br><span class="line">// 2.1实例化UIAlertAction按钮:取消按钮</span><br><span class="line">UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@&quot;取消&quot;</span><br><span class="line">                                                       style:UIAlertActionStyleCancel</span><br><span class="line">                                                     handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                         NSLog(@&quot;取消按钮被按下！&quot;);</span><br><span class="line">                                                     &#125;];</span><br><span class="line">[alert addAction:cancelAction];</span><br><span class="line"></span><br><span class="line">// 2.2实例化UIAlertAction按钮:更多按钮</span><br><span class="line">UIAlertAction *moreAction = [UIAlertAction actionWithTitle:@&quot;更多&quot;</span><br><span class="line">                                                     style:UIAlertActionStyleDestructive</span><br><span class="line">                                                   handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                       NSLog(@&quot;更多按钮被按下！&quot;);</span><br><span class="line">                                                   &#125;];</span><br><span class="line">[alert addAction:moreAction];</span><br><span class="line"></span><br><span class="line">// 2.3实例化UIAlertAction按钮:确定按钮</span><br><span class="line">UIAlertAction *confirmAction = [UIAlertAction actionWithTitle:@&quot;确定&quot;</span><br><span class="line">                                                        style:UIAlertActionStyleDefault</span><br><span class="line">                                                      handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                          NSLog(@&quot;确定按钮被按下&quot;);</span><br><span class="line">                                                      &#125;];</span><br><span class="line">[alert addAction:confirmAction];</span><br><span class="line"></span><br><span class="line">//  3.显示alertController</span><br><span class="line">[self presentViewController:alert animated:YES completion:nil];</span><br></pre></td></tr></table></figure>
<h2 id="3-带输入框样式"><a href="#3-带输入框样式" class="headerlink" title="3.带输入框样式"></a>3.带输入框样式</h2><p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071616.jpg" alt></p>
<h2 id="创建方法-4"><a href="#创建方法-4" class="headerlink" title="创建方法"></a>创建方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 1.实例化UIAlertController对象</span><br><span class="line">UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;标题&quot;</span><br><span class="line">                                                               message:@&quot;信息&quot;</span><br><span class="line">                                                        preferredStyle:UIAlertControllerStyleAlert];</span><br><span class="line"></span><br><span class="line">// 2.1添加输入文本框</span><br><span class="line">[alert addTextFieldWithConfigurationHandler:^(UITextField * _Nonnull textField) &#123;</span><br><span class="line">    textField.placeholder = @&quot;支付密码&quot;;</span><br><span class="line">    textField.secureTextEntry = YES;</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">// 2.2实例化UIAlertAction按钮:确定按钮</span><br><span class="line">UIAlertAction *confirmAction = [UIAlertAction actionWithTitle:@&quot;确定&quot;</span><br><span class="line">                                                        style:UIAlertActionStyleDefault</span><br><span class="line">                                                      handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">                                                          NSLog(@&quot;确定按钮被按下&quot;);</span><br><span class="line">                                                          UITextField *passwordTextField = alert.textFields.firstObject;</span><br><span class="line">                                                          NSLog(@&quot;读取输入密码：%@&quot;,passwordTextField.text);</span><br><span class="line">                                &#125;];</span><br><span class="line">[alert addAction:confirmAction];</span><br><span class="line"></span><br><span class="line">//  3.显示alertController</span><br><span class="line">[self presentViewController:alert animated:YES completion:nil];</span><br></pre></td></tr></table></figure>
<h1 id="第三方框架："><a href="#第三方框架：" class="headerlink" title="第三方框架："></a>第三方框架：</h1><h2 id="ryanmaxwell-UIAlertController-Blocks"><a href="#ryanmaxwell-UIAlertController-Blocks" class="headerlink" title="ryanmaxwell/UIAlertController-Blocks"></a><a href="https://github.com/ryanmaxwell/UIAlertController-Blocks" target="_blank" rel="noopener">ryanmaxwell/<strong>UIAlertController-Blocks</strong></a></h2><p>用 Blocks 方式封装的便捷扩展类，调用更简单：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// 通用创建方法</span><br><span class="line">+ (nonnull instancetype)showInViewController:(nonnull UIViewController *)viewController</span><br><span class="line">                                   withTitle:(nullable NSString *)title</span><br><span class="line">                                     message:(nullable NSString *)message</span><br><span class="line">                              preferredStyle:(UIAlertControllerStyle)preferredStyle</span><br><span class="line">                           cancelButtonTitle:(nullable NSString *)cancelButtonTitle</span><br><span class="line">                      destructiveButtonTitle:(nullable NSString *)destructiveButtonTitle</span><br><span class="line">                           otherButtonTitles:(nullable NSArray *)otherButtonTitles</span><br><span class="line">#if TARGET_OS_iOS</span><br><span class="line">          popoverPresentationControllerBlock:(nullable UIAlertControllerPopoverPresentationControllerBlock)popoverPresentationControllerBlock</span><br><span class="line">#endif</span><br><span class="line">                                    tapBlock:(nullable UIAlertControllerCompletionBlock)tapBlock;</span><br><span class="line"></span><br><span class="line">// 指明创建 UIAlertControllerStyleAlert 样式的弹窗：</span><br><span class="line">+ (nonnull instancetype)showAlertInViewController:(nonnull UIViewController *)viewController</span><br><span class="line">                                        withTitle:(nullable NSString *)title</span><br><span class="line">                                          message:(nullable NSString *)message</span><br><span class="line">                                cancelButtonTitle:(nullable NSString *)cancelButtonTitle</span><br><span class="line">                           destructiveButtonTitle:(nullable NSString *)destructiveButtonTitle</span><br><span class="line">                                otherButtonTitles:(nullable NSArray *)otherButtonTitles</span><br><span class="line">                                         tapBlock:(nullable UIAlertControllerCompletionBlock)tapBlock;</span><br><span class="line"></span><br><span class="line">// 指明创建 UIAlertControllerStyleActionSheet 样式的弹窗：</span><br><span class="line">+ (nonnull instancetype)showActionSheetInViewController:(nonnull UIViewController *)viewController</span><br><span class="line">                                              withTitle:(nullable NSString *)title</span><br><span class="line">                                                message:(nullable NSString *)message</span><br><span class="line">                                      cancelButtonTitle:(nullable NSString *)cancelButtonTitle</span><br><span class="line">                                 destructiveButtonTitle:(nullable NSString *)destructiveButtonTitle</span><br><span class="line">                                      otherButtonTitles:(nullable NSArray *)otherButtonTitles</span><br><span class="line">#if TARGET_OS_iOS</span><br><span class="line">                     popoverPresentationControllerBlock:(nullable UIAlertControllerPopoverPresentationControllerBlock)popoverPresentationControllerBlock</span><br><span class="line">#endif</span><br><span class="line">                                               tapBlock:(nullable UIAlertControllerCompletionBlock)tapBlock;</span><br></pre></td></tr></table></figure></p>
<h3 id="调用示例"><a href="#调用示例" class="headerlink" title="调用示例"></a>调用示例</h3><h5 id="示例一："><a href="#示例一：" class="headerlink" title="示例一："></a>示例一：</h5><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[UIAlertController showAlertInViewController:self</span><br><span class="line"><span class="symbol">                                           withTitle:</span>@<span class="string">"无法访问位置信息"</span></span><br><span class="line"><span class="symbol">                                             message:</span>@<span class="string">"请去设置-隐私-定位服务中开启该功能"</span></span><br><span class="line"><span class="symbol">                                   cancelButtonTitle:</span>@<span class="string">"知道了"</span></span><br><span class="line"><span class="symbol">                              destructiveButtonTitle:</span>nil</span><br><span class="line"><span class="symbol">                                   otherButtonTitles:</span>nil</span><br><span class="line"><span class="symbol">                                            tapBlock:</span>nil];</span><br></pre></td></tr></table></figure>
<h5 id="示例二："><a href="#示例二：" class="headerlink" title="示例二："></a>示例二：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">self.tapBlock = ^(UIAlertController *controller, UIAlertAction *action, NSInteger buttonIndex)&#123;</span><br><span class="line">            if (buttonIndex == controller.destructiveButtonIndex) &#123;</span><br><span class="line">                NSLog(@&quot;Delete&quot;);</span><br><span class="line">            &#125; else if (buttonIndex == controller.cancelButtonIndex) &#123;</span><br><span class="line">                NSLog(@&quot;Cancel&quot;);</span><br><span class="line">            &#125; else if (buttonIndex &gt;= controller.firstOtherButtonIndex) &#123;</span><br><span class="line">                NSLog(@&quot;Other %ld&quot;, (long)buttonIndex - controller.firstOtherButtonIndex + 1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">// Alert 样式</span><br><span class="line">[UIAlertController showAlertInViewController:self</span><br><span class="line">                                       withTitle:@&quot;Test Alert&quot;</span><br><span class="line">                                         message:@&quot;Test Message&quot;</span><br><span class="line">                               cancelButtonTitle:@&quot;Cancel&quot;</span><br><span class="line">                          destructiveButtonTitle:@&quot;Delete&quot;</span><br><span class="line">                               otherButtonTitles:@[@&quot;First Other&quot;, @&quot;Second Other&quot;]</span><br><span class="line">                                        tapBlock:self.tapBlock];</span><br><span class="line">// ActionSheet 样式</span><br><span class="line">[UIAlertController showActionSheetInViewController:self</span><br><span class="line">                                         withTitle:@&quot;Test Action Sheet&quot;</span><br><span class="line">                                           message:@&quot;Test Message&quot;</span><br><span class="line">                                 cancelButtonTitle:@&quot;Cancel&quot;</span><br><span class="line">                            destructiveButtonTitle:@&quot;Delete&quot;</span><br><span class="line">                                 otherButtonTitles:@[@&quot;First Other&quot;, @&quot;Second Other&quot;]</span><br><span class="line">#if TARGET_OS_iOS</span><br><span class="line">                popoverPresentationControllerBlock:^(UIPopoverPresentationController *popover)&#123;</span><br><span class="line"></span><br><span class="line">                    popover.sourceView = self.view;</span><br><span class="line">                    popover.sourceRect = sender.frame;</span><br><span class="line">                &#125;</span><br><span class="line">#endif</span><br><span class="line">                                          tapBlock:self.tapBlock];</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Tips:如果不需要某个按钮，就给按钮的Title 传 nil。</p>
</blockquote>
<ul>
<li>ButtonIndex判断：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">static NSInteger const UIAlertControllerBlocksCancelButtonIndex = 0; // 取消、返回按钮</span><br><span class="line">static NSInteger const UIAlertControllerBlocksDestructiveButtonIndex = 1; // 更改、删除按钮</span><br><span class="line">static NSInteger const UIAlertControllerBlocksFirstOtherButtonIndex = 2; // 第一个默认按钮</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071617.png" alt="button Index"></p>
<h3 id="第三方框架：kukumaluCN-JXTAlertManager"><a href="#第三方框架：kukumaluCN-JXTAlertManager" class="headerlink" title="第三方框架：kukumaluCN/JXTAlertManager"></a>第三方框架：<a href="https://github.com/kukumaluCN/JXTAlertManager" target="_blank" rel="noopener">kukumaluCN/JXTAlertManager</a></h3><p>这个框架支持链式语法：<br>使用示例：</p>
<h4 id="1-Alert"><a href="#1-Alert" class="headerlink" title="1.Alert"></a>1.Alert</h4><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">self</span> jxt_showAlertWithTitle:@<span class="string">"title"</span></span><br><span class="line">                     message:@<span class="string">"message"</span></span><br><span class="line">           appearanceProcess:^(<span class="name">JXTAlertController</span> * _Nonnull alertMaker) &#123;</span><br><span class="line">    alertMaker.</span><br><span class="line">    addActionCancelTitle(<span class="name">@</span><span class="string">"cancel"</span>).</span><br><span class="line">    addActionDestructiveTitle(<span class="name">@</span><span class="string">"按钮1"</span>)<span class="comment">;</span></span><br><span class="line">&#125; actionsBlock:^(<span class="name">NSInteger</span> buttonIndex, UIAlertAction * _Nonnull action, JXTAlertController * _Nonnull alertSelf) &#123;</span><br><span class="line">    if (<span class="name">buttonIndex</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        NSLog(<span class="name">@</span><span class="string">"cancel"</span>)<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">    else if (<span class="name">buttonIndex</span> == <span class="number">1</span>) &#123;</span><br><span class="line">        NSLog(<span class="name">@</span><span class="string">"按钮1"</span>)<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;]<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-AlertSheet"><a href="#2-AlertSheet" class="headerlink" title="2.AlertSheet"></a>2.AlertSheet</h4><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">self</span> jxt_showAlertWithTitle:@<span class="string">"title"</span></span><br><span class="line">                     message:@<span class="string">"message"</span></span><br><span class="line">           appearanceProcess:^(<span class="name">JXTAlertController</span> * _Nonnull alertMaker) &#123;</span><br><span class="line">    alertMaker.</span><br><span class="line">    addActionDestructiveTitle(<span class="name">@</span><span class="string">"获取输入框1"</span>).</span><br><span class="line">    addActionDestructiveTitle(<span class="name">@</span><span class="string">"获取输入框2"</span>)<span class="comment">;</span></span><br><span class="line">    </span><br><span class="line">    [<span class="name">alertMaker</span> addTextFieldWithConfigurationHandler:^(<span class="name">UITextField</span> * _Nonnull textField) &#123;</span><br><span class="line">        textField.placeholder = @<span class="string">"输入框1-请输入"</span><span class="comment">;</span></span><br><span class="line">    &#125;]<span class="comment">;</span></span><br><span class="line">    [<span class="name">alertMaker</span> addTextFieldWithConfigurationHandler:^(<span class="name">UITextField</span> * _Nonnull textField) &#123;</span><br><span class="line">        textField.placeholder = @<span class="string">"输入框2-请输入"</span><span class="comment">;</span></span><br><span class="line">    &#125;]<span class="comment">;</span></span><br><span class="line">&#125; actionsBlock:^(<span class="name">NSInteger</span> buttonIndex, UIAlertAction * _Nonnull action, JXTAlertController * _Nonnull alertSelf) &#123;</span><br><span class="line">    if (<span class="name">buttonIndex</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        UITextField *textField = alertSelf.textFields.firstObject<span class="comment">;</span></span><br><span class="line">        [<span class="name">self</span> logMsg:textField.text]<span class="comment">;//不用担心循环引用</span></span><br><span class="line">    &#125;</span><br><span class="line">    else if (<span class="name">buttonIndex</span> == <span class="number">1</span>) &#123;</span><br><span class="line">        UITextField *textField = alertSelf.textFields.lastObject<span class="comment">;</span></span><br><span class="line">        [<span class="name">self</span> logMsg:textField.text]<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;]<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<h2 id="播放系统声音、提醒声音和振动设备"><a href="#播放系统声音、提醒声音和振动设备" class="headerlink" title="播放系统声音、提醒声音和振动设备"></a>播放系统声音、提醒声音和振动设备</h2><pre><code>// 导入框架
#import &lt;AudioToolbox/AudioToolbox.h&gt;
</code></pre><h2 id="播放系统声音"><a href="#播放系统声音" class="headerlink" title="播放系统声音"></a>播放系统声音</h2><pre><code>AudioServicesPlaySystemSound(1005);
</code></pre><h2 id="播放提醒声音"><a href="#播放提醒声音" class="headerlink" title="播放提醒声音"></a>播放提醒声音</h2><pre><code>AudioServicesPlayAlertSound(1006);
</code></pre><h2 id="执行震动"><a href="#执行震动" class="headerlink" title="执行震动"></a>执行震动</h2><pre><code>AudioServicesPlaySystemSound(kSystemSoundID_Vibrate);
</code></pre><h3 id="其它开源框架"><a href="#其它开源框架" class="headerlink" title="其它开源框架"></a>其它开源框架</h3><ul>
<li><a href="https://github.com/dogo/SCLAlertView" target="_blank" rel="noopener">dogo/SCLAlertView</a> ⭐️3000</li>
<li><a href="https://github.com/adad184/MMPopupView" target="_blank" rel="noopener">GitHub:adad184/MMPopupView</a> ⭐️1800</li>
<li><a href="https://github.com/mtonio91/AMSmoothAlert" target="_blank" rel="noopener">GitHub:mtonio91/AMSmoothAlert</a> ⭐️1300</li>
<li><a href="https://github.com/12207480/TYAlertController" target="_blank" rel="noopener">GitHub:12207480/TYAlertController</a> ⭐️1000</li>
</ul>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a href="http://nshipster.cn/uialertcontroller/" target="_blank" rel="noopener">UIAlert​Controller @Mattt Thompson撰写、 Croath Liu翻译</a>-<strong>Swift</strong></li>
<li><a href="http://www.jianshu.com/p/c4018f4fef0b" target="_blank" rel="noopener">iOS开发笔记：提示框（UIAlertController）学习</a></li>
<li><a href="http://blog.csdn.net/bht890811/article/details/40952439" target="_blank" rel="noopener"> iOS 8 新特性初学：UIAlertController @关东糖</a></li>
<li><a href="http://www.jianshu.com/p/ae336594daf0" target="_blank" rel="noopener">iOS 更加优雅便捷的UIAlertView/UIAlertController封装使用 @霖溦</a></li>
<li><a href="http://www.jianshu.com/p/d11453dbd980" target="_blank" rel="noopener">模仿支付宝支付密码输入对话框</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/01/09/iOS 编程：AES 加密算法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/01/09/iOS 编程：AES 加密算法/" class="post-title-link" itemprop="url">iOS 编程：AES 加密算法</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-01-09 12:22:00" itemprop="dateCreated datePublished" datetime="2017-01-09T12:22:00+08:00">2017-01-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:45:00" itemprop="dateModified" datetime="2019-04-28T15:45:00+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/01/09/iOS 编程：AES 加密算法/" class="leancloud_visitors" data-flag-title="iOS 编程：AES 加密算法">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">6.8k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">6 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="在线AES加解密网站"><a href="#在线AES加解密网站" class="headerlink" title="在线AES加解密网站"></a><a href="http://www.seacha.com/tools/aes.html" target="_blank" rel="noopener">在线AES加解密网站</a></h3><ul>
<li>发现这个网站除了可以<strong>在线AES加解密</strong>，还有<strong>MD5在线加密</strong> 、<strong>SHA1在线加密</strong> 、<strong>Base64在线加解密</strong>  、<strong>3DES在线加解密</strong> 、<strong>中文域名在线转码</strong> 、<strong>在线生成二维码</strong> 等其它功能。</li>
</ul>
<h3 id="加密算法"><a href="#加密算法" class="headerlink" title="加密算法"></a>加密算法</h3><blockquote>
<p>iOS加密算法参考了<a href="http://www.jianshu.com/p/df828a57cb8f" target="_blank" rel="noopener">AES加密 - iOS与Java的同步实现 @WelkinXie</a>，然后根据自己的需求作了一下修改，传入的是<strong>NSDictionary</strong>类型，并且嵌套进了 <strong>NSDictionary</strong> <-> <strong>NSString</strong> 相互转换的两个方法。</-></p>
</blockquote>
<h4 id="AESCipher-h"><a href="#AESCipher-h" class="headerlink" title="AESCipher.h"></a>AESCipher.h</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AESCipher</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 加密算法</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @param dictionary 待加密字典</span></span><br><span class="line"><span class="comment"> @param key 密钥</span></span><br><span class="line"><span class="comment"> @return 加密后字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)encryptAES:(<span class="built_in">NSDictionary</span> *)dictionary key:(<span class="built_in">NSString</span> *)key;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 解密算法</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @param content 待解密字符串</span></span><br><span class="line"><span class="comment"> @param key 密钥</span></span><br><span class="line"><span class="comment"> @return 解密后字典</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSDictionary</span> *)decryptAES:(<span class="built_in">NSString</span> *)content key:(<span class="built_in">NSString</span> *)key;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="AESCiphser-m"><a href="#AESCiphser-m" class="headerlink" title="AESCiphser.m"></a>AESCiphser.m</h4><ul>
<li>需要注意的是AES加密算法中的这几个设置参数一定要和服务器端一致，否则会有各种错误。<ul>
<li>密钥长度（Key Size）</li>
<li>加密模式（Cipher Mode）</li>
<li>填充方式（Padding）</li>
<li>初始向量（Initialization Vector）</li>
</ul>
</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AESCipher.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;CommonCrypto/CommonCryptor.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** 初始向量*/</span></span><br><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> kInitVector = <span class="string">@"16-Bytes--String"</span>;</span><br><span class="line"><span class="comment">/** 密钥长度：AES-128*/</span></span><br><span class="line">size_t <span class="keyword">const</span> kKeySize = kCCKeySizeAES128;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AESCipher</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 加密算法</span></span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">NSString</span> *)encryptAES:(<span class="built_in">NSDictionary</span> *)dictionary key:(<span class="built_in">NSString</span> *)key &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// NSDictionary -&gt; NSString</span></span><br><span class="line">    <span class="built_in">NSString</span> *content = [<span class="keyword">self</span> convertToJsonData:dictionary];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 待加密数据: NSString -&gt; NSData</span></span><br><span class="line">    <span class="built_in">NSData</span> *contentData = [content dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="built_in">NSUInteger</span> dataLength = contentData.length;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 密钥长度:kCCKeySizeAES128</span></span><br><span class="line">    <span class="keyword">char</span> keyPtr[kKeySize + <span class="number">1</span>]; <span class="comment">// 为结束符'\\0' +1</span></span><br><span class="line">    memset(keyPtr, <span class="number">0</span>, <span class="keyword">sizeof</span>(keyPtr));</span><br><span class="line">    [key getCString:keyPtr maxLength:<span class="keyword">sizeof</span>(keyPtr) encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 密文长度 &lt;= 明文长度 + BlockSize（填充数据）</span></span><br><span class="line">    size_t encryptSize = dataLength + kCCBlockSizeAES128;</span><br><span class="line">    <span class="keyword">void</span> *encryptedBytes = malloc(encryptSize);</span><br><span class="line">    size_t actualOutSize = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSData</span> *initVector = [kInitVector dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 设置加密参数</span></span><br><span class="line">    <span class="comment">// 系统默认使用 CBC 加密模式，然后指明使用 PKCS7Padding 补码方式(填充方式)</span></span><br><span class="line">    CCCryptorStatus cryptStatus = CCCrypt(kCCEncrypt,</span><br><span class="line">                                          kCCAlgorithmAES,</span><br><span class="line">                                          kCCOptionPKCS7Padding,</span><br><span class="line">                                          keyPtr,</span><br><span class="line">                                          kKeySize,</span><br><span class="line">                                          initVector.bytes,</span><br><span class="line">                                          contentData.bytes,</span><br><span class="line">                                          dataLength,</span><br><span class="line">                                          encryptedBytes,</span><br><span class="line">                                          encryptSize,</span><br><span class="line">                                          &amp;actualOutSize);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (cryptStatus == kCCSuccess) &#123;</span><br><span class="line">        <span class="comment">// 加密结果编码方式: base64 编码</span></span><br><span class="line">        <span class="keyword">return</span> [[<span class="built_in">NSData</span> dataWithBytesNoCopy:encryptedBytes length:actualOutSize] base64EncodedStringWithOptions:<span class="built_in">NSDataBase64EncodingEndLineWithLineFeed</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    free(encryptedBytes);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 解密算法</span></span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">NSDictionary</span> *)decryptAES:(<span class="built_in">NSString</span> *)content key:(<span class="built_in">NSString</span> *)key &#123;</span><br><span class="line">    <span class="comment">// 把 base64 String 转换成 Data</span></span><br><span class="line">    <span class="built_in">NSData</span> *contentData = [[<span class="built_in">NSData</span> alloc] initWithBase64EncodedString:content options:<span class="built_in">NSDataBase64DecodingIgnoreUnknownCharacters</span>];</span><br><span class="line">    <span class="built_in">NSUInteger</span> dataLength = contentData.length;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">char</span> keyPtr[kKeySize + <span class="number">1</span>];</span><br><span class="line">    memset(keyPtr, <span class="number">0</span>, <span class="keyword">sizeof</span>(keyPtr));</span><br><span class="line">    [key getCString:keyPtr maxLength:<span class="keyword">sizeof</span>(keyPtr) encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    </span><br><span class="line">    size_t decryptSize = dataLength + kCCBlockSizeAES128;</span><br><span class="line">    <span class="keyword">void</span> *decryptedBytes = malloc(decryptSize);</span><br><span class="line">    size_t actualOutSize = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSData</span> *initVector = [kInitVector dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    </span><br><span class="line">    CCCryptorStatus cryptStatus = CCCrypt(kCCDecrypt,</span><br><span class="line">                                          kCCAlgorithmAES,</span><br><span class="line">                                          kCCOptionPKCS7Padding,</span><br><span class="line">                                          keyPtr,</span><br><span class="line">                                          kKeySize,</span><br><span class="line">                                          initVector.bytes,</span><br><span class="line">                                          contentData.bytes,</span><br><span class="line">                                          dataLength,</span><br><span class="line">                                          decryptedBytes,</span><br><span class="line">                                          decryptSize,</span><br><span class="line">                                          &amp;actualOutSize);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (cryptStatus == kCCSuccess) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *content = [[<span class="built_in">NSString</span> alloc] initWithData:[<span class="built_in">NSData</span> dataWithBytesNoCopy:decryptedBytes length:actualOutSize] encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">        <span class="keyword">return</span> [<span class="keyword">self</span> dictionaryWithJsonString:content];</span><br><span class="line">    &#125;</span><br><span class="line">    free(decryptedBytes);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - NSDictionary <span class="meta-string">&lt;-&gt;</span> NSString</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// NSDictionary 转换为 NSString</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)convertToJsonData:(<span class="built_in">NSDictionary</span> *)dictionary &#123;</span><br><span class="line">    <span class="built_in">NSError</span> *error;</span><br><span class="line">    <span class="built_in">NSData</span> *jsonData = [<span class="built_in">NSJSONSerialization</span> dataWithJSONObject:dictionary options:<span class="built_in">NSJSONWritingPrettyPrinted</span> error:&amp;error];</span><br><span class="line">    <span class="built_in">NSString</span> *jsonString;</span><br><span class="line">    <span class="keyword">if</span> (!jsonData) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,error);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        jsonString = [[<span class="built_in">NSString</span> alloc]initWithData:jsonData encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSMutableString</span> *mutStr = [<span class="built_in">NSMutableString</span> stringWithString:jsonString];</span><br><span class="line">    <span class="built_in">NSRange</span> range = &#123;<span class="number">0</span>,jsonString.length&#125;;</span><br><span class="line">    <span class="comment">//去掉字符串中的空格</span></span><br><span class="line">    [mutStr replaceOccurrencesOfString:<span class="string">@" "</span> withString:<span class="string">@""</span> options:<span class="built_in">NSLiteralSearch</span> range:range];</span><br><span class="line">    <span class="built_in">NSRange</span> range2 = &#123;<span class="number">0</span>,mutStr.length&#125;;</span><br><span class="line">    <span class="comment">//去掉字符串中的换行符</span></span><br><span class="line">    [mutStr replaceOccurrencesOfString:<span class="string">@"\n"</span> withString:<span class="string">@""</span> options:<span class="built_in">NSLiteralSearch</span> range:range2];</span><br><span class="line">    <span class="keyword">return</span> mutStr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSString 转换为 NSDictionary</span></span><br><span class="line">+ (<span class="built_in">NSDictionary</span> *)dictionaryWithJsonString:(<span class="built_in">NSString</span> *)content &#123;</span><br><span class="line">    <span class="keyword">if</span> (content == <span class="literal">nil</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSData</span> *jsonData = [content dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="built_in">NSError</span> *err;</span><br><span class="line">    <span class="built_in">NSDictionary</span> *dic = [<span class="built_in">NSJSONSerialization</span> JSONObjectWithData:jsonData</span><br><span class="line">                                                        options:<span class="built_in">NSJSONReadingMutableContainers</span></span><br><span class="line">                                                          error:&amp;err];</span><br><span class="line">    <span class="keyword">if</span>(err)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"json解析失败：%@"</span>,err);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><ol>
<li>先在需要使用AES加密方法的文件中先导入包文件。<br><code>#import &quot;AESCipher.h&quot;</code></li>
<li><p>设置好需要传入的<strong>NSDictionary对象</strong>和<strong>key值</strong>（一定要确保是16位的，且和服务器端一致）。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary *<span class="keyword">dictionary </span>= @&#123;</span><br><span class="line">                               @<span class="string">"key"</span>:@<span class="string">"value"</span></span><br><span class="line">                                &#125;<span class="comment">;</span></span><br><span class="line">NSString *key = @<span class="string">"1234567890123456"</span><span class="comment">;</span></span><br><span class="line">NSString *cipherString = [AESCipher encryptAES:<span class="keyword">dictionary </span>key:key]<span class="comment">;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解密调用时，设置一个<strong>NSDictionary对象</strong>传入需要解密的字符串接受解密后的数据。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">NSDictionary</span> <span class="meta">*dictionary</span> <span class="string">=</span> <span class="string">[AESCipher</span> <span class="attr">decryptAES:cipherString</span> <span class="attr">key:key];</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a href="http://www.jianshu.com/p/df828a57cb8f" target="_blank" rel="noopener">AES加密 - iOS与Java的同步实现 @WelkinXie</a></li>
<li><a href="https://github.com/Gurpartap/AESCrypt-ObjC" target="_blank" rel="noopener">GitHub框架：<strong>AESCrypt-ObjC</strong></a></li>
<li><a href="http://www.jianshu.com/p/3a4f47cb86f8" target="_blank" rel="noopener">iOS数据加密方式 MD5 &amp; RSA</a></li>
<li><a href="http://www.cnblogs.com/ming1025/p/6186171.html" target="_blank" rel="noopener">iOS开发–字典(NSDictionary)和JSON字符串(NSString)之间互转</a></li>
<li><a href="http://www.infoq.com/cn/articles/how-to-encrypt-the-user-password-correctly" target="_blank" rel="noopener">如何正确对用户密码进行加密？</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/01/06/iOS 编程：获取设备信息、应用跳转/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/01/06/iOS 编程：获取设备信息、应用跳转/" class="post-title-link" itemprop="url">iOS 编程：获取设备信息、应用跳转</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-01-06 10:19:00" itemprop="dateCreated datePublished" datetime="2017-01-06T10:19:00+08:00">2017-01-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:45:00" itemprop="dateModified" datetime="2019-04-28T15:45:00+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/01/06/iOS 编程：获取设备信息、应用跳转/" class="leancloud_visitors" data-flag-title="iOS 编程：获取设备信息、应用跳转">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">30k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">27 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073511.jpg" alt="Photo by [Wesley Tingey](https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073508.jpg) on [Unsplash](https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073509.jpg)"></p>
<h2 id="1-获取设备相关信息"><a href="#1-获取设备相关信息" class="headerlink" title="1.获取设备相关信息"></a>1.获取设备相关信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">UIDevice *device = [[UIDevice alloc] init];  </span><br><span class="line">NSString *name = device.name;                   // 获取设备所有者的名称  </span><br><span class="line">NSString *model = device.model;                 // 获取设备的型号  </span><br><span class="line">NSString *type = device.localizedModel;         // 获取本地化版本  </span><br><span class="line">NSString *systemName = device.systemName;       // 获取当前运行的系统  </span><br><span class="line">NSString *systemVersion = device.systemVersion; // 获取当前系统的版本</span><br></pre></td></tr></table></figure>
<p>同上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 获取设备所有者的名称——&quot;My iPhone&quot;</span><br><span class="line">NSString * name = [[UIDevice currentDevice] name];</span><br><span class="line"></span><br><span class="line">// 获取设备的型号——@&quot;iPhone&quot;</span><br><span class="line">NSString * model = [[UIDevice currentDevice] model];</span><br><span class="line"></span><br><span class="line">// //获取本地化版本</span><br><span class="line">NSString * localizedModel = [[UIDevice currentDevice] localizedModel];</span><br><span class="line"></span><br><span class="line">// 获取当前运行的系统名称——@&quot;iOS&quot;</span><br><span class="line">NSString * systemName = [[UIDevice currentDevice] systemName];</span><br><span class="line"></span><br><span class="line">// //获取当前系统的版本——@&quot;10.0&quot;、@&quot;11.3.1&quot;</span><br><span class="line">NSString * systemVersion = [[UIDevice currentDevice] systemVersion];</span><br></pre></td></tr></table></figure>
<p><strong>注：</strong></p>
<blockquote>
<p>上面获取设备型号的方法 <code>NSString * model = [[UIDevice currentDevice] model];</code>只能获取 @”iPhone” ，想要获取到具体型号（例如@”iPhone 6s Plus”、@”iPhone 7 (CDMA)”）需要使用下面这个方法：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">// 1.需要先导入包</span><br><span class="line">#import &lt;sys/utsname.h&gt;</span><br><span class="line"></span><br><span class="line">// 2.获取方法</span><br><span class="line">// 获取设备名称</span><br><span class="line">- (NSString *)deviceModel &#123;</span><br><span class="line">    struct utsname systemInfo;</span><br><span class="line">    uname(&amp;systemInfo);</span><br><span class="line">    NSString *deviceModel = [NSString stringWithCString:systemInfo.machine</span><br><span class="line">                                               encoding:NSUTF8StringEncoding];</span><br><span class="line">    </span><br><span class="line">    // 模拟器</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;i386&quot;])         return @&quot;Simulator&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;x86_64&quot;])       return @&quot;Simulator&quot;;</span><br><span class="line">    </span><br><span class="line">    // iPhone 系列</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone1,1&quot;])    return @&quot;iPhone 1G&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone1,2&quot;])    return @&quot;iPhone 3G&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone2,1&quot;])    return @&quot;iPhone 3GS&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone3,1&quot;])    return @&quot;iPhone 4 (GSM)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone3,2&quot;])    return @&quot;Verizon iPhone 4&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone3,3&quot;])    return @&quot;iPhone 4 (CDMA/Verizon/Sprint)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone4,1&quot;])    return @&quot;iPhone 4S&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone5,1&quot;])    return @&quot;iPhone 5&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone5,2&quot;])    return @&quot;iPhone 5&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone5,3&quot;])    return @&quot;iPhone 5C&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone5,4&quot;])    return @&quot;iPhone 5C&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone6,1&quot;])    return @&quot;iPhone 5S&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone6,2&quot;])    return @&quot;iPhone 5S&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone7,1&quot;])    return @&quot;iPhone 6 Plus&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone7,2&quot;])    return @&quot;iPhone 6&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone8,1&quot;])    return @&quot;iPhone 6s&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone8,2&quot;])    return @&quot;iPhone 6s Plus&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone8,4&quot;])    return @&quot;iPhone SE&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone9,1&quot;])    return @&quot;iPhone 7 (CDMA)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone9,3&quot;])    return @&quot;iPhone 7 (GSM)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone9,2&quot;])    return @&quot;iPhone 7 Plus (CDMA)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone9,4&quot;])    return @&quot;iPhone 7 Plus (GSM)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone10,1&quot;])    return @&quot;iPhone 8 (CDMA)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone10,4&quot;])    return @&quot;iPhone 8 (GSM)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone10,2&quot;])    return @&quot;iPhone 8 Plus (CDMA)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone10,5&quot;])    return @&quot;iPhone 8 Plus (GSM)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone10,3&quot;])    return @&quot;iPhone X (CDMA)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPhone10,6&quot;])    return @&quot;iPhone X (GSM)&quot;;</span><br><span class="line">    </span><br><span class="line">    // iPod 系列</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPod1,1&quot;])      return @&quot;iPod Touch 1G&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPod2,1&quot;])      return @&quot;iPod Touch 2G&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPod3,1&quot;])      return @&quot;iPod Touch 3G&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPod4,1&quot;])      return @&quot;iPod Touch 4G&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPod5,1&quot;])      return @&quot;iPod Touch 5G&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPod7,1&quot;])      return @&quot;iPod Touch 6G&quot;;</span><br><span class="line">    </span><br><span class="line">    // iPad 系列</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad1,1&quot;])      return @&quot;iPad&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad1,2&quot;])      return @&quot;iPad 3G&quot;;</span><br><span class="line">    </span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad2,1&quot;])      return @&quot;iPad 2 (WiFi)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad2,2&quot;])      return @&quot;iPad 2 (GSM)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad2,3&quot;])      return @&quot;iPad 2 (CDMA)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad2,4&quot;])      return @&quot;iPad 2 (32nm)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad2,5&quot;])      return @&quot;iPad Mini (WiFi)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad2,6&quot;])      return @&quot;iPad Mini (GSM)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad2,7&quot;])      return @&quot;iPad Mini (CDMA)&quot;;</span><br><span class="line">    </span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad3,1&quot;])      return @&quot;iPad 3(WiFi)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad3,2&quot;])      return @&quot;iPad 3(CDMA)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad3,3&quot;])      return @&quot;iPad 3(4G)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad3,4&quot;])      return @&quot;iPad 4 (WiFi)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad3,5&quot;])      return @&quot;iPad 4 (4G)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad3,6&quot;])      return @&quot;iPad 4 (CDMA)&quot;;</span><br><span class="line">    </span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,1&quot;])      return @&quot;iPad Air&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,2&quot;])      return @&quot;iPad Air&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,3&quot;])      return @&quot;iPad Air&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,4&quot;])      return @&quot;iPad Mini 2&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,5&quot;])      return @&quot;iPad Mini 2&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,6&quot;])      return @&quot;iPad Mini 2&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,7&quot;])      return @&quot;iPad Mini 3&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,8&quot;])      return @&quot;iPad Mini 3&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad4,9&quot;])      return @&quot;iPad Mini 3&quot;;</span><br><span class="line">    </span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad5,1&quot;])      return @&quot;iPad Mini 4&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad5,2&quot;])      return @&quot;iPad Mini 4&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad5,3&quot;])      return @&quot;iPad Air 2&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad5,4&quot;])      return @&quot;iPad Air 2&quot;;</span><br><span class="line">    </span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad6,3&quot;])      return @&quot;iPad PRO (12.9)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad6,4&quot;])      return @&quot;iPad PRO (12.9)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad6,7&quot;])      return @&quot;iPad PRO (9.7)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad6,8&quot;])      return @&quot;iPad PRO (9.7)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad6,11&quot;])      return @&quot;iPad 5&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad6,12&quot;])      return @&quot;iPad 5&quot;;</span><br><span class="line">    </span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad7,1&quot;])      return @&quot;iPad PRO 2 (12.9)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad7,2&quot;])      return @&quot;iPad PRO 2 (12.9)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad7,3&quot;])      return @&quot;iPad PRO (10.5)&quot;;</span><br><span class="line">    if ([deviceModel isEqualToString:@&quot;iPad7,4&quot;])      return @&quot;iPad PRO (10.5)&quot;;</span><br><span class="line">    </span><br><span class="line">    return deviceModel;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 3.使用方法</span><br><span class="line">// 获取移动设备名称</span><br><span class="line">NSString *deviceModel = [self deviceModelName];</span><br></pre></td></tr></table></figure>
<p>具体型号和设备名称参考：<a href="https://www.theiphonewiki.com/wiki/Models" target="_blank" rel="noopener">https://www.theiphonewiki.com/wiki/Models</a></p>
<h2 id="2-获取设备唯一标识符UUID"><a href="#2-获取设备唯一标识符UUID" class="headerlink" title="2.获取设备唯一标识符UUID"></a>2.获取设备唯一标识符UUID</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *UUIDString = [[[UIDevice currentDevice] identifierForVendor] UUIDString];</span><br></pre></td></tr></table></figure>
<p><strong>注：</strong></p>
<blockquote>
<p>这个唯一标识符UUID也有点问题，在iOS系统升级或者APP卸载后重新安装，可能会产生获取到的UUID是不同的问题。</p>
</blockquote>
<p>科普文： <a href="http://www.skyfox.org/ios-uuid-udid-keychain.html" target="_blank" rel="noopener">iOS 开发之获取设备唯一标识符</a></p>
<h3 id="1-关于APP从设备上卸载后重新安装引起UUID值改变的问题"><a href="#1-关于APP从设备上卸载后重新安装引起UUID值改变的问题" class="headerlink" title="1.关于APP从设备上卸载后重新安装引起UUID值改变的问题"></a>1.关于APP从设备上卸载后重新安装引起UUID值改变的问题</h3><ul>
<li><a href="http://stackoverflow.com/questions/40753246/ios-uuid-different-for-same-app-depending-if-installed-through-xcode-or-testflig" target="_blank" rel="noopener">stackoverflow社区中的相关讨论</a>：其中有一条：在iOS设备上安装应用程序（或同一供应商的其他应用程序）时，此属性中的值保持不变。 当用户从设备中删除该供应商的所有应用程序，然后重新安装一个或多个应用程序时，该值会更改。</li>
<li><p>在<a href="https://developer.apple.com/reference/uikit/uidevice/1620059-identifierforvendor" target="_blank" rel="noopener">Apple API Reference：UIDevice——identifierForVendor</a>中也可以找到这样一段描述：</p>
<blockquote>
<p>The value in this property remains the same while the app (or another app from the same vendor) is installed on the iOS device. The value changes when the user deletes all of that vendor’s apps from the device and subsequently reinstalls one or more of them. The value can also change when installing test builds using Xcode or when installing an app on a device using ad-hoc distribution. Therefore, if your app stores the value of this property anywhere, you should gracefully handle situations where the identifier changes.<br>翻译：在iOS设备上安装应用程序（或同一供应商的其他应用程序）时，此属性中的值保持不变。 当用户从设备中删除该供应商的所有应用程序，然后重新安装一个或多个应用程序时，该值会更改。 使用Xcode安装测试版本时或使用ad-hoc分发在设备上安装应用程序时，该值也可能更改。 因此，如果您的应用程序要在任何位置存储此属性的值，您应该适当地处理标识符会改变的情况。</p>
</blockquote>
</li>
<li><p>如果用<strong>keychain</strong>（钥匙串）来保存UUID这个方法：<br><strong>keychain</strong> 顾名思义，是钥匙串的意思，是苹果公司Mac OS中的密码管理系统。当使用UUID来作为设备的唯一标识时，获取到UUID后，如果用<strong>NSUserDefaults</strong>存储，当程序（这里指某一供应商在该设备上的所有应用程序）被卸载后重装时，再获得的UUID和之前就不同了。使用<strong>keychain</strong>存储可以保证APP被卸载重装时，UUID不会被删除，还是保存在系统的钥匙串中。所以我们可以将UUID存储到<strong>keychain</strong>里面，需要用到的时候从<strong>keychain</strong>中去取，这样可以保证UUID的唯一性。但当刷机或者升级系统后，UUID还是会改变的。<br>该方法可参考的资料：</p>
<ul>
<li><a href="https://github.com/soffes/SAMKeychain" target="_blank" rel="noopener">SAMKeychain</a></li>
<li><a href="http://www.jianshu.com/p/37899e767f5b" target="_blank" rel="noopener">iOS如何获取设备的唯一标识（UUID）@若锦</a> ：<a href="https://github.com/wxzwork/GetDeviceUUID" target="_blank" rel="noopener">Demo:GitHub</a></li>
<li><a href="http://www.jianshu.com/p/572833efaac4" target="_blank" rel="noopener">iOS获取UUID，并使用keychain存储 @wooke</a></li>
</ul>
</li>
<li><p><a href="http://stackoverflow.com/questions/21878560/how-to-preserve-identifierforvendor-in-ios-after-uninstalling-ios-app-on-device" target="_blank" rel="noopener">stackoverflow社区中</a>有人讨论到，如果开启了iCloud 同步功能（synchronisation ），KeyChain（钥匙串）就会被同步，所有同步的设备也将获得相同的UUID。</p>
</li>
</ul>
<h3 id="2-系统升级、还原或者刷机会导致UUID变化吗？"><a href="#2-系统升级、还原或者刷机会导致UUID变化吗？" class="headerlink" title="2.系统升级、还原或者刷机会导致UUID变化吗？"></a>2.系统升级、还原或者刷机会导致UUID变化吗？</h3><p>目前我得到的答案是：用户还原设备或刷机会导致<strong>KeyChain</strong>（钥匙串）数据被删除。系统升级还不知道，没有测过。<br>stackoverflow上的讨论：<a href="http://stackoverflow.com/questions/41651936/if-users-upgrade-ios-system-will-the-uuid-saved-in-keychain-also-been-changed-or" target="_blank" rel="noopener"><a href="http://stackoverflow.com/questions/41651936/if-users-upgrade-ios-system-will-the-uuid-saved-in-keychain-also-been-changed-or" target="_blank" rel="noopener">If users upgrade iOS system,will the UUID saved in keyChain also been changed or deleted?</a></a><br>如果你有答案或有相关的解决方法，不妨留言吧。</p>
<ul>
<li>还有一种方法是：使用设备的mac地址结合bundle标识符生成一个新的散列的唯一标识符。<br><a href="https://github.com/gekitz/UIDevice-with-UniqueIdentifier-for-iOS-5" target="_blank" rel="noopener">UIDevice-with-UniqueIdentifier-for-iOS-5</a>,但是该文档的第一行描述 <code>NOTE: this is not going to work under iOS 7</code>看来这个方法估计也是不能用的。</li>
<li>参考:<a href="http://www.skyfox.org/ios-uuid-udid-keychain.html" target="_blank" rel="noopener">iOS开发之获取设备唯一标识符</a></li>
</ul>
<h2 id="3-为系统创建一个随机标识符"><a href="#3-为系统创建一个随机标识符" class="headerlink" title="3.为系统创建一个随机标识符"></a>3.为系统创建一个随机标识符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(NSString*) createUUID  &#123;  </span><br><span class="line">    NSString *id = [[NSUserDefaults standardUserDefaults] objectForKey:@&quot;UUID&quot;];    //获取标识为&quot;UUID&quot;的值  </span><br><span class="line">    if(id == nil)  </span><br><span class="line">    &#123;  </span><br><span class="line">        if([[[UIDevice currentDevice] systemVersion] floatValue] &gt; 6.0)  </span><br><span class="line">        &#123;  </span><br><span class="line">            NSString *identifierNumber = [[NSUUID UUID] UUIDString];                //ios 6.0 之后可以使用的api  </span><br><span class="line">            [[NSUserDefaults standardUserDefaults] setObject:identifierNumber forKey:@&quot;UUID&quot;];  //保存为UUID  </span><br><span class="line">            [[NSUserDefaults standardUserDefaults] synchronize];  </span><br><span class="line">        &#125;  </span><br><span class="line">        else&#123;  </span><br><span class="line">            CFUUIDRef uuid = CFUUIDCreate(NULL);  </span><br><span class="line">            CFStringRef uuidString = CFUUIDCreateString(NULL, uuid);                    //ios6.0之前使用的api  </span><br><span class="line">            NSString *identifierNumber = [NSString stringWithFormat:@&quot;%@&quot;, uuidString];  </span><br><span class="line">            [[NSUserDefaults standardUserDefaults] setObject:identifierNumber forKey:@&quot;UUID&quot;];  </span><br><span class="line">            [[NSUserDefaults standardUserDefaults] synchronize];  </span><br><span class="line">            CFRelease(uuidString);  </span><br><span class="line">            CFRelease(uuid);  </span><br><span class="line">        &#125;  </span><br><span class="line">        return [[NSUserDefaults standardUserDefaults] objectForKey@&quot;UUID&quot;];  </span><br><span class="line">    &#125;  </span><br><span class="line">    return id;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-获取当前屏幕分辨率的信息"><a href="#4-获取当前屏幕分辨率的信息" class="headerlink" title="4. 获取当前屏幕分辨率的信息"></a>4. 获取当前屏幕分辨率的信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CGRect rect = [[UIScreen mainScreen] bounds];  </span><br><span class="line">CGFloat scale = [[UIScreen mainScreen].scale];  </span><br><span class="line">CGFloat width = rect.size.width * scale;  </span><br><span class="line">CGFloat height = rect.size.height * scale;</span><br></pre></td></tr></table></figure>
<h2 id="5-获取运营商信息"><a href="#5-获取运营商信息" class="headerlink" title="5. 获取运营商信息"></a>5. 获取运营商信息</h2><ul>
<li><p>需要先导入头文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;CoreTelephony/CTCarrier.h&gt;  </span><br><span class="line">#import &lt;CoreTelephony/CTTelephonyNetworkInfo.h&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CCTelephonyNetworkInfo *info = [[CTTelephonyNetworkInfo alloc] init];</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取运行商的名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CTCarrier *carrier = [info subscriberCellularProvider];  </span><br><span class="line">NSString *mCarrier = [NSString stringWithFormat:@&quot;%@&quot;,[carrier carrierName]];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="6-获取当前网络类型"><a href="#6-获取当前网络类型" class="headerlink" title="6.获取当前网络类型"></a>6.获取当前网络类型</h2><p>iOS 7之后可以按照以下方式获取。方便而且类型多</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *mConnectType = [[NSString alloc] initWithFormat:@&quot;%@&quot;,info.currentRadioAccessTechnology];</span><br></pre></td></tr></table></figure>
<p>类型有以下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CTRadioAccessTechnologyGPRS         //介于2G和3G之间，也叫2.5G ,过度技术    </span><br><span class="line">CTRadioAccessTechnologyEdge         //EDGE为GPRS到第三代移动通信的过渡，EDGE俗称2.75G   </span><br><span class="line">CTRadioAccessTechnologyWCDMA           </span><br><span class="line">CTRadioAccessTechnologyHSDPA           //亦称为3.5G(3?G)  </span><br><span class="line">CTRadioAccessTechnologyHSUPA           //3G到4G的过度技术  </span><br><span class="line">CTRadioAccessTechnologyCDMA1x          //3G      </span><br><span class="line">CTRadioAccessTechnologyCDMAEVDORev0    //3G标准  </span><br><span class="line">CTRadioAccessTechnologyCDMAEVDORevA    </span><br><span class="line">CTRadioAccessTechnologyCDMAEVDORevB    </span><br><span class="line">CTRadioAccessTechnologyeHRPD        //电信使用的一种3G到4G的演进技术， 3.75G       </span><br><span class="line">CTRadioAccessTechnologyLTE          //接近4G</span><br></pre></td></tr></table></figure>
<p><strong>注：</strong></p>
<blockquote>
<p>如果你使用<a href="https://github.com/AFNetworking/AFNetworking" target="_blank" rel="noopener">AFNetworking</a>框架的话，该框架中有一个检测网络状态的方法:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark 网络状态监测</span><br><span class="line">- (void)initNetworkReachabilityManager &#123;</span><br><span class="line">    AFNetworkReachabilityManager *networkReachabilityManager = [AFNetworkReachabilityManager sharedManager];</span><br><span class="line">    [networkReachabilityManager setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) &#123;</span><br><span class="line">        switch (status) &#123;</span><br><span class="line">            case AFNetworkReachabilityStatusUnknown:</span><br><span class="line">                NSLog(@&quot;网络状态检测：未知&quot;);</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusNotReachable:</span><br><span class="line">                NSLog(@&quot;网络状态检测：没有网络&quot;);</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusReachableViaWWAN:</span><br><span class="line">                NSLog(@&quot;网络状态检测：3G网络&quot;);</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusReachableViaWiFi:</span><br><span class="line">                NSLog(@&quot;网络状态检测：WiFi&quot;);</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    // 开启</span><br><span class="line">    [networkReachabilityManager startMonitoring];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>封装了这个方法以后在<strong>viewController.m</strong>的<figure class="highlight plain"><figcaption><span>(void)viewDidLoad```方法中调用：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```objective-c</span><br><span class="line">// 检测网络状态</span><br><span class="line">[self checkServerState];</span><br></pre></td></tr></table></figure></p>
<h2 id="7-获取当前信号强弱"><a href="#7-获取当前信号强弱" class="headerlink" title="7. 获取当前信号强弱"></a>7. 获取当前信号强弱</h2><p>这个貌似没有给出官方的api，但是网上有人说可以用私有的api实现，但是通不过appStore的审核，方法如下：<br>利用linux下动态库显式调用api的函数。先包含头文件 <figure class="highlight plain"><figcaption><span><dlfcn.h> ```</dlfcn.h></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">```objective-c</span><br><span class="line">(int) getSignalLevel  &#123;  </span><br><span class="line">//获取库句柄</span><br><span class="line">voidvoid *libHandle = dlopen(&quot;/System/Library/Frameworks/CoreTelephony.framework/CoreTelephony&quot;,RTLD_LAZY); </span><br><span class="line">//定义一个与将要获取的函数匹配的函数指针 </span><br><span class="line">int (*CTGetSignalStrength)(); </span><br><span class="line">//获取指定名称的函数  </span><br><span class="line">CTGetSignalStrength = (int(*)())dlsym(libHandle,&quot;CTGetSignalStrength&quot;);   </span><br><span class="line">  </span><br><span class="line">if(CTGetSignalStrength == NULL)  </span><br><span class="line">    return -1;  </span><br><span class="line">else&#123;  </span><br><span class="line">    int level = CTGetSignalStrength();  </span><br><span class="line">    dlclose(libHandle); //切记关闭库  </span><br><span class="line">    return level  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="8-播放系统声音、提醒声音和振动设备"><a href="#8-播放系统声音、提醒声音和振动设备" class="headerlink" title="8. 播放系统声音、提醒声音和振动设备"></a>8. 播放系统声音、提醒声音和振动设备</h2><ol>
<li>需要加入<code>AudioToolbox.framework</code>框架</li>
<li>然后导入头文件<br> <code>#import &lt;AudioToolbox/AudioToolbox.h&gt;</code>    </li>
<li>在需要震动的地方添加代码：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 播放系统声音</span><br><span class="line">AudioServicesPlaySystemSound(1005);</span><br><span class="line"></span><br><span class="line">// 播放提醒声音</span><br><span class="line">AudioServicesPlayAlertSound(1006);</span><br><span class="line"></span><br><span class="line">// 执行震动</span><br><span class="line">AudioServicesPlaySystemSound ( kSystemSoundID_Vibrate) ;</span><br></pre></td></tr></table></figure>
<p>但是貌似这个执行震动不支持传入震动时间和模式，自己去控制吧。<br>附：声音文件列表参考：<a href="http://iphonedevwiki.net/index.php/AudioServices" target="_blank" rel="noopener">wiki: AudioServices</a></p>
<h2 id="9-获取电池相关信息"><a href="#9-获取电池相关信息" class="headerlink" title="9. 获取电池相关信息"></a>9. 获取电池相关信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">@implementation BatterMonitor  </span><br><span class="line">//获取电池当前的状态，共有4种状态  </span><br><span class="line">-(NSString*) getBatteryState &#123;    </span><br><span class="line">    UIDevice *device = [UIDevice currentDevice];    </span><br><span class="line">    if (device.batteryState == UIDeviceBatteryStateUnknown) &#123;    </span><br><span class="line">        return @&quot;UnKnow&quot;;    </span><br><span class="line">    &#125;else if (device.batteryState == UIDeviceBatteryStateUnplugged)&#123;    </span><br><span class="line">        return @&quot;Unplugged&quot;;    </span><br><span class="line">    &#125;else if (device.batteryState == UIDeviceBatteryStateCharging)&#123;    </span><br><span class="line">        return @&quot;Charging&quot;;    </span><br><span class="line">    &#125;else if (device.batteryState == UIDeviceBatteryStateFull)&#123;    </span><br><span class="line">        return @&quot;Full&quot;;    </span><br><span class="line">    &#125;  </span><br><span class="line">    return nil;   </span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">//获取电量的等级，0.00~1.00  </span><br><span class="line">-(float) getBatteryLevel &#123;    </span><br><span class="line">    return [UIDevice currentDevice].batteryLevel;  </span><br><span class="line">&#125;   </span><br><span class="line">  </span><br><span class="line">-(void) getBatteryInfo  &#123;  </span><br><span class="line">    NSString *state = getBatteryState();  </span><br><span class="line">    float level = getBatteryLevel()*100.0;  </span><br><span class="line">    //yourControlFunc(state, level);  //写自己要实现的获取电量信息后怎么处理  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">//打开对电量和电池状态的监控，类似定时器的功能  </span><br><span class="line">-(void) didLoad  &#123;  </span><br><span class="line">    [[UIDevice currentDevice] setBatteryMonitoringEnable:YES];  </span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(getBatteryInfo:) name:UIDeviceBatteryStateDidChangeNotification object:nil];  </span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(getBatteryInfo:) name:UIDeviceBatteryLevelDidChangeNotification object:nil];  </span><br><span class="line">    [NSTimer scheduledTimerWithTimeInterval:0.5f target:self selector:@selector(getBatteryInfo:) userInfo:nil repeats:YES];  </span><br><span class="line">&#125;  </span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h2 id="10-获取APP相关的信息"><a href="#10-获取APP相关的信息" class="headerlink" title="10. 获取APP相关的信息"></a>10. 获取APP相关的信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary *infoDic = [[NSBundle mainBundle] infoDictionary];</span><br><span class="line"></span><br><span class="line">// 获取当前APP版本号，本地程序版本号</span><br><span class="line">NSString *appVersion = [infoDic objectForKey:@&quot;CFBundleShortVersionString&quot;];</span><br><span class="line"></span><br><span class="line">// 获取App的build版本</span><br><span class="line">NSString *appBuildVersion = [infoDic objectForKey:@&quot;CFBundleVersion&quot;];</span><br><span class="line"></span><br><span class="line">// 获取App的名称</span><br><span class="line">NSString *appName = [infoDic objectForKey:@&quot;CFBundleDisplayName&quot;];</span><br><span class="line"></span><br><span class="line">// ******************************</span><br><span class="line">// 以下四个获取方法摘自 YYCategories：</span><br><span class="line">- (NSString *)appBundleName &#123;</span><br><span class="line">    return [[NSBundle mainBundle] objectForInfoDictionaryKey:@&quot;CFBundleName&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)appBundleID &#123;</span><br><span class="line">    return [[NSBundle mainBundle] objectForInfoDictionaryKey:@&quot;CFBundleIdentifier&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)appVersion &#123;</span><br><span class="line">    return [[NSBundle mainBundle] objectForInfoDictionaryKey:@&quot;CFBundleShortVersionString&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)appBuildVersion &#123;</span><br><span class="line">    return [[NSBundle mainBundle] objectForInfoDictionaryKey:@&quot;CFBundleVersion&quot;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="11-获取设备IP地址"><a href="#11-获取设备IP地址" class="headerlink" title="11. 获取设备IP地址"></a>11. 获取设备IP地址</h2><p>某天服务器端的同学跑来说想获取并记录移动端的IP地址，非要在每一个请求Dictionary里再多放一个IP地址，于是Internet上找到了这个解决方法，<code>(NSDictionary *)getIPAddresses</code>可以返回一个Dictionary,里面记录着有关IP地址的所有信息：</p>
<p><strong>Simulator</strong>的Log：<br><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073513.jpg" alt="模拟器"></p>
<hr>
<p><strong>iPhone</strong>的Log<br><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073520.jpg" alt="真机"></p>
<p>可以再通过：<br><code>NSString *IP = [dict objectForKey:@&quot;en0/ipv4&quot;];</code> 来取得所需的IP地址，问题就在于<strong>Simulator</strong> 中对应IP地址的 <strong>Key</strong> 和 <strong>iPhone</strong>中对应IP地址的 <strong>Key</strong> 是不同的，正在纠结的时候Leader说获得IP地址完全没有必要让移动端的额外给，服务器本身是有方法获得这个IP地址的。。。吭哧吭哧忙活了半天原来咱白干了，好吧，删代码。。。等一下，先保存下吧！</p>
<h3 id="好了，这是一段保存下来的有作用但是没有必要写的代码："><a href="#好了，这是一段保存下来的有作用但是没有必要写的代码：" class="headerlink" title="好了，这是一段保存下来的有作用但是没有必要写的代码："></a>好了，这是一段保存下来的有作用但是没有必要写的代码：</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需要导入的包</span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"HQLGetIPAddress.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;ifaddrs.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;net/if.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 宏定义</span></span><br><span class="line"><span class="meta">#define IOS_CELLULAR    @<span class="meta-string">"pdp_ip0"</span></span></span><br><span class="line"><span class="meta">#define IOS_WIFI        @<span class="meta-string">"en0"</span></span></span><br><span class="line"><span class="comment">//#define IOS_VPN       @"utun0"</span></span><br><span class="line"><span class="meta">#define IP_ADDR_IPv4    @<span class="meta-string">"ipv4"</span></span></span><br><span class="line"><span class="meta">#define IP_ADDR_IPv6    @<span class="meta-string">"ipv6"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - 获取设备当前网络IP地址</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)getIPAddress:(<span class="built_in">BOOL</span>)preferIPv4</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSArray</span> *searchArray = preferIPv4 ?</span><br><span class="line">    @[ <span class="comment">/*IOS_VPN @"/" IP_ADDR_IPv4, IOS_VPN @"/" IP_ADDR_IPv6,*/</span> IOS_WIFI <span class="string">@"/"</span> IP_ADDR_IPv4, IOS_WIFI <span class="string">@"/"</span> IP_ADDR_IPv6, IOS_CELLULAR <span class="string">@"/"</span> IP_ADDR_IPv4, IOS_CELLULAR <span class="string">@"/"</span> IP_ADDR_IPv6 ] :</span><br><span class="line">    @[ <span class="comment">/*IOS_VPN @"/" IP_ADDR_IPv6, IOS_VPN @"/" IP_ADDR_IPv4,*/</span> IOS_WIFI <span class="string">@"/"</span> IP_ADDR_IPv6, IOS_WIFI <span class="string">@"/"</span> IP_ADDR_IPv4, IOS_CELLULAR <span class="string">@"/"</span> IP_ADDR_IPv6, IOS_CELLULAR <span class="string">@"/"</span> IP_ADDR_IPv4 ] ;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSDictionary</span> *addresses = [<span class="keyword">self</span> getIPAddresses];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"addresses: %@"</span>, addresses);</span><br><span class="line">    </span><br><span class="line">    __block <span class="built_in">NSString</span> *address;</span><br><span class="line">    [searchArray enumerateObjectsUsingBlock:^(<span class="built_in">NSString</span> *key, <span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop)</span><br><span class="line">     &#123;</span><br><span class="line">         address = addresses[key];</span><br><span class="line">         <span class="keyword">if</span>(address) *stop = <span class="literal">YES</span>;</span><br><span class="line">     &#125; ];</span><br><span class="line">    <span class="keyword">return</span> address ? address : <span class="string">@"0.0.0.0"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取所有相关IP信息</span></span><br><span class="line">- (<span class="built_in">NSDictionary</span> *)getIPAddresses</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSMutableDictionary</span> *addresses = [<span class="built_in">NSMutableDictionary</span> dictionaryWithCapacity:<span class="number">8</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// retrieve the current interfaces - returns 0 on success</span></span><br><span class="line">    <span class="keyword">struct</span> ifaddrs *interfaces;</span><br><span class="line">    <span class="keyword">if</span>(!getifaddrs(&amp;interfaces)) &#123;</span><br><span class="line">        <span class="comment">// Loop through linked list of interfaces</span></span><br><span class="line">        <span class="keyword">struct</span> ifaddrs *interface;</span><br><span class="line">        <span class="keyword">for</span>(interface=interfaces; interface; interface=interface-&gt;ifa_next) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(interface-&gt;ifa_flags &amp; IFF_UP) <span class="comment">/* || (interface-&gt;ifa_flags &amp; IFF_LOOPBACK) */</span> ) &#123;</span><br><span class="line">                <span class="keyword">continue</span>; <span class="comment">// deeply nested code harder to read</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr_in *addr = (<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr_in*)interface-&gt;ifa_addr;</span><br><span class="line">            <span class="keyword">char</span> addrBuf[ MAX(INET_ADDRSTRLEN, INET6_ADDRSTRLEN) ];</span><br><span class="line">            <span class="keyword">if</span>(addr &amp;&amp; (addr-&gt;sin_family==AF_INET || addr-&gt;sin_family==AF_INET6)) &#123;</span><br><span class="line">                <span class="built_in">NSString</span> *name = [<span class="built_in">NSString</span> stringWithUTF8String:interface-&gt;ifa_name];</span><br><span class="line">                <span class="built_in">NSString</span> *type;</span><br><span class="line">                <span class="keyword">if</span>(addr-&gt;sin_family == AF_INET) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(inet_ntop(AF_INET, &amp;addr-&gt;sin_addr, addrBuf, INET_ADDRSTRLEN)) &#123;</span><br><span class="line">                        type = IP_ADDR_IPv4;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr_in6 *addr6 = (<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr_in6*)interface-&gt;ifa_addr;</span><br><span class="line">                    <span class="keyword">if</span>(inet_ntop(AF_INET6, &amp;addr6-&gt;sin6_addr, addrBuf, INET6_ADDRSTRLEN)) &#123;</span><br><span class="line">                        type = IP_ADDR_IPv6;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(type) &#123;</span><br><span class="line">                    <span class="built_in">NSString</span> *key = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@/%@"</span>, name, type];</span><br><span class="line">                    addresses[key] = [<span class="built_in">NSString</span> stringWithUTF8String:addrBuf];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Free memory</span></span><br><span class="line">        freeifaddrs(interfaces);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> [addresses count] ? addresses : <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-APP中打开一个网页"><a href="#12-APP中打开一个网页" class="headerlink" title="12. APP中打开一个网页"></a>12. APP中打开一个网页</h2><p>这个比较简单，直接用提供的接口openURL即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// APP中打开一个网页</span><br><span class="line">NSURL *url= [NSURL URLWithString:@&quot;https://www.apple.com&quot;];</span><br><span class="line">if ([[UIApplication sharedApplication] canOpenURL:url]) &#123;</span><br><span class="line">    if (@available(iOS 10.0, *)) &#123;</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url options:@&#123;&#125; completionHandler:^(BOOL success) &#123;</span><br><span class="line">            if (success) &#123;</span><br><span class="line">                // 打开网页成功...</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // 打开网页失败...</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-APP中打开另一个APP"><a href="#13-APP中打开另一个APP" class="headerlink" title="13. APP中打开另一个APP"></a>13. APP中打开另一个APP</h2><p>打开另一个app还是可以通过openURL来实现。但是要分两种情况。第一种是启动内置的应用，一般的电话，浏览器，短信和邮件可以直接调用并添加参数，譬如： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;tel://10086&quot;]];  </span><br><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;mailto://devprograms@apple.com&quot;]];  </span><br><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;sms://10086&quot;]];</span><br></pre></td></tr></table></figure>
<p>第二种情况是要打开自己开发的app，这种情况则要为将要打开的app注册一个URL协议。这个可以在项目的文件info.plist中注册。主要操作为：</p>
<ul>
<li><p>Step1. 右键，选择“Add Row”</p>
</li>
<li><p>Step2. Key值选择“URL types”</p>
</li>
<li><p>Step3. 打开“Item 0″,然后为该key增加一个URL identifier。可以是任何值，但建议用“反域名”(例如 “com.fcplayer.testHello”)。</p>
</li>
<li><p>Step4. 在“Item 0”下再加一行。</p>
</li>
<li><p>Step5. 选择“URL Schemes” 作为Key。</p>
</li>
<li><p>Step6. 输入你的URL协议名 (例如“testHello://” 应写做“testHello”)。如果有必要，你可以在这里加入多个协议。</p>
</li>
</ul>
<p>其实在打开的时候只需要 <strong>URL Schemes</strong> 即可，<strong>URL identifier</strong> 是可选项。如果需要传送参数，可以在URL Schemes://添加你的参数，格式和网页开发的传递参数差不多。（又或者URL Schemes://URL identifier@添加的参数）关键是要和接收参数方定义好处理的方式。然后在需要打开的地方添加代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *url = @&quot;URL Schemes的路径&quot;  </span><br><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:url]];</span><br></pre></td></tr></table></figure>
<p>推荐阅读：<a href="https://www.jianshu.com/p/a1895c766400" target="_blank" rel="noopener">LSApplicationQueriesSchemes– 关于 info.plist 第三方登录 添加 URL Schemes 白名单</a></p>
<h2 id="14-App-Store-应用分享链接"><a href="#14-App-Store-应用分享链接" class="headerlink" title="14. App Store 应用分享链接"></a>14. App Store 应用分享链接</h2><p>应用分享链接获取方法：</p>
<ol>
<li>打开 <strong>「iTunes」</strong>应用；</li>
<li>进入  App Store； </li>
<li>🔍搜索并找到你的应用；</li>
<li>鼠标右击应用ICON图标并拷贝链接；</li>
</ol>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073522.gif" alt></p>
<p>以「支付宝」为例：<a href="https://itunes.apple.com/cn/app/支付宝-让生活更简单/id333206289?mt=8" target="_blank" rel="noopener">https://itunes.apple.com/cn/app/支付宝-让生活更简单/id333206289?mt=8</a></p>
<p>然后就可以把这个链接<a href="https://cli.im/url?b389d0900c5894e55a68298084555384" target="_blank" rel="noopener">生成二维码</a>，扫一扫下载：<br><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073527.png" alt><br>图片来源：<a href="https://pixabay.com/zh/qr-%E7%A0%81-%E6%89%AB%E6%8F%8F%E4%BB%AA-%E6%9D%A1%E7%A0%81-%E6%9D%A1%E7%A0%81%E6%89%AB%E6%8F%8F%E5%99%A8-%E7%9F%A9%E9%98%B5%E7%A0%81-%E6%99%BA%E8%83%BD%E6%89%8B%E6%9C%BA-%E8%AF%BB-156717/" target="_blank" rel="noopener">pixabay</a></p>
<h2 id="15-iOS-应用内跳转到-App-Store"><a href="#15-iOS-应用内跳转到-App-Store" class="headerlink" title="15. iOS 应用内跳转到 App Store"></a>15. iOS 应用内跳转到 App Store</h2><p>APP ID 通过类型常量定义好：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">static NSString * const APPID = @&quot;333206289&quot;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>APP ID 去哪儿找，怎么设置？</p>
<p>在 <a href="https://developer.apple.com/develop/" target="_blank" rel="noopener">iTunes Connect</a> 中新建APP后，系统会默认分配一个 ID 给你。忘记的话也可以在应用分享链接的 URL 中提取。</p>
</blockquote>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073530.jpg" alt></p>
<h3 id="一、跳转到「应用详情」页面"><a href="#一、跳转到「应用详情」页面" class="headerlink" title="一、跳转到「应用详情」页面"></a>一、跳转到「应用详情」页面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">NSString *urlStr = [NSString stringWithFormat:@&quot;itms-apps://itunes.apple.com/app/id%@&quot;, APPID];</span><br><span class="line">NSURL *url = [NSURL URLWithString:urlStr];</span><br><span class="line">// 跳转之前判断是否可以打开URL</span><br><span class="line">if ([[UIApplication sharedApplication] canOpenURL:url]) &#123;</span><br><span class="line">    if (@available(iOS 10.0, *)) &#123;</span><br><span class="line">        // iOS 10.0 之后使用此方法</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url options:@&#123;&#125; completionHandler:nil];</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        // iOS 10.0 之前使用此方法</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二、跳转到「评论」页面"><a href="#二、跳转到「评论」页面" class="headerlink" title="二、跳转到「评论」页面"></a>二、跳转到「评论」页面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NSString *urlStr = [NSString stringWithFormat:@&quot;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=%@&amp;pageNumber=0&amp;sortOrdering=2&amp;mt=8&quot;, APPID];</span><br><span class="line">NSURL *url = [NSURL URLWithString:urlStr];</span><br><span class="line">if ([[UIApplication sharedApplication] canOpenURL:url]) &#123;</span><br><span class="line">    if (@available(iOS 10.0, *)) &#123;</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url options:@&#123;&#125; completionHandler:nil];</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三、跳转到「撰写评论」页面"><a href="#三、跳转到「撰写评论」页面" class="headerlink" title="三、跳转到「撰写评论」页面"></a>三、跳转到「撰写评论」页面</h3><p>前两种方法网上已经分享泛滥了，而这个跳转方法很特别哦。</p>
<blockquote>
<p>💡💡💡区别：</p>
<p>上面的方法只可以跳转到 App Store 中应用的评论页面，如果用户要评分，步骤是：</p>
<ol>
<li>首先跳转到评论页面；</li>
<li>点击「撰写评论」按钮，开始评分。</li>
</ol>
<p>而这个方法更深入，它可以打开撰写评论页面，用户去评分的步骤是：</p>
<ol>
<li>直接跳转到「撰写评论」页面评分。</li>
</ol>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// iOS11 之后，以下链接已失效</span><br><span class="line">NSString *urlStr = [NSString stringWithFormat:@&quot;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=%@&amp;action=write-review&quot;,APPID];</span><br><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlStr]]</span><br><span class="line"></span><br><span class="line">// 今天没事点了点App里的评论功能，发现显示“无法连接到App Store”，修复更换的URL如下（更新时间：2018年3月16日） </span><br><span class="line">NSString *urlStr = [NSString stringWithFormat:@&quot;itms-apps://itunes.apple.com/cn/app/id%@?mt=8&amp;action=write-review&quot;,APPID];</span><br><span class="line">NSURL *url = [NSURL URLWithString:urlStr];</span><br><span class="line">if ([[UIApplication sharedApplication] canOpenURL:url]) &#123;</span><br><span class="line">    if (@available(iOS 10.0, *)) &#123;</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url options:@&#123;&#125; completionHandler:nil];</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        [[UIApplication sharedApplication] openURL:url];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意到这两个 URL 地址是不同的，以「微信」示例：</p>
<ul>
<li>评论页面 URL：<a href="https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=414478124&amp;pageNumber=0&amp;sortOrdering=2&amp;mt=8" target="_blank" rel="noopener">https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=414478124&amp;pageNumber=0&amp;sortOrdering=2&amp;mt=8</a></li>
<li>撰写批评 URL（已失效）：<del><a href="https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=414478124&amp;action=write-review" target="_blank" rel="noopener">https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=414478124&amp;action=write-review</a></del></li>
<li>2018，新的撰写批评 URL：<br>itms-apps://itunes.apple.com/cn/app/id414478124?mt=8&amp;action=write-review<br>参考：<a href="https://www.jianshu.com/p/ae47e1cd9058" target="_blank" rel="noopener">iOS 11 适配之跳转 App Store 评论</a></li>
</ul>
<p>「微信」的去评分跳转到 App Store 就是这个效果：</p>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073541.jpg" alt></p>
<h2 id="16-应用内跳转到系统设置"><a href="#16-应用内跳转到系统设置" class="headerlink" title="16. 应用内跳转到系统设置"></a>16. 应用内跳转到系统设置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 跳转到系统设置中本应用设置下，iOS 8.0 之后有效</span><br><span class="line">if (SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@&quot;8.0&quot;)) &#123;</span><br><span class="line">    </span><br><span class="line">    NSURL *url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];</span><br><span class="line">	// 跳转之前先判断是否能打开URL</span><br><span class="line">    if ([[UIApplication sharedApplication] canOpenURL:url]) &#123;</span><br><span class="line">        if (@available(iOS 10.0, *)) &#123;</span><br><span class="line">            [[UIApplication sharedApplication] openURL:url options:@&#123;&#125; completionHandler:nil];</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            [[UIApplication sharedApplication] openURL:url];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="17-版本更新提示"><a href="#17-版本更新提示" class="headerlink" title="17. 版本更新提示"></a>17. 版本更新提示</h2><p>需求：每当新版本发布时，首页弹窗提示。<br>流程图：<br><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073549.jpg" alt="image"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">// 检查版本更新</span><br><span class="line">- (void)requestVersionFromAppStore &#123;</span><br><span class="line">    // 使用 YTKNetwork 发起 POST 请求</span><br><span class="line">    // URL：https://itunes.apple.com/cn/lookup?id=836500024</span><br><span class="line">    HQLURL_Check_Version *api = [[HQLURL_Check_Version alloc] init];</span><br><span class="line">    [api startWithCompletionBlockWithSuccess:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">        // App Store 版本号</span><br><span class="line">        NSString *version = [(NSDictionary *)[(NSArray *)request.responseObject[@&quot;results&quot;] lastObject] objectForKey:@&quot;version&quot;];</span><br><span class="line">        [self checkVersionUpdate:version];</span><br><span class="line">        </span><br><span class="line">    &#125; failure:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">        // error...</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)checkVersionUpdate:(NSString *)version &#123;</span><br><span class="line">    // App Store 版本号</span><br><span class="line">    NSString *formatAppStoreVersion = [version stringByReplacingOccurrencesOfString:@&quot;.&quot; withString:@&quot;&quot;];</span><br><span class="line">    </span><br><span class="line">    // 本地程序版本号</span><br><span class="line">    NSString *localVersion = [[[NSBundle mainBundle] infoDictionary] objectForKey:@&quot;CFBundleShortVersionString&quot;];</span><br><span class="line">    NSString *formatLocalVersion = [localVersion stringByReplacingOccurrencesOfString:@&quot;.&quot; withString:@&quot;&quot;];</span><br><span class="line">    </span><br><span class="line">    BOOL shouldUpdate = [formatAppStoreVersion unsignedIntValue] &gt; [formatLocalVersion unsignedIntValue];</span><br><span class="line">    if (!shouldUpdate) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // 弹窗提示，使用 SCLAlertView-Objective-C 框架</span><br><span class="line">    SCLAlertView *alert = [[SCLAlertView alloc] initWithNewWindow];</span><br><span class="line">    alert.horizontalButtons = YES;</span><br><span class="line">    alert.shouldDismissOnTapOutside = YES;</span><br><span class="line">    </span><br><span class="line">    // 拒绝按钮</span><br><span class="line">    SCLButton *button = [alert addButton:@&quot;残忍拒绝&quot; actionBlock:nil];</span><br><span class="line">    button.buttonFormatBlock = ^NSDictionary *&#123;</span><br><span class="line">        NSMutableDictionary *buttonConfig = [[NSMutableDictionary alloc] init];</span><br><span class="line">        buttonConfig[@&quot;backgroundColor&quot;] = [UIColor whiteColor];</span><br><span class="line">        buttonConfig[@&quot;textColor&quot;] = HexColor(@&quot;0x2866BF&quot;);</span><br><span class="line">        return buttonConfig;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    // 下载按钮</span><br><span class="line">    [alert addButton:@&quot;前往下载&quot; actionBlock:^&#123;</span><br><span class="line">        NSString *urlStr = [NSString stringWithFormat:@&quot;itms-apps://itunes.apple.com/app/id836500024&quot;];</span><br><span class="line">        [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlStr]];</span><br><span class="line">    &#125;];</span><br><span class="line">    [alert showInfo:self title:@&quot;发现新版本&quot; subTitle:@&quot;您有新的版本可供下载&quot; closeButtonTitle:nil duration:0.0f];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果：<br><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/073556.jpg" alt="image"></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://www.cocoachina.com" target="_blank" rel="noopener">iOS 如何获取设备的各种信息 @ymwm</a></li>
<li><a href="http://blog.csdn.net/decajes/article/details/41807977" target="_blank" rel="noopener">iOS开发-获取设备名称</a></li>
<li><a href="http://www.jianshu.com/p/0d84e6852c5a" target="_blank" rel="noopener">iOS获取设备型号和App版本号等信息（OC＋Swift）</a></li>
<li><a href="http://www.jianshu.com/p/37899e767f5b" target="_blank" rel="noopener">iOS如何获取设备的唯一标识（UUID）</a></li>
<li><a href="http://www.jianshu.com/p/572833efaac4" target="_blank" rel="noopener">iOS获取UUID，并使用keychain存储 @wooke</a></li>
<li><a href="http://blog.csdn.net/luoshengkim/article/details/51135063" target="_blank" rel="noopener">iOS获取设备IP地址 @月光下的夜曲</a></li>
<li><a href="http://www.cnblogs.com/gaoxiaoniu/p/5482623.html" target="_blank" rel="noopener">iOS开发：获取设备IP地址 @高晓牛</a></li>
<li><a href="http://www.jianshu.com/p/b23016bb97af" target="_blank" rel="noopener">史上最全的iOS各种设备信息获取总结(iPhone8/iPhone X 已更新)</a></li>
<li><a href="https://stackoverflow.com/questions/11197509/how-to-get-device-make-and-model-on-ios" target="_blank" rel="noopener">How to get device make and model on iOS? @stackoverflow</a></li>
<li><a href="http://pdadb.net/index.php?m=device&amp;id=2214&amp;c=apple_ipad_wifi_a1219_64gb__apple_ipad_1,1" target="_blank" rel="noopener">http://pdadb.net</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/23/iOS 编程：可展开折叠的TableViewDemo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/23/iOS 编程：可展开折叠的TableViewDemo/" class="post-title-link" itemprop="url">可展开折叠的 TableViewDemo</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-23 17:34:00" itemprop="dateCreated datePublished" datetime="2016-12-23T17:34:00+08:00">2016-12-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/23/iOS 编程：可展开折叠的TableViewDemo/" class="leancloud_visitors" data-flag-title="可展开折叠的 TableViewDemo">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">1k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="导读"><a href="#导读" class="headerlink" title="导读"></a>导读</h3><blockquote>
<p>该Demo展示了一个可展开折叠的TableView，类似于QQ好友分组列表，我参考了@zhenwenming 写的博客，通过研读，在实现原理不变的前提下，少放了几个不必要的对象，自己写了一个改进版的Demo。</p>
</blockquote>
<h3 id="对比差异"><a href="#对比差异" class="headerlink" title="对比差异"></a>对比差异</h3><h4 id="参考的Demo："><a href="#参考的Demo：" class="headerlink" title="参考的Demo："></a>参考的Demo：</h4><ul>
<li>博客： <a href="http://blog.csdn.net/wenmingzheng/article/details/50483502" target="_blank" rel="noopener">UITableView的折叠收缩和QQ好友分组效果 @zhenwenming</a> </li>
<li><p><a href="https://github.com/zhengwenming/ExpandTableView" target="_blank" rel="noopener">GitHub源码</a>  </p>
</li>
<li><p>博主的Demo：</p>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071126.gif" alt></p>
</li>
<li><p>从 <strong>视图层次</strong>上看<br>通过分析代码，可以发现，该 <strong>ExpandTableView</strong> 折叠收缩的实现方式是：   </p>
<ul>
<li><strong>分组名</strong>：section 1 ——&gt; 显示在 <strong>UITableView对象</strong> 的 <strong>Header View</strong> 上；</li>
<li><strong>Header View</strong> 上 ——&gt; 用code画了一个 <strong>UIButton</strong></li>
<li><strong>UIButton</strong> 上 ——&gt; 用code分别画了 2个<strong>UIImageView</strong> 显示左右两边的图片，一个<strong>UILabel</strong>显示文字，底部又放了一张 <strong>Line</strong> 的图片显示分割线</li>
<li><strong>每组可展开/收缩的内容</strong>：section 11/12/13 ——&gt; 显示在 <strong>UITableView对象</strong> 的 <strong>UITableViewCell</strong> 上；然后<strong>UITableViewCell</strong>又是用Xib重新绘制了。</li>
<li>另外，我发现，该<strong>ExpandTableView</strong>中列表视图的父视图是基于<strong>UIViewController</strong>的，<strong>TableView</strong>也是code画上去的，而我自己创建的时候就直接把父视图设置为<strong>UITableViewController</strong>,这样就不用手动创建<strong>TableView</strong>了。</li>
</ul>
</li>
</ul>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071129.jpg" alt></p>
<h4 id="我写的Demo："><a href="#我写的Demo：" class="headerlink" title="我写的Demo："></a>我写的Demo：</h4><ul>
<li><a href="https://github.com/Andy0570/HQLTableViewDemo" target="_blank" rel="noopener">GitHub源码</a></li>
</ul>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071129.gif" alt></p>
<ul>
<li><strong>视图层次</strong>上的优化点,<ul>
<li><strong>UIButton</strong> 上,通过设置 <strong>UIButton</strong> 自带的 <strong>ImageView</strong> 和 <strong>Label</strong> 属性设置UI，通过设置两者的偏移量让其水平左右显示。</li>
<li><strong>Header View</strong> 底部的分割线也没有通过放图片来设置，而是通过设置 <strong>UIButton</strong> 的背景为灰色，设置 <strong>Footer View</strong> 的高度为1，巧妙的显示了分割线。</li>
</ul>
</li>
</ul>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071132.jpg" alt></p>
<h3 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h3><p>该可展开折叠的 <strong>TableView</strong> 通过 <strong>Header View</strong> 上的 <strong>Button</strong> 点击来实现 ，而每组的展开/折叠状态用1/0标记并存放在Flag数组中，每按一下<strong>Button</strong>，就修改一下Flag值，然后重新加载<strong>section</strong>,就实现分组展开收缩的动作了。<br>更多细节先参考源码吧： <a href="https://github.com/Andy0570/HQLTableViewDemo" target="_blank" rel="noopener">GitHub源码</a></p>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a href="http://www.jianshu.com/p/9eed61eb6a64" target="_blank" rel="noopener">TableView的cell折叠和展开</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/23/JSON校验/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/23/JSON校验/" class="post-title-link" itemprop="url">JSON校验</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-23 14:03:00" itemprop="dateCreated datePublished" datetime="2016-12-23T14:03:00+08:00">2016-12-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/23/JSON校验/" class="leancloud_visitors" data-flag-title="JSON校验">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">34</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p><a href="http://www.bejson.com" target="_blank" rel="noopener">在线JSON校验格式化工具</a></p>
</li>
<li><p><a href="http://blog.csdn.net/enuola/article/details/7903632/" target="_blank" rel="noopener">IOS中Json解析的四种方法</a></p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/22/iOS 10 人机界面指南/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/22/iOS 10 人机界面指南/" class="post-title-link" itemprop="url">iOS 10 人机界面指南</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-22 13:08:00" itemprop="dateCreated datePublished" datetime="2016-12-22T13:08:00+08:00">2016-12-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-资源/" itemprop="url" rel="index"><span itemprop="name">iOS 资源</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/22/iOS 10 人机界面指南/" class="leancloud_visitors" data-flag-title="iOS 10 人机界面指南">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">177</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p><img src="http://25.io/smaller/favicon.ico" alt="以下资源非原创，摘自各种公众号或网络，仅用于学习交流get新技能，方便日常查阅，无任何商业及侵权目的！" title="Title here"></p>
<h3 id="官方原文"><a href="#官方原文" class="headerlink" title="官方原文"></a>官方原文</h3><ul>
<li><a href="https://developer.apple.com/ios/human-interface-guidelines/#//apple_ref/doc/uid/TP40006556-CH27-SW1" target="_blank" rel="noopener">iOS Human Interface Guidelines</a></li>
</ul>
<h3 id="译文"><a href="#译文" class="headerlink" title="译文"></a>译文</h3><ul>
<li><a href="http://www.woshipm.com/pd/357869.html" target="_blank" rel="noopener">译文 | iOS 10 人机界面指南 （一）</a></li>
<li><a href="http://www.woshipm.com/ucd/363662.html" target="_blank" rel="noopener">译文 | iOS 10 人机界面指南（二）</a></li>
<li><a href="http://www.woshipm.com/pd/411827.html" target="_blank" rel="noopener">译文｜iOS 10 人机界面指南（三）</a></li>
<li><a href="http://www.woshipm.com/pd/411838.html" target="_blank" rel="noopener">译文｜iOS 10 人机界面指南（四）</a></li>
<li><a href="http://www.woshipm.com/ucd/639614.html" target="_blank" rel="noopener">译文 | iOS 10 人机界面指南 （完结）</a></li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><a href="https://isux.tencent.com/ios-10-design-trends.html" target="_blank" rel="noopener">从iOS 10设计指南变化看设计的新趋势</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/14/AFNetworking 源码阅读/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/14/AFNetworking 源码阅读/" class="post-title-link" itemprop="url">AFNetworking 源码阅读</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-14 14:54:00" itemprop="dateCreated datePublished" datetime="2016-12-14T14:54:00+08:00">2016-12-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/14/AFNetworking 源码阅读/" class="leancloud_visitors" data-flag-title="AFNetworking 源码阅读">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">681</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<ul>
<li>GitHub源码:<a href="https://github.com/AFNetworking/AFNetworking" target="_blank" rel="noopener">AFNetworking</a></li>
<li>star:29800+</li>
</ul>
<h3 id="AFNetworking-源码阅读"><a href="#AFNetworking-源码阅读" class="headerlink" title="AFNetworking 源码阅读"></a>AFNetworking 源码阅读</h3><ul>
<li><a href="http://www.jianshu.com/p/4f8333ee3879" target="_blank" rel="noopener">AFNetworking源码——基本架构</a></li>
</ul>
<ul>
<li><a href="http://www.jianshu.com/p/0dd08712c649" target="_blank" rel="noopener">iOS-网络编程(一)HTTP协议 @xx_cc</a></li>
<li><a href="http://www.jianshu.com/p/78964aac72d5" target="_blank" rel="noopener">iOS-网络编程(二)文件上传和断点离线下载 @xx_cc</a></li>
<li><a href="http://www.jianshu.com/p/d94cb6b58573" target="_blank" rel="noopener">iOS-网络编程(三)AFNetworking使用 @xx_cc</a></li>
</ul>
<hr>
<ul>
<li><a href="http://www.jianshu.com/p/856f0e26279d" target="_blank" rel="noopener">AFNetworking到底做了什么？ @ 涂耀辉 </a></li>
<li><a href="http://www.jianshu.com/p/f32bd79233da" target="_blank" rel="noopener">AFNetworking到底做了什么？(二)  @ 涂耀辉 </a></li>
<li><a href="http://www.jianshu.com/p/a84237b07611" target="_blank" rel="noopener">AFNetworking之于https认证 @ 涂耀辉</a></li>
<li><a href="http://www.jianshu.com/p/4ffeb1ba3046" target="_blank" rel="noopener">AFNetworking之UIKit扩展与缓存实现 @ 涂耀辉</a></li>
<li><a href="http://www.jianshu.com/p/7ed7c0be15b4" target="_blank" rel="noopener">AFNetworking到底做了什么？(终)</a></li>
</ul>
<hr>
<ul>
<li><a href="http://www.superqq.com/blog/2015/01/29/ioskai-fa-xia-zai-wen-jian-su-du-ji-suan/" target="_blank" rel="noopener">iOS开发下载文件速度计算</a></li>
<li><a href="http://www.cocoachina.com/ios/20151022/13831.html" target="_blank" rel="noopener">AFNetworking 3.0迁移指南</a></li>
<li><a href="http://www.cocoachina.com/ios/20140829/9480.html" target="_blank" rel="noopener">AFNetworking2.0源码解析&lt;一&gt;</a></li>
<li><a href="http://www.cocoachina.com/ios/20140904/9523.html" target="_blank" rel="noopener">AFNetworking2.0源码解析&lt;二&gt;</a></li>
<li><a href="http://www.cocoachina.com/ios/20140916/9632.html" target="_blank" rel="noopener">AFNetworking源码解析&lt;三&gt;</a></li>
<li><a href="http://www.cocoachina.com/ios/20141120/10265.html" target="_blank" rel="noopener">AFNetworking源码解析&lt;四&gt;</a></li>
</ul>
<ul>
<li><a href="http://www.jianshu.com/p/e52b713a15c2" target="_blank" rel="noopener">AFNetworking粗解(解析) @游峰</a></li>
<li><a href="https://github.com/SmithCaoCao/Translation/blob/master/README.md" target="_blank" rel="noopener">AFNetWorking是如何进行数据缓存的?之AFImageCache &amp; NSURLCache 详解</a></li>
<li><a href="http://www.infoq.com/cn/articles/afn_vs_asi" target="_blank" rel="noopener">对比iOS网络组件：AFNetworking VS ASIHTTPRequest @gaosboy</a></li>
</ul>
<hr>
<h3 id="关于SSL"><a href="#关于SSL" class="headerlink" title="关于SSL"></a>关于SSL</h3><ul>
<li><a href="http://www.jianshu.com/p/36ddc5b009a7" target="_blank" rel="noopener">iOS 10 适配 ATS（app支持https通过App Store审核）@SN_Simon</a></li>
<li><a href="http://www.cnblogs.com/jys509/p/5001566.html" target="_blank" rel="noopener">iOS 开发笔记-AFNetWorking https SSL认证</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/12/Expressions - 正则表达式工具/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/12/Expressions - 正则表达式工具/" class="post-title-link" itemprop="url">Expressions - 正则表达式工具</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-12 00:20:00" itemprop="dateCreated datePublished" datetime="2016-12-12T00:20:00+08:00">2016-12-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/12/Expressions - 正则表达式工具/" class="leancloud_visitors" data-flag-title="Expressions - 正则表达式工具">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">15k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">14 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071159.png" alt></p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2016/12/12/Expressions - 正则表达式工具/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/09/SDCycleScrollView——无限循环图片、文字轮播器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/09/SDCycleScrollView——无限循环图片、文字轮播器/" class="post-title-link" itemprop="url">SDCycleScrollView——无限循环图片、文字轮播器</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-09 09:10:00" itemprop="dateCreated datePublished" datetime="2016-12-09T09:10:00+08:00">2016-12-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/09/SDCycleScrollView——无限循环图片、文字轮播器/" class="leancloud_visitors" data-flag-title="SDCycleScrollView——无限循环图片、文字轮播器">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">8.2k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">7 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<ul>
<li>GitHub源码：<a href="https://github.com/gsdios/SDCycleScrollView" target="_blank" rel="noopener">SDCycleScrollView</a></li>
<li>star：4100+</li>
</ul>
<blockquote>
<pre><code>⭐️⭐️⭐️ 
</code></pre><p>以下内容来源于官方源码、 README 文档、测试 Demo或个人使用总结 ！</p>
</blockquote>
<ul>
<li>Demo用法：</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ViewController.m</span></span><br><span class="line"><span class="comment">//  SDCycleScrollView</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by aier on 15-3-22.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2015年 GSD. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> *********************************************************************************</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 🌟🌟🌟 新建SDCycleScrollView交流QQ群：185534916 🌟🌟🌟</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 在您使用此自动轮播库的过程中如果出现bug请及时以以下任意一种方式联系我们，我们会及时修复bug并</span></span><br><span class="line"><span class="comment"> * 帮您解决问题。</span></span><br><span class="line"><span class="comment"> * 新浪微博:GSD_iOS</span></span><br><span class="line"><span class="comment"> * Email : gsdios@126.com</span></span><br><span class="line"><span class="comment"> * GitHub: https://github.com/gsdios</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 另（我的自动布局库SDAutoLayout）：</span></span><br><span class="line"><span class="comment"> *  一行代码搞定自动布局！支持Cell和Tableview高度自适应，Label和ScrollView内容自适应，致力于</span></span><br><span class="line"><span class="comment"> *  做最简单易用的AutoLayout库。</span></span><br><span class="line"><span class="comment"> * 视频教程：http://www.letv.com/ptv/vplay/24038772.html</span></span><br><span class="line"><span class="comment"> * 用法示例：https://github.com/gsdios/SDAutoLayout/blob/master/README.md</span></span><br><span class="line"><span class="comment"> * GitHub：https://github.com/gsdios/SDAutoLayout</span></span><br><span class="line"><span class="comment"> *********************************************************************************</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"SDCycleScrollView.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> () &lt;<span class="title">SDCycleScrollViewDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0.98</span> green:<span class="number">0.98</span> blue:<span class="number">0.98</span> alpha:<span class="number">0.99</span>];</span><br><span class="line">    <span class="built_in">UIImageView</span> *backgroundView = [[<span class="built_in">UIImageView</span> alloc] initWithImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"005.jpg"</span>]];</span><br><span class="line">    backgroundView.frame = <span class="keyword">self</span>.view.bounds;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:backgroundView];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIScrollView</span> *demoContainerView = [[<span class="built_in">UIScrollView</span> alloc] initWithFrame:<span class="keyword">self</span>.view.frame];</span><br><span class="line">    demoContainerView.contentSize = <span class="built_in">CGSizeMake</span>(<span class="keyword">self</span>.view.frame.size.width, <span class="number">1200</span>);</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:demoContainerView];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.title = <span class="string">@"轮播Demo"</span>;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 情景一：采用本地图片实现</span></span><br><span class="line">    <span class="built_in">NSArray</span> *imageNames = @[<span class="string">@"h1.jpg"</span>,</span><br><span class="line">                            <span class="string">@"h2.jpg"</span>,</span><br><span class="line">                            <span class="string">@"h3.jpg"</span>,</span><br><span class="line">                            <span class="string">@"h4.jpg"</span>,</span><br><span class="line">                            <span class="string">@"h7"</span> <span class="comment">// 本地图片请填写全名</span></span><br><span class="line">                            ];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 情景二：采用网络图片实现</span></span><br><span class="line">    <span class="built_in">NSArray</span> *imagesURLStrings = @[</span><br><span class="line">                           <span class="string">@"https://ss2.baidu.com/-vo3dSag_xI4khGko9WTAnF6hhy/super/whfpf%3D425%2C260%2C50/sign=a4b3d7085dee3d6d2293d48b252b5910/0e2442a7d933c89524cd5cd4d51373f0830200ea.jpg"</span>,</span><br><span class="line">                           <span class="string">@"https://ss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/super/whfpf%3D425%2C260%2C50/sign=a41eb338dd33c895a62bcb3bb72e47c2/5fdf8db1cb134954a2192ccb524e9258d1094a1e.jpg"</span>,</span><br><span class="line">                           <span class="string">@"http://c.hiphotos.baidu.com/image/w%3D400/sign=c2318ff84334970a4773112fa5c8d1c0/b7fd5266d0160924c1fae5ccd60735fae7cd340d.jpg"</span></span><br><span class="line">                           ];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 情景三：图片配文字</span></span><br><span class="line">    <span class="built_in">NSArray</span> *titles = @[<span class="string">@"新建交流QQ群：185534916 "</span>,</span><br><span class="line">                        <span class="string">@"感谢您的支持，如果下载的"</span>,</span><br><span class="line">                        <span class="string">@"如果代码在使用过程中出现问题"</span>,</span><br><span class="line">                        <span class="string">@"您可以发邮件到gsdios@126.com"</span></span><br><span class="line">                        ];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGFloat</span> w = <span class="keyword">self</span>.view.bounds.size.width;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; demo轮播图1 &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 本地加载 --- 创建不带标题的图片轮播器</span></span><br><span class="line">    <span class="built_in">CGRect</span> rect1 = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">64</span>, w, <span class="number">180</span>);</span><br><span class="line">    SDCycleScrollView *cycleScrollView = [SDCycleScrollView</span><br><span class="line">                                          cycleScrollViewWithFrame:rect1</span><br><span class="line">                                          shouldInfiniteLoop:<span class="literal">YES</span></span><br><span class="line">                                          imageNamesGroup:imageNames];</span><br><span class="line">    cycleScrollView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    cycleScrollView.pageControlStyle = SDCycleScrollViewPageContolStyleAnimated;</span><br><span class="line">    [demoContainerView addSubview:cycleScrollView];</span><br><span class="line">    cycleScrollView.scrollDirection = <span class="built_in">UICollectionViewScrollDirectionVertical</span>;</span><br><span class="line">    <span class="comment">//         --- 轮播时间间隔，默认1.0秒，可自定义</span></span><br><span class="line">    cycleScrollView.autoScrollTimeInterval = <span class="number">4.0</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">// &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; demo轮播图2 &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 网络加载 --- 创建带标题的图片轮播器</span></span><br><span class="line">    <span class="built_in">CGRect</span> rect2 = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">280</span>, w, <span class="number">180</span>);</span><br><span class="line">    <span class="built_in">UIImage</span> *image2 = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"placeholder"</span>];</span><br><span class="line">    SDCycleScrollView *cycleScrollView2 = [SDCycleScrollView</span><br><span class="line">                                           cycleScrollViewWithFrame:rect2</span><br><span class="line">                                           delegate:<span class="keyword">self</span></span><br><span class="line">                                           placeholderImage:image2];</span><br><span class="line">    </span><br><span class="line">    cycleScrollView2.pageControlAliment = SDCycleScrollViewPageContolAlimentRight;</span><br><span class="line">    cycleScrollView2.titlesGroup = titles;</span><br><span class="line">    cycleScrollView2.currentPageDotColor = [<span class="built_in">UIColor</span> whiteColor]; <span class="comment">// 自定义分页控件小圆标颜色</span></span><br><span class="line">    [demoContainerView addSubview:cycleScrollView2];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//         --- 模拟加载延迟</span></span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="number">0.3</span> * <span class="built_in">NSEC_PER_SEC</span>)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        cycleScrollView2.imageURLStringsGroup = imagesURLStrings;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     block监听点击方式</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     cycleScrollView2.clickItemOperationBlock = ^(NSInteger index) &#123;</span></span><br><span class="line"><span class="comment">        NSLog(@"&gt;&gt;&gt;&gt;&gt;  %ld", (long)index);</span></span><br><span class="line"><span class="comment">     &#125;;</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">// &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; demo轮播图3 &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 网络加载 --- 创建自定义图片的pageControlDot的图片轮播器</span></span><br><span class="line">    <span class="built_in">CGRect</span> rect3 = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">500</span>, w, <span class="number">180</span>);</span><br><span class="line">    <span class="built_in">UIImage</span> *image3 = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"placeholder"</span>];</span><br><span class="line">    SDCycleScrollView *cycleScrollView3 = [SDCycleScrollView</span><br><span class="line">                                           cycleScrollViewWithFrame:rect3</span><br><span class="line">                                           delegate:<span class="keyword">self</span></span><br><span class="line">                                           placeholderImage:image3];</span><br><span class="line">    cycleScrollView3.currentPageDotImage = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"pageControlCurrentDot"</span>];</span><br><span class="line">    cycleScrollView3.pageDotImage = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"pageControlDot"</span>];</span><br><span class="line">    cycleScrollView3.imageURLStringsGroup = imagesURLStrings;</span><br><span class="line">    </span><br><span class="line">    [demoContainerView addSubview:cycleScrollView3];</span><br><span class="line">    </span><br><span class="line"><span class="comment">// &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; demo轮播图4 &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 网络加载 --- 创建只上下滚动展示文字的轮播器</span></span><br><span class="line">    <span class="comment">// 由于模拟器的渲染问题，如果发现轮播时有一条线不必处理，模拟器放大到100%或者真机调试是不会出现那条线的</span></span><br><span class="line">    <span class="built_in">CGRect</span> rect4 = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">750</span>, w, <span class="number">40</span>);</span><br><span class="line">    SDCycleScrollView *cycleScrollView4 = [SDCycleScrollView</span><br><span class="line">                                           cycleScrollViewWithFrame:rect4</span><br><span class="line">                                           delegate:<span class="keyword">self</span></span><br><span class="line">                                           placeholderImage:<span class="literal">nil</span>];</span><br><span class="line">    cycleScrollView4.scrollDirection = <span class="built_in">UICollectionViewScrollDirectionVertical</span>;</span><br><span class="line">    cycleScrollView4.onlyDisplayText = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *titlesArray = [<span class="built_in">NSMutableArray</span> new];</span><br><span class="line">    [titlesArray addObject:<span class="string">@"纯文字上下滚动轮播"</span>];</span><br><span class="line">    [titlesArray addObject:<span class="string">@"纯文字上下滚动轮播 -- demo轮播图4"</span>];</span><br><span class="line">    [titlesArray addObjectsFromArray:titles];</span><br><span class="line">    cycleScrollView4.titlesGroup = [titlesArray <span class="keyword">copy</span>];</span><br><span class="line">    </span><br><span class="line">    [demoContainerView addSubview:cycleScrollView4];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 如果你发现你的CycleScrollview会在viewWillAppear时图片卡在中间位置，你可以调用此方法调整图片位置</span></span><br><span class="line"><span class="comment">//    [你的CycleScrollview adjustWhenControllerViewWillAppera];</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - SDCycleScrollViewDelegate</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)cycleScrollView:(SDCycleScrollView *)cycleScrollView didSelectItemAtIndex:(<span class="built_in">NSInteger</span>)index</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"---点击了第%ld张图片"</span>, (<span class="keyword">long</span>)index);</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:[<span class="built_in">NSClassFromString</span>(<span class="string">@"DemoVCWithXib"</span>) new] animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">// 滚动到第几张图回调</span></span><br><span class="line"><span class="comment">- (void)cycleScrollView:(SDCycleScrollView *)cycleScrollView didScrollToIndex:(NSInteger)index</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    NSLog(@"&gt;&gt;&gt;&gt;&gt;&gt; 滚动到第%ld张图", (long)index);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/12/08/PXAlertView——弹出视图（Popup-View）,替换UIAlertView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/12/08/PXAlertView——弹出视图（Popup-View）,替换UIAlertView/" class="post-title-link" itemprop="url">PXAlertView——弹出视图（Popup-View）,替换UIAlertView</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-08 16:51:00" itemprop="dateCreated datePublished" datetime="2016-12-08T16:51:00+08:00">2016-12-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/12/08/PXAlertView——弹出视图（Popup-View）,替换UIAlertView/" class="leancloud_visitors" data-flag-title="PXAlertView——弹出视图（Popup-View）,替换UIAlertView">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">227</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<ul>
<li>GitHub源码:<a href="https://github.com/alexanderjarvis/PXAlertView" target="_blank" rel="noopener">PXAlertView</a></li>
<li>star:600+</li>
</ul>
<p>PXAlertView用来替换UIAlertView替换，有iOS 7风格，但是具有基于Block的API，并且能够自定义样式并添加自定义视图。</p>
<blockquote>
<p>UIAlertView在iOS 8中已弃用。（请注意，UIAlertViewDelegate也已弃用。）要在iOS 8及更高版本中创建和管理警报，请代替使用具有警报的preferredStyle的UIAlertController。</p>
</blockquote>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071029.gif" alt></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/26/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><span class="page-number current">27</span><a class="page-number" href="/page/28/">28</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/28/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png" alt="独木舟的木">
            
              <p class="site-author-name" itemprop="name">独木舟的木</p>
              <div class="site-description motion-element" itemprop="description">有时候阳光很好 有时候阳光很暗</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">317</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">36</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Andy0570" title="GitHub &rarr; https://github.com/Andy0570" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:andywhm@163.com" title="E-Mail &rarr; mailto:andywhm@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">独木舟的木</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="站点总字数">2.2m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="站点阅读时长">32:37</span>
  
</div>



  <span id="busuanzi_container_site_uv">
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
  </span>
  <span class="post-meta-divider">|</span>

  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





  



  






  



  
    
    
      
    
  
  <script color="17,119,176" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script>













  
  <script src="//cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  
  
  
    
  

  
    
      
    
  

  
  
  
    <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
    <script>
      
        window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://andy0570.com/page/27/',]
        });
      
        });
      
    </script>
  


  



  



  
  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">

  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js"></script>
  

  <script src="/js/algolia-search.js?v=7.1.0"></script>



  
  
  <script>
    
    function showTime(Counter) {
      var entries = [];
      var $visitors = $('.leancloud_visitors');

      $visitors.each(function() {
        entries.push( $(this).attr('id').trim() );
      });

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url: { '$in': entries } }) })
        .done(function({ results }) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz',
                'X-LC-Key': 'brOnU8mOQvSjpipJvdKUAIbU',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            if ($('.post-title-link').length >= 1) {
              showTime(Counter);
            }
          
        });
    });
  </script>



  

  

  

  

  

  

  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script>pangu.spacingPage();</script>


  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script>
  <script>
  
    bookmark.loadBookmark();
  
  </script>


  

  

  
  
</body>
</html>

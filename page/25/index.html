<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">



  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css">













  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">







  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/panda/apple-touch-icon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/panda/favicon-32x32.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/panda/favicon-16x16.png?v=7.1.0">


  <link rel="mask-icon" href="/images/panda/safari-pinned-tab.svg?v=7.1.0" color="#222">


  <link rel="manifest" href="/images/panda/site.webmanifest">


  <meta name="msapplication-config" content="/images/panda/browserconfig.xml">





<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: true,
    lazyload: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="有时候阳光很好 有时候阳光很暗">
<meta name="keywords" content="独木舟的木">
<meta property="og:type" content="website">
<meta property="og:title" content="独木舟的木">
<meta property="og:url" content="https://andy0570.com/page/25/index.html">
<meta property="og:site_name" content="独木舟的木">
<meta property="og:description" content="有时候阳光很好 有时候阳光很暗">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="独木舟的木">
<meta name="twitter:description" content="有时候阳光很好 有时候阳光很暗">



  <link rel="alternate" href="/atom.xml" title="独木舟的木" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://andy0570.com/page/25/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>独木舟的木</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8229a094facca297f211d61323fd9fde";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/andy0570" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">独木舟的木</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">iOS Developer</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">14</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">57</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">310</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/25/iOS 编程：Xcode 使用技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/25/iOS 编程：Xcode 使用技巧/" class="post-title-link" itemprop="url">iOS 编程：Xcode 使用技巧</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-25 00:33:00" itemprop="dateCreated datePublished" datetime="2017-02-25T00:33:00+08:00">2017-02-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-17 16:00:09" itemprop="dateModified" datetime="2019-04-17T16:00:09+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/25/iOS 编程：Xcode 使用技巧/" class="leancloud_visitors" data-flag-title="iOS 编程：Xcode 使用技巧">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h2 id="Xcode菜单"><a href="#Xcode菜单" class="headerlink" title="Xcode菜单"></a>Xcode菜单</h2><ul>
<li><a href="http://www.jianshu.com/p/9012033d2a1a" target="_blank" rel="noopener">Xcode(v 8.3.3)菜单栏选项及作用介绍 @楚简约</a></li>
<li><a href="http://blog.csdn.net/phunxm/article/details/17044337" target="_blank" rel="noopener"><a href="http://blog.csdn.net/phunxm/article/details/17044337" target="_blank" rel="noopener">Xcode基本操作 @曾梦想仗剑走天涯</a></a></li>
</ul>
<h2 id="Xcode快捷键"><a href="#Xcode快捷键" class="headerlink" title="Xcode快捷键"></a>Xcode快捷键</h2><ul>
<li><a href="https://support.apple.com/zh-cn/HT201236" target="_blank" rel="noopener">Mac 键盘快捷键 - Apple 支持</a></li>
<li><a href="https://www.jianshu.com/p/46621caaf8ba" target="_blank" rel="noopener">提升 iOS 开发效率的一些 keys（持续更新)</a> ⭐️⭐️⭐️</li>
<li><a href="http://www.cocoachina.com/ios/20170217/18713.html" target="_blank" rel="noopener">让您的Xcode键字如飞</a></li>
</ul>
<table>
<thead>
<tr>
<th>常用快捷键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>command + shift + N</td>
<td>新建项目</td>
</tr>
<tr>
<td>command + N</td>
<td>新建文件</td>
</tr>
<tr>
<td>command + delete</td>
<td>删除一行</td>
</tr>
<tr>
<td>command + Z</td>
<td>撤销上一步操作</td>
</tr>
<tr>
<td>command + /</td>
<td>注释</td>
</tr>
<tr>
<td>command + ] 或者 [</td>
<td>前后缩进</td>
</tr>
<tr>
<td>command + option + ] 或者 [</td>
<td>一行代码上下移动</td>
</tr>
<tr>
<td>command + control + 上下方向键</td>
<td>.h .m 文件切换</td>
</tr>
<tr>
<td>command + 左右方向键</td>
<td>光标移动到行头或行尾</td>
</tr>
<tr>
<td>command + control + 左右方向键</td>
<td>后退和前进</td>
</tr>
<tr>
<td>command + R</td>
<td>运行</td>
</tr>
<tr>
<td>command + B</td>
<td>编译</td>
</tr>
<tr>
<td>command + shift + k</td>
<td>clean缓存</td>
</tr>
<tr>
<td>shift + 上下⽅方向键</td>
<td>选中代码</td>
</tr>
<tr>
<td>command + ,</td>
<td>打开偏好设置</td>
</tr>
<tr>
<td>command + option + Enter</td>
<td>显示辅助编辑器</td>
</tr>
<tr>
<td>command + Enter</td>
<td>返回标准编辑器</td>
</tr>
<tr>
<td>command + 0</td>
<td>打开/隐藏左侧导航区域</td>
</tr>
<tr>
<td>command + option + 0</td>
<td>打开/隐藏右侧工具区域</td>
</tr>
<tr>
<td>command + shift + Y</td>
<td>打开/隐藏下方调试区域</td>
</tr>
<tr>
<td>command + shift + o</td>
<td>弹出快速查找文件窗口</td>
</tr>
<tr>
<td>command + shift + 0</td>
<td>打开官方文档窗口</td>
</tr>
</tbody>
</table>
<h2 id="日常开发技巧"><a href="#日常开发技巧" class="headerlink" title="日常开发技巧"></a>日常开发技巧</h2><h3 id="修改工程名、类名"><a href="#修改工程名、类名" class="headerlink" title="修改工程名、类名"></a>修改工程名、类名</h3><p><a href="http://www.jianshu.com/p/789e7740176c" target="_blank" rel="noopener">Xcode里修改工程名、类名☀️</a></p>
<h3 id="Xcode-环境配置"><a href="#Xcode-环境配置" class="headerlink" title="Xcode 环境配置"></a>Xcode 环境配置</h3><p><a href="https://github.com/xitu/gold-miner/blob/master/TODO/effective-environment-switching-in-ios.md" target="_blank" rel="noopener">Xcode 环境配置最佳实践</a></p>
<h3 id="代码区样式设置"><a href="#代码区样式设置" class="headerlink" title="代码区样式设置"></a>代码区样式设置</h3><p>进入 Xcode 偏好设置（快捷键 <strong>⌘+,</strong> ），切换至字体颜色与设置面板（<strong>Fonts &amp; Colors</strong>）,你可以选择预设的几个风格，也可以尝试自定义配色，比如我们要把背景色换成苹果绿，则需要把 <strong>Background</strong> 这一项的Hex color值设置为<strong>#C7EDCC</strong> ：</p>
<p> <img src="http://upload-images.jianshu.io/upload_images/2648731-4f6f09e5a6579938.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="快速查找、切换文件"><a href="#快速查找、切换文件" class="headerlink" title="快速查找、切换文件"></a>快速查找、切换文件</h3><p>当你工作在一个庞大的项目中时，使用【<strong>快速打开</strong>】功能可以为你提供很大的便利。</p>
<p>具体方法是：打开 <strong>File</strong> 菜单，选择 <strong>Open Quickly</strong> 子菜单（快捷键：<strong>⌘+Shift+O</strong> ），输入关键字即可过滤文件，按回车键（⏎）即可快速打开切换到该文件：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-b78774a05a0ec201.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="快速更改同名变量"><a href="#快速更改同名变量" class="headerlink" title="快速更改同名变量"></a>快速更改同名变量</h3><ol>
<li>在代码编辑区域，点击定位需要更改名称的变量；</li>
<li>打开 <strong>Edit</strong> 菜单，选择 <strong>Refactor</strong> 子菜单中的 <strong>Rename…</strong> 命令。 此命令允许您统一修改文档中的某个变量。</li>
<li>输入该变量的新名称 —&gt; 预览 —&gt; 保存。</li>
</ol>
<h3 id="统一修改某一方法内某一变量名"><a href="#统一修改某一方法内某一变量名" class="headerlink" title="统一修改某一方法内某一变量名"></a>统一修改某一方法内某一变量名</h3><p>快捷键：<code>Cmd + Control +e</code></p>
<ol>
<li>在方法中，点击选择变量名；</li>
<li>打开 <strong>Editor</strong> 菜单，选择 <strong>Edit All in Scope</strong> 命令。 在目标区域内编辑全部子菜单。</li>
<li>点击键盘修改变量名，所有同名变量就会被同步更改。</li>
</ol>
<h3 id="选中整个方法体"><a href="#选中整个方法体" class="headerlink" title="选中整个方法体"></a>选中整个方法体</h3><p>打开 <strong>Editor</strong> 菜单，选择 <strong>Structure</strong> 子菜单中的 <strong>Balance Delimiter…</strong> 命令。平衡界定符命令能帮助你选择整个方法体。</p>
<h3 id="代码的查找和替换"><a href="#代码的查找和替换" class="headerlink" title="代码的查找和替换"></a>代码的查找和替换</h3><ol>
<li>打开 <strong>Find</strong> 菜单，选择 <strong>Find and Replace</strong> 子菜单。 </li>
<li>输入要查找的关键词和要替换的新名称。</li>
<li>你可以选择替换当前的代码和所有符合的代码。</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-6eb38f2aa93ea95b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h3 id="将代码段提取为方法"><a href="#将代码段提取为方法" class="headerlink" title="将代码段提取为方法"></a>将代码段提取为方法</h3><ol>
<li>拖动选中需要提取的代码；</li>
<li>打开 <strong>Edit</strong> 菜单，选择 <strong>Refactor</strong> 子菜单中的 <strong>Extract…</strong> 命令。此命令允许您将一段代码转化为一个方法。</li>
<li>输入新建的方法名称 —&gt; <strong>Preview</strong>预览 —&gt; 保存。</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-e9875eeae3066304.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>提取后的结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (void)addImage &#123;</span><br><span class="line">    UIImage *image = [UIImage imageNamed:@&quot;github&quot;];</span><br><span class="line">    UIImageView *imageView = [[UIImageView alloc] initWithImage:image];</span><br><span class="line">    [self.view addSubview:imageView];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    [self addImage];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)didReceiveMemoryWarning &#123;</span><br><span class="line">    [super didReceiveMemoryWarning];</span><br><span class="line">    // Dispose of any resources that can be recreated.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="代码自动补全"><a href="#代码自动补全" class="headerlink" title="代码自动补全"></a>代码自动补全</h3><p>这个是最常用的方法了：</p>
<ol>
<li>打开 <strong>Editor</strong> 菜单，选择 <strong>Show Completions</strong> 命令（快捷键 <strong>ESC</strong> ）。 </li>
<li>Xcode就会列出所有可能的方法供我们选择。</li>
</ol>
<h3 id="代码方法块的折叠"><a href="#代码方法块的折叠" class="headerlink" title="代码方法块的折叠"></a>代码方法块的折叠</h3><p> 先定位到某一方法体中，打开 <strong>Edit</strong> 菜单，选择 <strong>Code Folding</strong> 子菜单:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-5f0f76fb08cfde2b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ul>
<li><strong>Fold  / Unfold</strong> :折叠／显示当前方法体中的所有代码行；</li>
<li><strong>Fold   / Unfold Methods &amp; Functions</strong> :折叠／显示所有方法体中的所有代码行；</li>
<li><strong>Fold    / Unfold Comment Blocks</strong> :折叠／显示注释块；</li>
<li><strong>Focus Follows Selection</strong> :专注于当前方法体。</li>
</ul>
<h2 id="代码整洁小技巧-pragma-mark"><a href="#代码整洁小技巧-pragma-mark" class="headerlink" title="代码整洁小技巧#pragma mark"></a>代码整洁小技巧#pragma mark</h2><p>pragma 预处理指令的两个作用：</p>
<ol>
<li>整理代码；</li>
<li>防止编译器警告；</li>
</ol>
<p><strong>#pragam mark</strong> 一般是写在方法与方法之间的预处理指令，类似于起注释说明作用。</p>
<p>但是，重要的是，使用 <strong>#pragam mark</strong> 预处理指令可以将方法按照功能分组，使代码更整洁、更具有逻辑性。而且查找起来也非常方便。</p>
<p> <strong>#pragam mark</strong> 不会对代码本身起任何作用，但是Xcode会根据 <strong>#pragam mark</strong> 组织文件中的方法。使用 <strong>#pragam mark</strong> 后，代码编辑器中的跳转栏是这样显示的：</p>
<p> <img src="http://upload-images.jianshu.io/upload_images/2648731-c450f803ff172a48.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="代码编辑器中的跳转栏"></p>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><h4 id="添加分割线"><a href="#添加分割线" class="headerlink" title="* 添加分割线"></a>* 添加分割线</h4><blockquote>
<p> #pragma mark — </p>
</blockquote>
<h4 id="添加功能说明"><a href="#添加功能说明" class="headerlink" title="* 添加功能说明"></a>* 添加功能说明</h4><blockquote>
<p> #pragma mark 自定义的方法</p>
</blockquote>
<h4 id="同时添加分割线和功能说明"><a href="#同时添加分割线和功能说明" class="headerlink" title="* 同时添加分割线和功能说明"></a>* 同时添加分割线和功能说明</h4><blockquote>
<p> #pragma mark — 自定义的方法（注意留空格）</p>
</blockquote>
<h3 id="推荐的代码组织方式："><a href="#推荐的代码组织方式：" class="headerlink" title="推荐的代码组织方式："></a>推荐的代码组织方式：</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-75835938d9c5a2fb.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>经常使用 <strong>#pragam mark</strong> ，可以使代码更加清晰有条理。一旦之后需要重新审查代码，就会感受到事先使用了 <strong>#pragam mark</strong> 的好处。</p>
<h3 id="推荐阅读"><a href="#推荐阅读" class="headerlink" title="推荐阅读"></a>推荐阅读</h3><ul>
<li><a href="http://nshipster.cn/pragma/" target="_blank" rel="noopener">nshipster: #pragma</a><br><a href="https://github.com/NYTimes/objective-c-style-guide" target="_blank" rel="noopener">纽约时报 移动团队 Objective-C 规范指南</a></li>
<li><a href="http://www.imooc.com/article/1216" target="_blank" rel="noopener">Objective-C编码规范：26个方面解决iOS开发问题</a></li>
<li><a href="https://github.com/oa414/objc-zen-book-cn/" target="_blank" rel="noopener">禅与 Objective-C 编程艺术 （Zen and the Art of the Objective-C Craftsmanship 中文翻译）</a></li>
<li><a href="https://github.com/Tim9Liu9/TimLiu-iOS/blob/master/OC代码规范总结.md" target="_blank" rel="noopener">OC代码规范总结</a></li>
<li><a href="http://www.cocoachina.com/ios/20170324/18950.html" target="_blank" rel="noopener">iOS中书写代码规范35条小建议</a></li>
</ul>
<h2 id="使用代码片段库"><a href="#使用代码片段库" class="headerlink" title="使用代码片段库"></a>使用代码片段库</h2><blockquote>
<h3 id="代码片段，顾名思义，就是一“块”嵌入的代码框架，提前将所需的代码框架放入代码片段库，可能发生改动的地方用代码补全占位符代替，使用时，用自定义的字符串触发相应代码片段，在占位符处填写所需代码即可完成高效率的开发。"><a href="#代码片段，顾名思义，就是一“块”嵌入的代码框架，提前将所需的代码框架放入代码片段库，可能发生改动的地方用代码补全占位符代替，使用时，用自定义的字符串触发相应代码片段，在占位符处填写所需代码即可完成高效率的开发。" class="headerlink" title="代码片段，顾名思义，就是一“块”嵌入的代码框架，提前将所需的代码框架放入代码片段库，可能发生改动的地方用代码补全占位符代替，使用时，用自定义的字符串触发相应代码片段，在占位符处填写所需代码即可完成高效率的开发。"></a><code>代码片段</code>，顾名思义，就是一“块”嵌入的代码框架，提前将所需的代码框架放入代码片段库，可能发生改动的地方用代码补全占位符代替，使用时，用自定义的字符串触发相应代码片段，在占位符处填写所需代码即可完成高效率的开发。</h3></blockquote>
<p>代码片段使用示例 <code>init:</code>：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-b68e27ca63afa67e.gif?imageMogr2/auto-orient/strip" alt></p>
<p>如果在某个 <strong>Objective-C</strong> 的实现文件中输入 <code>init</code> ，Xcode 就会自动列出一组备选项，其中包括 <code>init</code>  方法。选择后，Xcode 就会在当前位置加入一段 <code>init</code> 方法的默认实现代码。</p>
<p><strong>代码片段库</strong>（Code Snippet Library）位于 Xcode 的工具区域（快捷键：⌥⌘0）库面板选择条中的第二项。</p>
<p>直接打开工具区域和代码片段库面板的快捷键：<code>⌘⌃⌥2</code></p>
<p>在代码片段库中，Xcode 自带的代码片段是只读的，不能编辑，但是我们可以创建自定义的代码片段。</p>
<h3 id="添加自定义代码片段"><a href="#添加自定义代码片段" class="headerlink" title="添加自定义代码片段"></a>添加自定义代码片段</h3><h4 id="编辑窗口"><a href="#编辑窗口" class="headerlink" title="编辑窗口"></a>编辑窗口</h4><p>编写好你的代码片段之后，将选中的代码段拖拽至代码片段库 <strong>Code Snippet Library</strong> 中的编辑窗口如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-67f49af7d8e98a10.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<table>
<thead>
<tr>
<th>标题</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title</td>
<td>标题</td>
</tr>
<tr>
<td>Summary</td>
<td>描述概要说明</td>
</tr>
<tr>
<td>Platform</td>
<td>平台：All/ iOS/ Mac OS/ TV OS/ Watch OS</td>
</tr>
<tr>
<td>Language</td>
<td>代码语言：Objective-C 等</td>
</tr>
<tr>
<td>Completion Shortcut</td>
<td>代码片段的触发字符串（在源代码文件中输入该字符串后，会触发 <strong>Xcode</strong> 自动加入相应的代码片段）</td>
</tr>
<tr>
<td>Completion Scopes</td>
<td>代码使用范围：可选类接口部分、类实现部分等</td>
</tr>
</tbody>
</table>
<h3 id="代码补全占位符-lt-expression-gt"><a href="#代码补全占位符-lt-expression-gt" class="headerlink" title="代码补全占位符:&lt;#expression#&gt;"></a>代码补全占位符:<code>&lt;#expression#&gt;</code></h3><h3 id="自定义的代码片段"><a href="#自定义的代码片段" class="headerlink" title="自定义的代码片段"></a>自定义的代码片段</h3><h4 id="UITableViewDataSource"><a href="#UITableViewDataSource" class="headerlink" title="UITableViewDataSource"></a>UITableViewDataSource</h4><p>把如下一段通用的 <strong>UITableViewDataSource</strong> 方法选中拖拽入代码片段库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - UITableViewDataSource</span><br><span class="line"></span><br><span class="line">- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView &#123;</span><br><span class="line">    return &lt;#number of section#&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section &#123;</span><br><span class="line">    return &lt;#number of rows#&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:&lt;#@&quot;reuseIdentifier&quot;#&gt; forIndexPath:indexPath];</span><br><span class="line">    </span><br><span class="line">    // Configure the cell...</span><br><span class="line">    </span><br><span class="line">    return cell;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编辑如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-604104ee308b97d9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>以后在使用 Objective-C 语言编写 iOS 项目时，在类的实现文件中，输入 <code>UITableViewDataSource</code> ，就会列出该代码片段备选项。</p>
<h4 id="UITableViewDelegate"><a href="#UITableViewDelegate" class="headerlink" title="UITableViewDelegate"></a>UITableViewDelegate</h4><p>把 <strong>UITableView</strong> 委托协议的两个实现方法加入代码片段库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - UITableViewDelegate</span><br><span class="line"></span><br><span class="line">- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    return &lt;#expression#&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    // when selected row of indexPath</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="cellReusreIdentifier"><a href="#cellReusreIdentifier" class="headerlink" title="cellReusreIdentifier"></a>cellReusreIdentifier</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">NSString</span> * <span class="keyword">const</span> cellReusreIdentifier = <span class="string">@"&lt;#UITableViewCellStyleDefault#&gt;"</span>;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-fad8e26799c8b940.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/620" alt></p>
<p>处理循环引用经常要用到的两行代码，也可以加入代码片段库：</p>
<h4 id="weakSelf"><a href="#weakSelf" class="headerlink" title="weakSelf"></a>weakSelf</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__weak __typeof(self)weakSelf = self;</span><br></pre></td></tr></table></figure>
<h4 id="strongSelf"><a href="#strongSelf" class="headerlink" title="strongSelf"></a>strongSelf</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__strong __typeof(weakSelf)strongSelf = weakSelf;</span><br></pre></td></tr></table></figure>
<h4 id="注释代码"><a href="#注释代码" class="headerlink" title="注释代码"></a>注释代码</h4><p>你也可以根据你的喜好将注释代码添加进代码片段库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/** &lt;#注释#&gt; */</span><br></pre></td></tr></table></figure>
<p>编辑窗口：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-1dc9f4c8816c4b0d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>声明了一个属性，要写注释？当然你可以输入 <code>//说明</code>，使用代码片段就可以这么玩了， 输入 <code>xx</code></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-81a690b70eb26e7a.gif?imageMogr2/auto-orient/strip" alt></p>
<h3 id="pragma-mark"><a href="#pragma-mark" class="headerlink" title="pragma mark"></a>pragma mark</h3><p>这个代码片段可以配合上面刚刚提到的 <strong>代码整洁小技巧#pragma mark</strong> 一起使用，美滋滋🙂</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#pragma</span> <span class="selector-tag">mark</span> - &lt;#string#&gt;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-57691e7ecd91c880.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/620" alt></p>
<h3 id="NSException"><a href="#NSException" class="headerlink" title="NSException"></a>NSException</h3><p>子类有自己的指定初始化方法，但又不想覆盖父类的指定初始化方法 <code>init</code>,可以写如下的方法，主要是用来防止开发创建对象时用错初始化方法。<br><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (instance<span class="keyword">type</span>)init &#123;</span><br><span class="line">    @throw [<span class="type">NSException</span> exceptionWithName:@"<span class="type">Method</span> <span class="type">Undefined</span>"</span><br><span class="line">                                   reason:@"<span class="type">Use</span> <span class="type">Designated</span> <span class="type">Initializer</span> <span class="type">Method</span>"</span><br><span class="line">                                 userInfo:nil];</span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-85796fdbd0cd120c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/620" alt></p>
<h3 id="编辑自定义代码片段"><a href="#编辑自定义代码片段" class="headerlink" title="编辑自定义代码片段"></a>编辑自定义代码片段</h3><p>选中代码片段库中需要重新编辑的代码片段，在弹出的编辑窗口点击 <code>Edit</code> 按钮，完成后点击 <code>Done</code> 按钮。</p>
<h3 id="删除自定义代码片段"><a href="#删除自定义代码片段" class="headerlink" title="删除自定义代码片段"></a>删除自定义代码片段</h3><p>选中代码片段库中需要删除的代码片段，键盘 <code>Backspace</code> 或者 <code>Del</code> 并确认即可删除代码片段。 </p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://shevakuilin.github.io/2016/05/10/iOS开发－学会使用代码块，提高你的开发效率/" target="_blank" rel="noopener">iOS开发－学会使用代码块，提高你的开发效率</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/24/iOS 编程：应用程序的生命周期/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/24/iOS 编程：应用程序的生命周期/" class="post-title-link" itemprop="url">iOS 编程：应用程序的生命周期</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-24 00:15:00" itemprop="dateCreated datePublished" datetime="2017-02-24T00:15:00+08:00">2017-02-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-17 16:01:01" itemprop="dateModified" datetime="2019-04-17T16:01:01+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/24/iOS 编程：应用程序的生命周期/" class="leancloud_visitors" data-flag-title="iOS 编程：应用程序的生命周期">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a href="http://www.jianshu.com/p/3dcb1f7f14e5" target="_blank" rel="noopener">iOS从入门到精通</a></li>
</ul>
<h3 id="应用程序的生命周期"><a href="#应用程序的生命周期" class="headerlink" title="应用程序的生命周期"></a>应用程序的生命周期</h3><h4 id="iOS应用程序拥有的5种状态"><a href="#iOS应用程序拥有的5种状态" class="headerlink" title="iOS应用程序拥有的5种状态:"></a>iOS应用程序拥有的5种状态:</h4><ol>
<li>【Not running】 应用还没启动或正在运行但是中途被系统停止；</li>
<li>【Inactive】 应用正在前台运行(不接收事件)；</li>
<li>【Active】 应用正在前台运行(接收事件)；</li>
<li>【Background 】应用处于后台运行(还在执行代码)；</li>
<li>【Suspended】 应用处于后台运行(停止执行代码)。</li>
</ol>
<p>应用的各种状态：</p>
<table>
<thead>
<tr>
<th style="text-align:left">状态</th>
<th style="text-align:center">界面是否可见</th>
<th style="text-align:right">是否能接受事件</th>
<th style="text-align:right">是否能执行代码</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">未运行状态</td>
<td style="text-align:center">否</td>
<td style="text-align:right">否</td>
<td style="text-align:right">否</td>
</tr>
<tr>
<td style="text-align:left">激活状态</td>
<td style="text-align:center">是</td>
<td style="text-align:right">是</td>
<td style="text-align:right">是</td>
</tr>
<tr>
<td style="text-align:left">未激活状态</td>
<td style="text-align:center">大部分</td>
<td style="text-align:right">否</td>
<td style="text-align:right">是</td>
</tr>
<tr>
<td style="text-align:left">后台运行状态</td>
<td style="text-align:center">否</td>
<td style="text-align:right">否</td>
<td style="text-align:right">是</td>
</tr>
<tr>
<td style="text-align:left">挂起状态</td>
<td style="text-align:center">否</td>
<td style="text-align:right">否</td>
<td style="text-align:right">否</td>
</tr>
</tbody>
</table>
<p><img src="http://upload-images.jianshu.io/upload_images/1519620-8559ccb07b5a0cc7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="应用程序的生命周期"></p>
<h3 id="UIApplicationDelegate"><a href="#UIApplicationDelegate" class="headerlink" title="UIApplicationDelegate"></a>UIApplicationDelegate</h3><p>当应用状态发生变化时，<strong>UIApplication</strong>对象的委托对象会收到相应的消息。<br><strong>UIApplicationDelegate</strong>协议中声明的部分消息：</p>
<ul>
<li><p><strong>启动时间</strong></p>
<ul>
<li><p>application: willFinishLaunchingWithOptions:</p>
<blockquote>
<p>告诉AppDelegate启动进程已经开始，但是状态恢复还没有完成</p>
</blockquote>
</li>
<li><p>application: didFinishLaunchingWithOptions:</p>
<blockquote>
<p>告诉AppDelegate，启动过程几乎完成，应用程序几乎准备好运行。</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>转换到前台激活状态</strong>    </p>
<ul>
<li><p>applicationDidBecomeActive:</p>
<blockquote>
<p>激活装填</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>转换到非活跃状态（未激活状态）</strong></p>
<ul>
<li><p>applicationWillResignActive: (前台状态——&gt;后台运行状态。)</p>
<blockquote>
<p>告诉AppDelegate该应用程序即将变为非活动状态。</p>
</blockquote>
</li>
<li><p>applicationWillEnterForeground: (后台运行状态——&gt;前台时调用)</p>
<blockquote>
<p>告诉AppDelegate应用程序即将进入前台。</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>转换到后台运行状态</strong></p>
<ul>
<li><p>applicationDidEnterBackground：</p>
<blockquote>
<p>后台运行装填</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>终止运行</strong></p>
<ul>
<li><p>applicationWillTerminate: </p>
<blockquote>
<p>告诉AppDelegate应用程序即将终止，仅当应用程序正在运行时调用。 如果应用程序已暂停，则不会调用此方法。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> </span><br><span class="line"> 应用载入完成后调用</span><br><span class="line"> </span><br><span class="line"> 你可以把程序载入后需要执行的代码，写在程序完成加载的方法里</span><br><span class="line"> </span><br><span class="line"> */</span><br><span class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> </span><br><span class="line"> 应用从【前台活动状态】——&gt;【前台非活动状态】时调用  (在此期间，程序不接受消息或事件)</span><br><span class="line"> </span><br><span class="line"> 这可能发生在某些临时中断类型中（例如来电或SMS消息）或用户退出应用程序时，应用开始转换到后台状态时。</span><br><span class="line"> 使用此方法暂停正在进行的任务，禁用计时器，并使渲染回调无效。 游戏类应用应该使用这种方法暂停游戏。</span><br><span class="line"> </span><br><span class="line"> */</span><br><span class="line">- (void)applicationWillResignActive:(UIApplication *)application &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> </span><br><span class="line"> 应用进入【后台运行状态】时调用          (设置后台继续运行)</span><br><span class="line"></span><br><span class="line"> 使用此方法释放共享资源，保存用户数据，使计时器无效，并存储足够的应用程序状态信息以将应用程序恢复到其当前状态，以备日后应用终止。</span><br><span class="line"> 如果您的应用程序支持后台执行，则调用此方法添加要继续执行的代码，而不是调用当用户退出时的方法 applicationWillTerminate：。</span><br><span class="line"> </span><br><span class="line"> */</span><br><span class="line">- (void)applicationDidEnterBackground:(UIApplication *)application &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> </span><br><span class="line"> 应用从【后台运行状态】——&gt;【前台活动状态】时调用</span><br><span class="line"></span><br><span class="line"> 这里你可以撤消许多进入【后台运行状态】后应用所做的改变。</span><br><span class="line"> </span><br><span class="line"> */</span><br><span class="line">- (void)applicationWillEnterForeground:(UIApplication *)application &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> </span><br><span class="line"> 应用进入【前台活动状态】后调用    (接收消息或事件)</span><br><span class="line"> </span><br><span class="line"> 重新启动已暂停（或尚未启动）的那些当应用进入【前台非活动状态】的任何任务。 如果应用程序以前在后台运行，则可选择刷新用户界面。</span><br><span class="line"></span><br><span class="line"> */</span><br><span class="line">- (void)applicationDidBecomeActive:(UIApplication *)application &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> 应用将要退出调用 (保存数据,退出前清理)</span><br><span class="line"> </span><br><span class="line"> 在应用程序即将要终止运行时调用。 保存数据（如果合适）。</span><br><span class="line"></span><br><span class="line"> */</span><br><span class="line">- (void)applicationWillTerminate:(UIApplication *)application &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> </span><br><span class="line"> 当应用程序从系统收到内存警告时通知代理。</span><br><span class="line"> </span><br><span class="line"> 此方法的实现应通过清除可以以后重新创建（或从磁盘重新加载）的缓存数据对象释放尽可能多的内存。 </span><br><span class="line"> 您可以结合UIViewController类的didReceiveMemoryWarning和UIApplicationDidReceiveMemoryWarningNotification通知使用此方法，以释放整个应用程序的内存。</span><br><span class="line"> 强烈建议您实现此方法。 如果您的应用程序在低内存条件下没有释放足够的内存，系统可能会立即终止。</span><br><span class="line"> </span><br><span class="line"> */</span><br><span class="line">- (void)applicationDidReceiveMemoryWarning:(UIApplication *)application &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> </span><br><span class="line"> 应用打开URL时调用</span><br><span class="line"> </span><br><span class="line"> 如果应用程序由于某种原因无法打开，则返回NO</span><br><span class="line"></span><br><span class="line"> */</span><br><span class="line">- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey, id&gt; *)options &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;,__func__);</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><blockquote>
<p><strong>开启应用程序：</strong><br><strong>[AppDelegate application:didFinishLaunchingWithOptions:]</strong><br><strong>[AppDelegate applicationDidBecomeActive:]</strong></p>
<p><strong>点击Home键退出应用：</strong><br> <strong>[AppDelegate applicationWillResignActive:]</strong><br><strong>[AppDelegate applicationDidEnterBackground:]</strong></p>
<p><strong>点击Icon图标再次打开应用：</strong><br><strong>[AppDelegate applicationWillEnterForeground:]</strong><br><strong>[AppDelegate applicationDidBecomeActive:]</strong></p>
<p><strong>点击Lock按钮锁定屏幕：</strong><br><strong>[AppDelegate applicationWillResignActive:]</strong><br><strong>[AppDelegate applicationDidEnterBackground:]</strong></p>
<p><strong>解锁屏幕：</strong><br><strong>[AppDelegate applicationWillEnterForeground:]</strong><br><strong>[AppDelegate applicationDidBecomeActive:]</strong></p>
<p><strong>双击Home键</strong>：<br><strong>[AppDelegate applicationWillResignActive:]</strong><br><strong>手势上划清理应用：</strong><br><strong>[AppDelegate applicationDidEnterBackground:]</strong><br><strong>[AppDelegate applicationWillTerminate:]</strong></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/23/iOS 编程：UIDeviceOrientation 设备方向/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/23/iOS 编程：UIDeviceOrientation 设备方向/" class="post-title-link" itemprop="url">iOS 编程：UIDeviceOrientation 设备方向</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-23 17:43:00" itemprop="dateCreated datePublished" datetime="2017-02-23T17:43:00+08:00">2017-02-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-17 16:02:53" itemprop="dateModified" datetime="2019-04-17T16:02:53+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/23/iOS 编程：UIDeviceOrientation 设备方向/" class="leancloud_visitors" data-flag-title="iOS 编程：UIDeviceOrientation 设备方向">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="UIDeviceOrientation"><a href="#UIDeviceOrientation" class="headerlink" title="UIDeviceOrientation"></a>UIDeviceOrientation</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>, <span class="built_in">UIDeviceOrientation</span>) &#123;</span><br><span class="line">    <span class="built_in">UIDeviceOrientationUnknown</span>,</span><br><span class="line">    <span class="built_in">UIDeviceOrientationPortrait</span>,            <span class="comment">// Device oriented vertically, home button on the bottom</span></span><br><span class="line">    <span class="built_in">UIDeviceOrientationPortraitUpsideDown</span>,  <span class="comment">// Device oriented vertically, home button on the top</span></span><br><span class="line">    <span class="built_in">UIDeviceOrientationLandscapeLeft</span>,       <span class="comment">// Device oriented horizontally, home button on the right</span></span><br><span class="line">    <span class="built_in">UIDeviceOrientationLandscapeRight</span>,      <span class="comment">// Device oriented horizontally, home button on the left</span></span><br><span class="line">    <span class="built_in">UIDeviceOrientationFaceUp</span>,              <span class="comment">// Device oriented flat, face up</span></span><br><span class="line">    <span class="built_in">UIDeviceOrientationFaceDown</span>             <span class="comment">// Device oriented flat, face down</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// 通知中心是专门供程序中，不同类间的消息通信而设置的。这里用来捕捉手机方向切换的事件</span></span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span></span><br><span class="line">                                             selector:<span class="keyword">@selector</span>(orientationChanged)</span><br><span class="line">                                                 name:<span class="built_in">UIDeviceOrientationDidChangeNotification</span></span><br><span class="line">                                               object:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)orientationChanged &#123;</span><br><span class="line">    <span class="keyword">switch</span> ([[<span class="built_in">UIDevice</span> currentDevice] orientation]) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">UIDeviceOrientationPortrait</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"设备垂直,Home按钮在底部！"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">UIDeviceOrientationPortraitUpsideDown</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"设备垂直,Home按钮在顶部！"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">UIDeviceOrientationLandscapeLeft</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"设备水平，Home按钮在右边！"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">UIDeviceOrientationLandscapeRight</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"设备水平，Home按钮在左边！"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">UIDeviceOrientationFaceUp</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"设备平躺，正面朝上！"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">UIDeviceOrientationFaceDown</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"设备平躺，正面朝下！"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/15/Radio Button——iOS单选按钮/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/15/Radio Button——iOS单选按钮/" class="post-title-link" itemprop="url">Radio Button——iOS单选按钮</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-15 18:00:00" itemprop="dateCreated datePublished" datetime="2017-02-15T18:00:00+08:00">2017-02-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-17 01:42:10" itemprop="dateModified" datetime="2019-04-17T01:42:10+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/15/Radio Button——iOS单选按钮/" class="leancloud_visitors" data-flag-title="Radio Button——iOS单选按钮">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>GitHub源码：<a href="https://github.com/onegray/RadioButton-ios" target="_blank" rel="noopener">RadioButton</a></li>
<li>star:200+</li>
</ul>
<blockquote>
<pre><code>⭐️⭐️⭐️ 
</code></pre><p>以下内容来源于官方源码、 README 文档、测试 Demo或个人使用总结 ！</p>
</blockquote>
<h1 id="Radio-Button-for-iOS——iOS单选按钮"><a href="#Radio-Button-for-iOS——iOS单选按钮" class="headerlink" title="Radio Button for iOS——iOS单选按钮"></a>Radio Button for iOS——iOS单选按钮</h1><h2 id="README-md文档描述"><a href="#README-md文档描述" class="headerlink" title="README.md文档描述"></a>README.md文档描述</h2><p>继承自 <strong>UIButton</strong> 的一个非常简单的类，扩展了标准的 <strong>UIButton</strong> 的功能。</p>
<p>可以为每个按钮配置默认和选中状态。</p>
<p><img src="https://raw.github.com/onegray/RadioButton-ios/data/demo.gif" alt="Demo"></p>
<h3 id="非常容易使用"><a href="#非常容易使用" class="headerlink" title="非常容易使用"></a>非常容易使用</h3><p>它不需要任何 central manager。 只需在Interface Builder中直接链接按钮：</p>
<p><img src="https://raw.github.com/onegray/RadioButton-ios/data/linking.gif" alt="Demo"></p>
<p>或者，使用单行代码对按钮进行分组：</p>
<pre><code>radio1.groupButtons = @[radio1, radio2, radio3];
</code></pre><p>设置任意按钮为选中状态，同一组中的所有其他按钮将自动取消选中状态：</p>
<pre><code>radio2.selected = YES; // radio1 and radio3 become deselected
</code></pre><p>组中的任何一个按钮都知道哪一个被选中了：</p>
<pre><code>RadioButton* r1 = radio1.selectedButton;
RadioButton* r2 = radio2.selectedButton;
RadioButton* r3 = radio3.selectedButton;
NSAssert (r1==r2 &amp;&amp; r2==r3, @&quot;Must be equal&quot;);
</code></pre><p>另一个通过标签选择按钮的好方法：</p>
<pre><code>[radio1 setSelectedWithTag:kTagRadio3];
</code></pre><h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p><a href="https://github.com/onegray/RadioButton-ios/archive/sample.zip" target="_blank" rel="noopener">sample.zip</a> - Sample app<br><a href="https://raw.github.com/onegray/RadioButton-ios/data/radio-res-ios.zip" target="_blank" rel="noopener">radio-res-ios.zip</a> - Radio Button images used in the sample  </p>
<h3 id="许可"><a href="#许可" class="headerlink" title="许可"></a>许可</h3><p>RadioButton 基于 MIT许可协议，—你可以基于你的意愿fork、覆盖和使用</p>
<h2 id="实践使用"><a href="#实践使用" class="headerlink" title="实践使用"></a>实践使用</h2><p>参照官方Demo，学习使用 <strong>RadioButton</strong>。</p>
<p>首先需要导入RadioButton.h 和 RadioButton.m 文件；</p>
<p>其次还需要两张图片用于显示按钮选中（check）和未选中（unchecked）状态。</p>
<h3 id="1-一组中有三个单选按钮"><a href="#1-一组中有三个单选按钮" class="headerlink" title="1. 一组中有三个单选按钮"></a>1. 一组中有三个单选按钮</h3><p><img src="https://raw.github.com/onegray/RadioButton-ios/data/demo.gif" alt="Demo"></p>
<ol>
<li>首先在<strong>Interface Builder</strong>界面中拖入3个 <strong>UIButton</strong> 控件、1个 <strong>UILabel</strong> 控件；</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-403dcda2a78bfd18.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ol start="2">
<li>选中第一个 <strong>UIButton</strong> 控件，修改 <strong>Identity Inspector</strong> 工具栏中的<strong>class</strong>属性为：<strong>Radio Button</strong>；</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-4ce3464529fe9eec.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ol start="3">
<li>还是在选中第一个 <strong>UIButton</strong> 控件下，切换到 <strong>Attributes Inspector</strong> 工具栏中修改相关属性如下：</li>
</ol>
<p>其中你需要分开设置 <strong>Button</strong>按钮在不同状态下显示的图片（蓝框所示）：</p>
<ul>
<li><strong>Default </strong>默认状态下设置的 <strong>Image</strong> 是：unchecked.png;</li>
<li><strong>Selected</strong>选中状态下设置的 <strong>Image</strong> 是：checked.png;</li>
</ul>
<p>另外勾选设置第一个 <strong>Button</strong> 按钮的初始化状态是默认选中的（绿框所示）。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-c40dd4cfb485c823.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><img src="http://upload-images.jianshu.io/upload_images/2648731-125da448b6bb9bd8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ol start="4">
<li><p>剩下两个 <strong>Button</strong> 按钮也相同设置，需要区分设置的是Title标题、另外两个按钮都不用勾选默认选中状态，设置完成后应该是这样的：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-ac67df9338a7c4c4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
</li>
<li><p>设置群组，在 <strong>Radio Button1</strong> 上鼠标右击，找到 <strong>groupButtons</strong> 属性，长按➕连接到 <strong>Radio Button2</strong> ，再如法炮制，将  <strong>Radio Button2</strong> 的 <strong>groupButtons </strong>连接到 <strong>Radio Button3</strong>；</p>
</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-e691dba3d37afd62.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ol start="6">
<li><p>修改 <strong>UILabel</strong> 控件的默认<strong>Text</strong>属性显示为：Radio Button1，因为Radio Button1是默认选中的，所以默认文本也应该显示这个：</p>
</li>
<li><p>关联到代码：</p>
<ul>
<li>在<strong>viewController.h</strong> 文件中先声明<strong>Radio Button</strong>类;</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="class"><span class="keyword">class</span> <span class="title">RadioButton</span>;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>关联以上几个控件属性；</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> RadioButton *radioButton1;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> RadioButton *radioButton2;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> RadioButton *radioButton3;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UILabel</span> *statusLabel;</span><br></pre></td></tr></table></figure>
<ul>
<li>在 <strong>viewController.m</strong> 文件中导入<code>import &quot;RadioButton.h&quot;</code></li>
</ul>
</li>
<li><p>将3个<strong>Radio Button</strong>按钮同时关联到一个方法上：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (IBAction)onRadioBtn:(RadioButton *)sender &#123;</span><br><span class="line">    _statusLabel<span class="meta">.text</span> = [NSString stringWithFormat:@<span class="string">"%@"</span>,sender.titleLabel<span class="meta">.text</span>]<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>构建运行。</p>
</li>
</ol>
<h3 id="2-一组中有两个按钮"><a href="#2-一组中有两个按钮" class="headerlink" title="2.一组中有两个按钮"></a>2.一组中有两个按钮</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-c01f7bcf46683b30.gif?imageMogr2/auto-orient/strip" alt></p>
<p>该例与1的类似，就不详细说了，只是【切换】是一个标准的 <strong>UIButton</strong> 按钮，该按钮关联的方法如下：</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (IBAction)radioBtnInvert:(UIButton *)sender &#123;</span><br><span class="line">    _man.<span class="keyword">selected </span>= !_man.<span class="keyword">selected;</span></span><br><span class="line"><span class="keyword">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="3-代码创建方法"><a href="#3-代码创建方法" class="headerlink" title="3.代码创建方法"></a>3.代码创建方法</h3><p><img src="http://upload-images.jianshu.io/upload_images/2648731-1c581d4fbfbfa4b8.gif?imageMogr2/auto-orient/strip" alt></p>
<p>点击按钮创建一个包含三个按钮的群组</p>
<p>代码方法：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">- (IBAction)<span class="string">createMoreBtn:</span>(UIButton *)sender &#123;</span><br><span class="line">    </span><br><span class="line">    [sender <span class="string">setHidden:</span>YES];</span><br><span class="line">    </span><br><span class="line">    NSMutableArray* buttonsArray = [NSMutableArray <span class="string">arrayWithCapacity:</span><span class="number">3</span>];</span><br><span class="line">    CGRect btnRect = CGRectMake(<span class="number">25</span>, <span class="number">320</span>, <span class="number">100</span>, <span class="number">30</span>);</span><br><span class="line">    <span class="keyword">for</span> (NSString* optionTitle <span class="keyword">in</span> @[@<span class="string">"Red"</span>, @<span class="string">"Green"</span>, @<span class="string">"Blue"</span>]) &#123;</span><br><span class="line">        RadioButton* btn = [[RadioButton alloc] <span class="string">initWithFrame:</span>btnRect];</span><br><span class="line">        [btn <span class="string">addTarget:</span>self <span class="string">action:</span><span class="meta">@selector</span>(<span class="string">onRadioButtonValueChanged:</span>) <span class="string">forControlEvents:</span>UIControlEventValueChanged];</span><br><span class="line">        btnRect.origin.y += <span class="number">40</span>;</span><br><span class="line">        [btn <span class="string">setTitle:</span>optionTitle <span class="string">forState:</span>UIControlStateNormal];</span><br><span class="line">        [btn <span class="string">setTitleColor:</span>[UIColor darkGrayColor] <span class="string">forState:</span>UIControlStateNormal];</span><br><span class="line">        btn.titleLabel.font = [UIFont <span class="string">boldSystemFontOfSize:</span><span class="number">17</span>];</span><br><span class="line">        [btn <span class="string">setImage:</span>[UIImage <span class="string">imageNamed:</span>@<span class="string">"unchecked.png"</span>] <span class="string">forState:</span>UIControlStateNormal];</span><br><span class="line">        [btn <span class="string">setImage:</span>[UIImage <span class="string">imageNamed:</span>@<span class="string">"checked.png"</span>] <span class="string">forState:</span>UIControlStateSelected];</span><br><span class="line">        btn.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;</span><br><span class="line">        btn.titleEdgeInsets = UIEdgeInsetsMake(<span class="number">0</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        [self.view <span class="string">addSubview:</span>btn];</span><br><span class="line">        [buttonsArray <span class="string">addObject:</span>btn];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [buttonsArray[<span class="number">0</span>] <span class="string">setGroupButtons:</span>buttonsArray]; <span class="comment">// 把按钮放进群组中</span></span><br><span class="line">    </span><br><span class="line">    [buttonsArray[<span class="number">0</span>] <span class="string">setSelected:</span>YES]; <span class="comment">// 初始化第一个按钮为选中状态</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><a href="http://www.jianshu.com/p/4971424c693b" target="_blank" rel="noopener">IOS单选框RadioButton实现</a></li>
<li><a href="http://blog.csdn.net/duxinfeng2010/article/details/9071003" target="_blank" rel="noopener">iOS开发复选框类库SSCheckBoxView</a></li>
<li><a href="https://github.com/ardalahmet/SSCheckBoxView" target="_blank" rel="noopener">GitHub:<strong>SSCheckBoxView</strong></a></li>
<li><a href="https://github.com/Boris-Em/BEMCheckBox#sample-app" target="_blank" rel="noopener">GitHub:<strong>BEMCheckBox</strong></a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/10/《Objective-C 编程》16.NSString/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/10/《Objective-C 编程》16.NSString/" class="post-title-link" itemprop="url">《Objective-C 编程》16.NSString</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-10 14:15:00" itemprop="dateCreated datePublished" datetime="2017-02-10T14:15:00+08:00">2017-02-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:55:58" itemprop="dateModified" datetime="2019-04-18T00:55:58+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/10/《Objective-C 编程》16.NSString/" class="leancloud_visitors" data-flag-title="《Objective-C 编程》16.NSString">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="NSString"><a href="#NSString" class="headerlink" title="NSString"></a>NSString</h1><h3 id="相关阅读"><a href="#相关阅读" class="headerlink" title="相关阅读"></a>相关阅读</h3><ul>
<li><a href="https://developer.apple.com/reference/foundation/nsstring" target="_blank" rel="noopener">NSString API Reference</a> </li>
<li><a href="https://nianxi.net/ios/ios-string-security.html" target="_blank" rel="noopener">iOS字符串安全 @程序媛念茜</a></li>
<li><a href="https://www.objccn.io/issues/" target="_blank" rel="noopener">objc中国：第9期 字符串</a><ol>
<li><a href="https://www.objccn.io/issue-9-0/" target="_blank" rel="noopener">卷首语</a></li>
</ol>
<ul>
<li><a href="https://www.objccn.io/issue-9-1/" target="_blank" rel="noopener">NSString 与 Unicode</a></li>
<li><a href="https://www.objccn.io/issue-9-2/" target="_blank" rel="noopener">玩转字符串</a></li>
<li><a href="https://www.objccn.io/issue-9-3/" target="_blank" rel="noopener">字符串本地化</a></li>
<li><a href="https://www.objccn.io/issue-9-4/" target="_blank" rel="noopener">字符串解析</a></li>
<li><a href="https://www.objccn.io/issue-9-5/" target="_blank" rel="noopener">字符串渲染</a></li>
</ul>
</li>
</ul>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><blockquote>
<p><strong>NSString</strong> 类及其可变子类 <strong>NSMutableString</strong> 提供了一组用于处理字符串的API，包括用于比较，搜索和修改字符串的方法。 <strong>NSString</strong> 对象在整个 <strong>Foundation</strong> 和其他 <strong>Cocoa</strong> 框架中使用，作为平台上所有文本和语言功能的基础。</p>
</blockquote>
<h3 id="Unicode与NSString"><a href="#Unicode与NSString" class="headerlink" title="Unicode与NSString"></a>Unicode与NSString</h3><ul>
<li>Unicode 标准为世界上几乎所有的书写系统里所使用的每一个字符或符号定义了一个唯一的数字。</li>
<li>NeXT 在 1994 年推出的 <strong>Foundation Kit</strong> 是所有编程语言中最先基于 Unicode 的标准库之一。</li>
<li>最初，Unicode 编码是被设计为 16 位的，提供了 65,536 个字符的空间。后来，Unicode 编码扩展到了 <strong>21 位</strong>。</li>
<li>NSString 代表的是用 UTF-16 编码的文本，长度、索引和范围都基于 UTF-16 的码元。</li>
</ul>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="创建-NSString-实例"><a href="#创建-NSString-实例" class="headerlink" title="创建 NSString 实例"></a>创建 NSString 实例</h3><ul>
<li>使用 <strong>字面量语法</strong>：<strong>@”…”</strong> ，根据给定的字符串创建一个 <strong>NSString</strong> 对象；</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 声明一个指向 NSString 实例的指针变量，它保存了 NSString 实例在内存中的地址</span><br><span class="line">NSString *str1 = @&quot;Hello&quot;;</span><br><span class="line">// 指针变量指向了新的内存地址</span><br><span class="line">str1 = @&quot;World&quot;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>init</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *string = [[NSString alloc] init];</span><br></pre></td></tr></table></figure>
<ul>
<li><code>- initWithFormat:</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 创建动态字符串，字符串的内容需要等到程序运行时才知道</span><br><span class="line">NSString *str2 = [[NSString alloc] initWithFormat:@&quot;The string is %@&quot;,str1];</span><br></pre></td></tr></table></figure>
<ul>
<li><code>+ stringWithFormat:</code></li>
</ul>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *str3 = [NSString stringWithFormat:@"The <span class="keyword">date</span> is %@<span class="string">",str1];</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>+ stringWithString:</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 通过复制另一个给定字符串来创建字符串。</span><br><span class="line">NSString *str2 = [NSString stringWithString:str1];</span><br></pre></td></tr></table></figure>
<h3 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h3><p>同 C 语言中的 <figure class="highlight plain"><figcaption><span>函数（ANSI C89 中的一个函数）类似，Objective C 中的 ```NSString``` 类也有如下的 3 个方法：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; * -initWithFormat:</span><br><span class="line">&gt; * -initWithFormat:arguments:</span><br><span class="line">&gt; * +stringWithFormat:</span><br><span class="line"></span><br><span class="line">需要注意这些格式化方法都是***非本地化***的。所以这些方法得到的字符串是**不能直接拿来显示在用户界面上**的。如果需要本地化，那我们需要使用下面这些方法:</span><br><span class="line"></span><br><span class="line">&gt; * -initWithFormat:locale:</span><br><span class="line">&gt; * -initWithFormat:locale:arguments:</span><br><span class="line">&gt; * +localizedStringWithFormat:</span><br><span class="line"></span><br><span class="line">*** 传入特定参数，来设置最小字段宽度和最小数字位数（默认两者都是 0）</span><br></pre></td></tr></table></figure></p>
<p>int m = 42;<br>NSString <em>s = [NSString stringWithFormat:@”‘%4d’ ‘%-4d’ ‘%+4d’ ‘%4.3d’ ‘%04d’”, m, m, m, m, m];<br>// “[  42] [42  ] [ +42] [ 042] [0042]”<br>m = -42;<br>NSString </em>s = [NSString stringWithFormat:@”‘%4d’ ‘%-4d’ ‘%+4d’ ‘%4.3d’ ‘%04d’”, m, m, m, m, m];<br>// “[ -42] [-42 ] [ -42] [-042] [-042]”<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 字符串转换</span><br><span class="line"></span><br><span class="line">* 将C的字符串，转换成OC的字符串</span><br></pre></td></tr></table></figure></p>
<p>// 1. stringWithCString:<br>char <em>S = “\xc3\x8a”;<br>NSString </em>str1 = [NSString stringWithCString:S encoding:NSUTF8StringEncoding];<br>NSLog(@”%@”,str1);</p>
<p>// 2. stringWithUTF8String:<br>//返回一个UTF—8编码的C字符串,参数为 char <em> 类型<br>NSString </em>str2 = [NSString stringWithUTF8String:”长破折号：\xe2\x80\x94”];<br>NSLog(@”%@”,str2);<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line"></span><br><span class="line">&gt; **<span class="number">2017</span><span class="number">-02</span><span class="number">-10</span> <span class="number">11</span>:<span class="number">00</span>:<span class="number">41.522750</span> <span class="number">16</span>NSString[<span class="number">823</span>:<span class="number">24097</span>] Ê**</span><br><span class="line">&gt;</span><br><span class="line">&gt; **<span class="number">2017</span><span class="number">-02</span><span class="number">-10</span> <span class="number">11</span>:<span class="number">00</span>:<span class="number">41.523131</span> <span class="number">16</span>NSString[<span class="number">823</span>:<span class="number">24097</span>] **长破折号： **—**</span><br><span class="line"></span><br><span class="line"> 另外，关于 ``stringWithUTF8String:``</span><br><span class="line"></span><br><span class="line">&gt; 官方文档描述：Returns <span class="keyword">a</span> <span class="keyword">string</span> created <span class="keyword">by</span> copying <span class="keyword">the</span> data <span class="built_in">from</span> <span class="keyword">a</span> given C array <span class="keyword">of</span> UTF8-encoded <span class="keyword">bytes</span>.</span><br><span class="line">&gt;</span><br><span class="line">&gt; 通过复制一个给定的UTF<span class="number">-8</span>编码的C数组来返回字符串。</span><br><span class="line">&gt;</span><br><span class="line">&gt; [stackoverflow:What does stringWithUTF8String: <span class="built_in">do</span> <span class="keyword">and</span> how <span class="keyword">it</span> works](<span class="keyword">http</span>://stackoverflow.com/questions/<span class="number">20700247</span>/what-does-stringwithutf8string-<span class="built_in">do</span>-<span class="keyword">and</span>-how-<span class="keyword">it</span>-works)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 字符串转换为基本数据类型</span><br></pre></td></tr></table></figure></p>
<p>NSString *str = @”3.14”;</p>
<p>// double<br>double d = [str doubleValue];<br>NSLog(@”double:%lf”,d);</p>
<p>// float<br>float f = [str floatValue];<br>NSLog(@”float:%f”,f);</p>
<p>// int<br>int i = [str intValue];<br>NSLog(@”int:%d”,i);</p>
<p>// NSInteger<br>NSInteger integer = [str integerValue];<br>NSLog(@”NSInteger:%ld”,integer);</p>
<p>// long long<br>long long l = [str longLongValue];<br>NSLog(@”long long:%lld”,l);</p>
<p>// BOOL<br>NSString *string = @”YES”;<br>BOOL b = [string boolValue];<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 大小写转换</span><br></pre></td></tr></table></figure></p>
<p>// uppercaseString:全部大写<br>NSString *string1 = @”hEllo”;<br>NSLog(@”upper:%@”,[string1 uppercaseString]);</p>
<p>// lowercaseString:全部小写<br>NSLog(@”lower:%@”,[string1 lowercaseString]);</p>
<p>// capitalizedString: 首字母大写<br>NSLog(@”capital:%@”,[string1 capitalizedString]);<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; 一定不要使用 **NSString** 的 ```-uppercaseString``` 或者 ```-lowercaseString``` 的方法来处理 UI 显示的字符串，而应该使用 ```-uppercaseStringWithLocale``` 来代替， 比如：</span><br></pre></td></tr></table></figure></p>
<p>NSString *name = @”Tómas”;<br>cell.text = [name uppercaseStringWithLocale:[NSLocale currentLocale]];<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">###  追加拼接字符串</span><br></pre></td></tr></table></figure></p>
<p>NSString <em>string1 = @”Android”;<br>NSString </em>string2 = @”ios”;</p>
<p>// stringWithFormat: 类方法创建，=》Android &amp; ios<br>NSString *string11 = [NSString stringWithFormat:@”%@ &amp; %@”,string1,string2]</p>
<p>// stringByAppendingString: 追加字符串 =&gt;Androidios<br>NSString *string22 = [string1 stringByAppendingString:string2];  </p>
<p>// stringByAppendingFormat: 格式化追加字符串 =&gt; Android追加字符串ios<br>NSString *string33 =[string1 stringByAppendingFormat:@“追加字符串%@”，string2]；<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 字符串的截取</span><br><span class="line"></span><br><span class="line">    NSString *string16 = @"andywhm@163.com";</span><br><span class="line">    // substringToIndex:从起始位置截取到指定位置（不包含指定位置）</span><br><span class="line">    NSString *substring1 = [string16 substringToIndex:7];</span><br><span class="line">    </span><br><span class="line">    // substringFromIndex:从指定位置截取到字符串的末尾（包含指定位置）</span><br><span class="line">    NSString *substring2 = [string16 substringFromIndex:8];</span><br><span class="line">    </span><br><span class="line">    // substringWithRange:截取中间部分的字符串 @163</span><br><span class="line">    // NSRange range = &#123;location,length&#125;;</span><br><span class="line">    // NSRange range = &#123;7,4&#125;;</span><br><span class="line">    NSRange range = NSMakeRange(7, 4);</span><br><span class="line">    NSString *substring3 = [string16 substringWithRange:range];</span><br><span class="line"></span><br><span class="line">* 截取字符串示例代码</span><br></pre></td></tr></table></figure></p>
<p> // 日期区间 201709—-201709<br>NSString *string = @”201709—-201710”;<br>NSUInteger strLength = string.length;<br>NSLog(@”%lu”,(unsigned long)strLength); // 16</p>
<p>NSString *beginDateStr = [string substringToIndex:6];<br>NSLog(@”beginData = %@”,beginDateStr); // beginData = 201709</p>
<p>NSString *endDateStr = [string substringFromIndex:strLength-6];<br>NSLog(@”endData = %@”,endDateStr); // endData = 201710<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">💡提示：字符串截取之前最好判断字符串长度是否满足要求或者正则表达式校验字符串内容，否则很容易引起越界异常。</span><br><span class="line"></span><br><span class="line"><span class="meta">### 字符串的查找并替换</span></span><br><span class="line">    <span class="built_in">NSString</span> *email = <span class="string">@"andywhm@163.com"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *searchString = <span class="string">@"@163"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// rangeOfString: 查找并返回接收器中给定字符串第一次出现的范围。</span></span><br><span class="line">    <span class="built_in">NSRange</span> range = [email rangeOfString:searchString];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"被查找字符串在接受字符串中的起始点:%lu"</span>,range.location);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"被查找字符串在接受字符串中的长度：%lu"</span>,range.length);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (range.location == <span class="built_in">NSNotFound</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"字符串没有找到！"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 将指定范围内的字符串替换为新的字符串</span></span><br><span class="line">        <span class="built_in">NSString</span> *newString = [email stringByReplacingCharactersInRange:range withString:<span class="string">@"@qq"</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"替换后的字符串为：%@"</span>,newString);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">* 正则表达式查找字符串</span><br></pre></td></tr></table></figure></p>
<p>// 待匹配字符串<br>NSString *string = @”201709—-201710”;<br>// 返回匹配到的第一个字符串范围<br>NSRange range = [string rangeOfString:@”\d+” options:NSRegularExpressionSearch];<br>if (range.location != NSNotFound) {<br>    NSLog(@”%@”,[string substringWithRange:range]); // 201709<br>}<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">* </span>在一个字符串中搜索子字符串，最灵活的方式是：</span><br></pre></td></tr></table></figure></p>
<ul>
<li>(NSRange)rangeOfString:(NSString *)aString<pre><code>options:(NSStringCompareOptions)mask
  range:(NSRange)searchRange
 locale:(NSLocale *)locale;
</code></pre><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 字符串替换</span><br><span class="line"></span><br><span class="line">* ``stringByReplacingCharactersInRange:withString:``</span><br><span class="line"></span><br><span class="line">*  ``stringByReplacingOccurrencesOfString:withString: ``接收器中目标字符串的所有出现的都将被另一个给定字符串替换。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>NSString <em>email = @”<a href="mailto:andywhm@163.com" target="_blank" rel="noopener">andywhm@163.com</a>“;<br>NSString </em>newString2 = [email stringByReplacingOccurrencesOfString:@”163.com” withString:@”qq.com”];<br>NSLog(@”替换后的字符串为：%@”,newString2);<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">*  </span>拓展：使用下面这个方法整体替换字符串还可以设置替换的区域。</span><br></pre></td></tr></table></figure></p>
<p>stringByReplacingOccurrencesOfString:(NSString <em>)withString:(NSString </em>) options:(NSStringCompareOptions) range:(NSRange)<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 字符串的隐藏显示</span><br></pre></td></tr></table></figure></p>
<p>// 截取字符串，再用<em>填充<br>NSString </em>string = @”123456”;<br>NSUInteger length = string.length;<br>string = [string substringToIndex:3];<br>string = [string stringByPaddingToLength:length withString:@”<em>“ startingAtIndex:0];<br>NSLog(@”string = %@”,string);<br>// string = 123**</em></p>
<p>// 隐藏身份号码，显示前5位和后2位<br>string = [string stringByReplacingCharactersInRange:NSMakeRange(6, 8) withString:@”<strong><em>**</em></strong>“];<br>// string = 33030<strong><em>**</em></strong>80<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 字符串的删除</span><br></pre></td></tr></table></figure></p>
<p>NSMutableString *email = [NSMutableString stringWithString:@”<a href="mailto:andywhm@163.com" target="_blank" rel="noopener">andywhm@163.com</a>“];<br>NSRange range = [email rangeOfString:@”@163”];<br>// NSRange range2 = NSMakeRange(7, 4);<br>[email deleteCharactersInRange:range];<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 字符串的插入</span><br></pre></td></tr></table></figure></p>
<p>NSMutableString *email = [NSMutableString stringWithString:@”<a href="mailto:andywhm@163.com" target="_blank" rel="noopener">andywhm@163.com</a>“];<br>[email insertString:@”12345” atIndex:2];<br>NSLog(@”new email:%@”,email);<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> 输出结果：</span><br><span class="line"></span><br><span class="line">&gt;**new email:an12345dywhm@<span class="number">163.</span>com**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 字符串拷贝</span><br></pre></td></tr></table></figure></p>
<p>NSMutableString <em>mutableStr1 = [NSMutableString stringWithString:@”Hello”];<br>NSMutableString </em>mutableStr2;</p>
<p>//  两个指针同时指向同一块内存<br>mutableStr2 = mutableStr1;<br>[mutableStr2 appendString:@” World”];</p>
<p>NSLog(@”mutableStr1:%@”,mutableStr1);<br>NSLog(@”mutableStr2:%@”,mutableStr2);<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line"></span><br><span class="line">&gt; **<span class="symbol">mutableStr1:</span>Hello World**</span><br><span class="line">&gt;</span><br><span class="line">&gt; **<span class="symbol">mutableStr2:</span>Hello World**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 字符串的获取及遍历</span></span><br><span class="line"></span><br><span class="line">* 获取字符串长度<span class="symbol">:``length``</span></span><br></pre></td></tr></table></figure></p>
<p>//length : 获取字符串的字符个数<br>NSString *string1 = @”abcdefg”;<br>NSUInteger length = [string1 length]; //length = 7<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="quote">&gt; ```-[NSString length] ```返回字符串里 **unichar** 的个数。我们已经了解了三个可能导致这个返回值与实际（可见）字符数不符的 Unicode 特性。</span></span><br><span class="line"><span class="bullet">* </span>基本多文种平面外的字符：记住，BMP 里所有的字符在 UTF-16 里都可以用一个码元表示。所有其余的字符都需要两个码元（一个代理对）。基本上所有现代使用的字符都在 BMP 里，因此在实际中很难遇到代理对。然而，几年前随着 emoji 被引入 Unicode（在 1 号平面），这种情况已经有所变化。</span><br><span class="line"><span class="bullet">* </span>组合字符序列：如果字母 é 是以分解形式（e + ´）编码的，算作两个码元。</span><br><span class="line"><span class="bullet">* </span>变体序列：它们和分解形式的组合字符序列的工作方式一样，因此变体选择符也算作单独的字符。</span><br><span class="line">——摘自  [<span class="string">ObjC中国-NSString 与 Unicode</span>](<span class="link">https://www.objccn.io/issue-9-1/</span>)</span><br><span class="line"></span><br><span class="line"><span class="bullet">* </span>获取特定字符:<span class="code">``characterAtIndex:`</span>`</span><br></pre></td></tr></table></figure></p>
<p>//characterAtIndex : 通过下标获取字符串中的特定字符<br>NSString *string1 = @”abcdefg”;<br>unichar result = [string1 characterAtIndex:2];<br>NSLog(@”result = %c”,result); //result = c<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">* </span>遍历字符串: <span class="code">```</span>characterAtIndex:</span><br></pre></td></tr></table></figure></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 结合以上两个方法，通过循环遍历字符串</span></span><br><span class="line"><span class="built_in">NSString</span> *str8 = <span class="string">@"Communication"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历字符串中的每一个字符</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;str8.length; i++) &#123;</span><br><span class="line">    <span class="keyword">unichar</span> c = [str8 characterAtIndex:i];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"index:%d,value:%c"</span>,i,c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>用 <figure class="highlight plain"><figcaption><span>``` 方法以索引方式直接访问 unichar 可能会有问题。字符串可能会包含组合字符序列、代理对或变体序列。幸运的是，**NSString** 有更好地方式：```enumerateSubstringsInRange:options:usingBlock: ```方法。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    NSString *s = @&quot;The weather on \U0001F30D is \U0001F31E today.&quot;;</span><br><span class="line">    // The weather on 🌍 is 🌞 today.</span><br><span class="line">    NSRange fullRange = NSMakeRange(0, [s length]);</span><br><span class="line">    [s enumerateSubstringsInRange:fullRange</span><br><span class="line">                          options:NSStringEnumerationByComposedCharacterSequences</span><br><span class="line">                       usingBlock:^(NSString *substring, NSRange substringRange, NSRange enclosingRange, BOOL *stop)</span><br><span class="line">    &#123;</span><br><span class="line">        NSLog(@&quot;%@ %@&quot;, substring, NSStringFromRange(substringRange));</span><br><span class="line">    &#125;];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###  字符串的比较</span><br><span class="line"></span><br><span class="line">* 判断字符串是否相等:``isEqualToString：``</span><br><span class="line">```isEqual:``` 和 ```isEqualToString:``` 这两个方法都是一个字节一个字节地比较的。</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>NSString <em>string1 = @”abcd”;<br>NSString </em>string2 = @”ABCD”;</p>
<p>// == 是比较两个字符串的指针地址，而不是比较字符串的内容<br>if (string1 == string2) {<br>    NSLog(@”两个指针指向同一块内存”);<br>}</p>
<p>// isEqualToString：比较指针变量所指的地址内容,区分大小写<br>BOOL isEqual = [string1 isEqualToString:string2];<br>if (isEqual) {<br>    NSLog(@”相等”);<br>}else {<br>    NSLog(@”不等”);<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">复杂的情况：如果希望字符串的合成和分解的形式相吻合，得先自己正规化：</span><br></pre></td></tr></table></figure></p>
<p>NSString <em>s = @”\u00E9”; // é<br>NSString </em>t = @”e\u0301”; // e + ´<br>BOOL isEqual = [s isEqualToString:t];<br>NSLog(@”%@ is %@ to %@”, s, isEqual ? @”equal” : @”not equal”, t);<br>// =&gt; é is not equal to é</p>
<p>// Normalizing to form C<br>NSString <em>sNorm = [s precomposedStringWithCanonicalMapping];<br>NSString </em>tNorm = [t precomposedStringWithCanonicalMapping];<br>BOOL isEqualNorm = [sNorm isEqualToString:tNorm];<br>NSLog(@”%@ is %@ to %@”, sNorm, isEqualNorm ? @”equal” : @”not equal”, tNorm);<br>// =&gt; é is equal to é<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 另一个选择是使用 <span class="string">``</span><span class="string">`compare:`</span><span class="string">``</span> 方法（或者它的其它变形方法，比如：<span class="string">``</span><span class="string">`localizedCompare:`</span><span class="string">``</span>），这个方法返回一个和它相容等价的字符串。对此，苹果没有很好地写入文档。请注意，你常常还需要作标准等价的比较。<span class="string">``</span><span class="string">`compare:`</span><span class="string">``</span> 没法作这个比较。</span><br></pre></td></tr></table></figure></p>
<p>NSString <em>s = @”ff”; // ff<br>NSString </em>t = @”\uFB00”; // ﬀ ligature<br>NSComparisonResult result = [s localizedCompare:t];<br>NSLog(@”%@ is %@ to %@”, s, result == NSOrderedSame ? @”equal” : @”not equal”, t);<br>// =&gt; ff is equal to ﬀ<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 字符串以开头比较：<span class="string">``</span>hasPrefix:<span class="string">``</span></span><br></pre></td></tr></table></figure></p>
<p>if ([string1 hasPrefix:@”A”]) {<br>    NSLog(@”字符串string1以A开头”);<br>}<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 字符串以结尾比较：<span class="string">``</span>hasSuffix:<span class="string">``</span></span><br></pre></td></tr></table></figure></p>
<p>if ([string1 hasSuffix:@”D”]) {<br>    NSLog(@”字符串string1以D结尾”);<br>}<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 区分大小写比较,<span class="number">3</span>种返回值：<span class="string">``c</span>ompare: <span class="string">``</span></span><br></pre></td></tr></table></figure></p>
<p>// NSOrderedSame:判断两者内容是否相等<br>BOOL isSame = [string1 compare:string2] == NSOrderedSame;</p>
<p>// NSOrderedAscending:判断两对象值的大小(按字母顺序进行比较，string2大于string1为真)<br>BOOL isAscending = [string1 compare:string2] == NSOrderedAscending;</p>
<p>// NSOrderedAscending:判断两对象值的大小(按字母顺序进行比较，string2小于string1为真)<br>BOOL isDescending = [string1 compare:string2] == NSOrderedDescending;<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 不区分大小写比较，<span class="number">3</span>种返回值：<span class="string">``c</span>aseInsensitiveCompare:<span class="string">``</span></span><br></pre></td></tr></table></figure></p>
<p>NSComparisonResult result = [string1 caseInsensitiveCompare:(string2)];<br>switch (result) {<br>    case NSOrderedSame:<br>        NSLog(@”不区分大小写, 两者相同”);<br>        break;</p>
<pre><code>case NSOrderedDescending:
    NSLog(@&quot;降幂&quot;);
    break;

case NSOrderedAscending:
    NSLog(@&quot;升幂&quot;);
    break;

default:
    NSLog(@&quot;无法判断&quot;);
    break;
</code></pre><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 带参数的比较：``<span class="attribute">compare</span>: <span class="attribute">options</span>:<span class="built_in">``</span></span><br></pre></td></tr></table></figure>
<p>// NSNumericSearch:比较字符串的字符个数，而不是字符值<br>BOOL results = [string1 compare:string2 options:NSNumericSearch] == NSOrderedSame;<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">* </span>复杂情况下的比较：</span><br></pre></td></tr></table></figure></p>
<ul>
<li>(NSComparisonResult)compare:(NSString *)string<pre><code>options:(NSStringCompareOptions)mask
  range:(NSRange)rangeOfReceiverToCompare
 locale:(id)locale;
</code></pre><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 字符串的文件操作(读写)</span><br><span class="line"></span><br><span class="line">&gt; 纯文本文件，和文件格式或者网络协议应该选择 **UTF-8** 编码，除非有特别的需要只能用其它的编码。要向文件中写入文本，使用 ```writeToURL:atomically:encoding:error: ```这个方法。</span><br><span class="line"></span><br><span class="line">&gt; 这个方法会在 **UTF-16** 或 **UTF-32** 编码的文件上自动加上字节顺序标记。它还会把文件的编码存储在名为 com.apple.TextEncoding 的扩展文件属性里。鉴于 ```initWithContentsOf…```: ```usedEncoding:error:``` 方法知道有这个属性，当你从文件里载入文本时，使用标准的 NSString 方法就能让确保使用正确的编码更加容易。</span><br><span class="line"></span><br><span class="line">* 从文件读取字符串:``initWithContentsOfFile:``</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>NSString <em>path = @”string.text”;<br>NSString </em>string = [[NSString alloc] initWithContentsOfFile:path];<br>NSLog(@”string:%@”,string);<br>[string release]; //string=nil;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>// 用于保存 NSError 对象地址的局部指针变量<br>NSError <em>error;<br>NSString </em>myEssay = [[NSString alloc] initWithContentsOfFile:@”/some/path/file”<br>                                                    encoding:NSUTF8StringEncoding<br>                                                       error:&amp;error];<br>if (!myEssay) {<br>     NSLog(@”Error reading file:%@”,[error localizedDescription]);<br> }<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 写字符串到文件<span class="symbol">:``writeToFile</span><span class="symbol">:``</span></span><br></pre></td></tr></table></figure></p>
<p>NSString <em>string = [[NSString alloc] initWithString:@”This is a String!”];<br>NSString </em>path = @”string.text”;<br>[string writeToFile: path atomically: YES];<br>[string release];  //string=nil;<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">    // 用于保存 NSError 对象地址的局部指针变量</span><br><span class="line">    NSError *error;</span><br><span class="line">    NSString *someString = @"Text Data";</span><br><span class="line">    BOOL success = [someString writeToFile:@"some/path/file"</span><br><span class="line">                                <span class="attribute">atomically:YES</span></span><br><span class="line">                                  encoding:NSUTF8StringEncoding</span><br><span class="line">                                     <span class="attribute">error:&amp;error];</span></span><br><span class="line">    if (!success) &#123;</span><br><span class="line">        NSLog(@"Error writing file:%@",[error localizedDescription]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ios5 不支持release:[iOS应用开发：什么是ARC？](http://justcoding.iteye.com/blog/1391548)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 扩展路径</span><br></pre></td></tr></table></figure></p>
<p>NSString <em>Path = @”~/NSData.txt”;<br>NSString </em>absolutePath = [Path stringByExpandingTildeInPath];<br>NSLog(@”absolutePath:%@”,absolutePath);<br>NSLog(@”Path:%@”,[absolutePath stringByAbbreviatingWithTildeInPath]);<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">* </span>文件扩展名</span><br></pre></td></tr></table></figure></p>
<p>NSString *Path = @”~/NSData.txt”;<br>NSLog(@”Extension:%@”,[Path pathExtension]);<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; **文件路径**</span><br><span class="line">简单来说就是我们不应该使用 ```NSString``` 来描述文件路径。对于 OS X 10.<span class="number">7</span> 和 iOS <span class="number">5</span>，<span class="symbol">``</span><span class="symbol">`NSURL`</span><span class="symbol">``</span> 更便于使用，而且更有效率，它还能缓存文件系统的属性。</span><br><span class="line"></span><br><span class="line">&gt;再者，<span class="symbol">``</span><span class="symbol">`NSURL`</span><span class="symbol">``</span> 有八个方法来访问被称为 resource <span class="keyword">values</span> 的东西。这些方法提供了一个稳定的接口，使我们可以用来获取和设置文件与目录的各种属性，例如本地化文件名（<span class="symbol">``</span><span class="symbol">`NSURLLocalizedNameKey`</span><span class="symbol">``</span>）、文件大小（<span class="symbol">``</span><span class="symbol">`NSURLFileSizeKey`</span><span class="symbol">``</span>），以及创建日期（<span class="symbol">``</span><span class="symbol">`NSURLCreationDateKey`</span><span class="symbol">``</span>），等等。</span><br><span class="line"></span><br><span class="line">&gt;尤其是在遍历目录内容时，使用 <span class="symbol">``</span><span class="symbol">`-[NSFileManager enumeratorAtURL:includingPropertiesForKeys:options:errorHandler:]`</span><span class="symbol">``</span>，并传入一个**关键词（<span class="keyword">keys</span>）**列表，然后用 <span class="symbol">``</span><span class="symbol">`-getResourceValue:forKey:error:`</span><span class="symbol">``</span> 检索它们，能带来显著的性能提升。</span><br><span class="line"></span><br><span class="line">下面是一个简短的例子展示了如何将它们组合在一起：</span><br><span class="line"></span><br><span class="line"><span class="symbol">`</span></span><br></pre></td></tr></table></figure></p>
<p>NSError <em>error = nil;<br>NSFileManager </em>fm = [[NSFileManager alloc] init];<br>NSURL <em>documents = [fm URLForDirectory:NSDocumentationDirectory inDomain:NSUserDomainMask appropriateForURL:nil create:NO error:&amp;error];<br>NSArray </em>properties = @[NSURLLocalizedNameKey, NSURLCreationDateKey];<br>NSDirectoryEnumerator <em>dirEnumerator = [fm enumeratorAtURL:documents<br>                                includingPropertiesForKeys:properties<br>                                                   options:0<br>                                              errorHandler:nil];<br>for (NSURL </em>fileURL in dirEnumerator) {<br>    NSString <em>name = nil;<br>    NSDate </em>creationDate = nil;<br>    if ([fileURL getResourceValue:&amp;name forKey:NSURLLocalizedNameKey error:NULL] &amp;&amp;<br>        [fileURL getResourceValue:&amp;creationDate forKey:NSURLCreationDateKey error:NULL])<br>    {<br>        NSLog(@”‘%@’ was created at %@”, name, creationDate);<br>    }<br>}<br><code>`</code></p>
<p>我们把属性的键传给 <code>-enumeratorAtURL:...</code>方法中，在遍历目录内容时，这个方法能确保用非常高效的方式获取它们。在循环中，调用 <code>-getResourceValue:...</code> 能简单地从 <code>NSURL</code> 得到已缓存的值，而不用去访问文件系统。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://justcoding.iteye.com/blog/1405951" target="_blank" rel="noopener">NSString / NSMutableString 字符串处理，常用代码 @<strong>天梯梦</strong></a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/08/《Objective-C 编程》10.通过引用传值/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/08/《Objective-C 编程》10.通过引用传值/" class="post-title-link" itemprop="url">《Objective-C 编程》10.通过引用传值</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-08 15:14:00" itemprop="dateCreated datePublished" datetime="2017-02-08T15:14:00+08:00">2017-02-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:55:06" itemprop="dateModified" datetime="2019-04-18T00:55:06+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/08/《Objective-C 编程》10.通过引用传值/" class="leancloud_visitors" data-flag-title="《Objective-C 编程》10.通过引用传值">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="通过引用传值"><a href="#通过引用传值" class="headerlink" title="通过引用传值"></a>通过引用传值</h3><blockquote>
<p>调用函数时传入某个地址（也称为引用），然后由函数将数据存入该地址指向的内存。</p>
</blockquote>
<p>例：</p>
<ul>
<li><strong>modf()</strong> 函数：传入一个double类型的数据，返回该浮点数的整数部分和小数部分。调用该函数时，需要传入一个地址供modf()保存整数部分的计算结果。准确的说，modf()会返回小数部分，然后将整数部分拷贝至传入的地址。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">double</span> pi = <span class="number">3.14</span>;</span><br><span class="line">    <span class="keyword">double</span> integerPart;</span><br><span class="line">    <span class="keyword">double</span> fractionPart;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 将integerPart的地址作为实参传入</span></span><br><span class="line">    fractionPart = <span class="built_in">modf</span>(pi, &amp;integerPart);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 获取integerPart地址上的值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"integerPart = %.0f,factionPart = %.2f\n"</span>,integerPart,fractionPart);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<blockquote>
<p><strong>integerPart = 3,factionPart = 0.14</strong></p>
</blockquote>
<h3 id="编写通过引用传递参数的函数"><a href="#编写通过引用传递参数的函数" class="headerlink" title="编写通过引用传递参数的函数"></a>编写通过引用传递参数的函数</h3><p>写一个函数，将公制单位米转化为非公制单位的英尺和英寸。</p>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 将公制单位米转换为非公制单位英寸和英尺</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @param meters 输入参数：米</span></span><br><span class="line"><span class="comment"> @param ftPtr 英尺的地址</span></span><br><span class="line"><span class="comment"> @param inPtr 英寸的地址</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">metersToFeetAndInches</span><span class="params">(<span class="keyword">double</span> meters,<span class="keyword">unsigned</span> <span class="keyword">int</span> *ftPtr,<span class="keyword">double</span> *inPtr)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//这个函数假定 meters 的值是非负数</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//将meters变量的值转化为feet的值，类型为浮点数。</span></span><br><span class="line">    <span class="keyword">double</span> rawFeet = meters * <span class="number">3.281</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//计算类型为无符号的整形feet变量的值</span></span><br><span class="line">    <span class="comment">//floor():向下取整</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> feet = (<span class="keyword">unsigned</span> <span class="keyword">int</span>)<span class="built_in">floor</span>(rawFeet);</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//将feet变量的值存储在提供的地址里</span></span><br><span class="line">    <span class="keyword">if</span> (ftPtr) &#123;  <span class="comment">//ftPtr != NULL</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Storing %u to the address %p\n"</span>,feet,ftPtr);</span><br><span class="line">        *ftPtr = feet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//计算英寸</span></span><br><span class="line">    <span class="keyword">double</span> fractionalFoot = rawFeet - feet;</span><br><span class="line">    <span class="keyword">double</span> inches = fractionalFoot * <span class="number">12.0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//将inches变量的值保存到传入的地址</span></span><br><span class="line">    <span class="keyword">if</span> (inPtr) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Stroing %.2f to the address %p\n"</span>,inches,inPtr);</span><br><span class="line">        *inPtr = inches;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">double</span> meters = <span class="number">3.0</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> feet;</span><br><span class="line">    <span class="keyword">double</span> inches;</span><br><span class="line">    </span><br><span class="line">    metersToFeetAndInches(meters, &amp;feet, &amp;inches);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.1f meters is equal to %d feet and %.1f inches.\n"</span>,meters,feet,inches);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*  有时我们只需要获取返回值的一部分时，比如我只需要获得英寸inch的数据，而不需要获得英尺feet的数据；</span></span><br><span class="line"><span class="comment">        通常的做法是将 NULL 作为地址传入函数，表示“无须传回相应的值”。</span></span><br><span class="line"><span class="comment">        所以，metersToFeetAndInches函数中会有 if 条件表达式判断是否为空指针。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    metersToFeetAndInches(meters, <span class="literal">NULL</span>, &amp;inches);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.1f meters is equal to %.1f inches.\n"</span>,meters,inches);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/08/《Objective-C 编程》9.地址与指针/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/08/《Objective-C 编程》9.地址与指针/" class="post-title-link" itemprop="url">《Objective-C 编程》9.地址与指针</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-08 12:40:00" itemprop="dateCreated datePublished" datetime="2017-02-08T12:40:00+08:00">2017-02-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:54:44" itemprop="dateModified" datetime="2019-04-18T00:54:44+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/08/《Objective-C 编程》9.地址与指针/" class="leancloud_visitors" data-flag-title="《Objective-C 编程》9.地址与指针">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="地址与指针"><a href="#地址与指针" class="headerlink" title="地址与指针"></a>地址与指针</h1><ul>
<li>1字节（byte）=  8 位（bit）</li>
<li>内存是有数字编号的，通常用 <strong>地址</strong>（address）来指代某个特定字节的数据。</li>
<li>32位CPU或64位CPU，其实是指地址的大小。而64位CPU的寻址能力比32位CPU更强。</li>
</ul>
<h3 id="获取地址"><a href="#获取地址" class="headerlink" title="获取地址"></a>获取地址</h3><ul>
<li><strong>变量的地址</strong>：是指内存中的某个位置，该位置的内存中保存着变量的值。通过<strong>&amp;运算符</strong>，可以得到变量的地址。</li>
<li><strong>%p</strong> 是针对内存地址的格式说明符。</li>
<li>一般情况下，内存地址都会以<strong>十六进制</strong>格式输出。</li>
</ul>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">17</span>;</span><br><span class="line"><span class="keyword">printf</span>(<span class="string">"i stores its value at %p\n"</span>,&amp;i);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<blockquote>
<p><strong>i stores its value at 0x7fff5fbff79c</strong></p>
</blockquote>
<ul>
<li>当程序在计算机上运行时，相关的一切数据都会保存在内存中，并有各自的地址。</li>
<li><strong>函数</strong>也有自己的地址。通过函数的函数名，就能得到相应函数的地址。</li>
</ul>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">printf</span>(<span class="string">"this function starts at %p\n"</span>,main);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<blockquote>
<p><strong>this function starts at 0x100000d10</strong></p>
</blockquote>
<h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><ul>
<li><p><strong>指针</strong>，就是用特定类型的变量来保存某个内存地址。</p>
</li>
<li><p>使用指针的意义：程序不一定能够通过拷贝来传递数据，但是一定能够<strong>直接传递</strong>或<strong>通过拷贝</strong>来传递<strong>数据的起始地址</strong>。一旦有数据的起始地址，就能够很容易地存取相应数据。</p>
</li>
<li><h6 id="指针的声明方式：例-float-a"><a href="#指针的声明方式：例-float-a" class="headerlink" title="指针的声明方式：例 :float  *a;"></a>指针的声明方式：例 :float  *a;</h6></li>
<li><p>使用<strong>*运算符</strong>，可以访问保存在某个地址中的数据。</p>
</li>
<li><p>*运算符在这里的作用：</p>
<ul>
<li><ol>
<li>声明指针；</li>
</ol>
</li>
<li><ol start="2">
<li><strong>去引用</strong>：通过指针访问某个地址中的数据；</li>
<li>向指定的地址保存数据；</li>
</ol>
</li>
</ul>
</li>
</ul>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">17</span>;</span><br><span class="line">// *声明指针，将变量addressOfI声明为<span class="keyword">int</span> *，即指向保存<span class="keyword">int</span>值的内存地址</span><br><span class="line"><span class="keyword">int</span> *addressOfI = &amp;i;</span><br><span class="line"><span class="keyword">printf</span>(<span class="string">"i stores its value at %p\n"</span>,addressOfI);</span><br><span class="line"></span><br><span class="line">// *访问保存在addressOfI地址中的<span class="keyword">int</span>值</span><br><span class="line"><span class="keyword">printf</span>(<span class="string">"the int stored at addressOfI is %d\n"</span>,*addressOfI);</span><br><span class="line"></span><br><span class="line">//在赋值表达式的左侧使用*运算符，将数据保存在指定的地址中</span><br><span class="line">*addressOfI = <span class="number">89</span>;</span><br><span class="line"><span class="keyword">printf</span>(<span class="string">"Now i is %d\n"</span>,i);</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<blockquote>
<p><strong>i stores its value at 0x7fff5fbff79c</strong></p>
<p><strong>the int stored at addressOfI is 17</strong></p>
<p><strong>Now i is 89</strong></p>
</blockquote>
<h3 id="不同类型的数据所占用的字节大小"><a href="#不同类型的数据所占用的字节大小" class="headerlink" title="不同类型的数据所占用的字节大小"></a>不同类型的数据所占用的字节大小</h3><ul>
<li><strong>sizeof()</strong> 可以得到某个数据类型的大小；</li>
<li><strong>sizeof()</strong> 会返回一个类型为 <strong>size_t</strong> 的数，与之对应的格式说明符为：<strong>%zu</strong> ;</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用 sizeof() 可以得到某个数据类型的大小</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"An char is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"An short is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(<span class="keyword">short</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"An int is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"An long is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(<span class="keyword">long</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"An float is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(<span class="keyword">float</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"An double is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(<span class="keyword">double</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"A pointer is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span> *));</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用 sizeof() 时，传入的实参也可以是变量</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"An int is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(i));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"A pointer is %zu bytes\n"</span>,<span class="keyword">sizeof</span>(addressOfI));</span><br></pre></td></tr></table></figure>
<p> 输出结果：</p>
<blockquote>
<p><strong>An char is 1 bytes</strong></p>
<p><strong>An short is 2 bytes</strong></p>
<p><strong>An int is 4 bytes</strong></p>
<p><strong>An long is 8 bytes</strong></p>
<p><strong>An float is 4 bytes</strong></p>
<p><strong>An double is 8 bytes</strong></p>
<p><strong>A pointer is 8 bytes</strong></p>
<p><strong>An int is 4 bytes</strong></p>
<p><strong>A pointer is 8 bytes</strong></p>
</blockquote>
<blockquote>
<p>可以通过查看<strong>指针的所占用的字节大小</strong>反向判断运行该程序的处理器（CPU）位数。<br>如果指针的长度是4个字节，那么运行该程序的处理器就是32位的；<br>如果指针的长度是8个字节，那么处理器就是64位的。</p>
</blockquote>
<ul>
<li>范围，能够保存的最小数和最大数</li>
</ul>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>位数</th>
<th>最小数</th>
<th>最大数</th>
</tr>
</thead>
<tbody>
<tr>
<td>char</td>
<td>8位</td>
<td>-128</td>
<td>127</td>
</tr>
<tr>
<td>Unsigned char</td>
<td>8位</td>
<td>0</td>
<td>255</td>
</tr>
<tr>
<td>short</td>
<td>16位</td>
<td>-32768</td>
<td>32767</td>
</tr>
<tr>
<td>Unsigned short</td>
<td>16位</td>
<td>0</td>
<td>65535</td>
</tr>
</tbody>
</table>
<h3 id="NULL"><a href="#NULL" class="headerlink" title="NULL"></a>NULL</h3><ul>
<li><p><strong>“空”指针</strong>：某些情况下，要有一个能够保存地址的指针变量，但是要赋上某个值，用于明确表示该指针没有指向任何地址。C语言中的<strong>NULL</strong>就是这里的“某个值”；</p>
</li>
<li><p>NULL就是0；</p>
<p>在 <strong>if</strong> 的条件表达式中，判断指针是否为空：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> *myPointer;</span><br><span class="line"><span class="keyword">if</span> (myPointer) &#123;</span><br><span class="line">    <span class="comment">// myPointer 为 真，即 myPointer != NULL</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"myPointer 不是 NULL.\n"</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"myPointer 是 NULL.\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  同上</span></span><br><span class="line"><span class="keyword">if</span> (myPointer != <span class="literal">NULL</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"myPointer 不是 NULL.\n"</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"myPointer 是 NULL.\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<blockquote>
<p><strong>myPointer </strong> <strong>是</strong> <strong>NULL.</strong></p>
<p><strong>myPointer </strong> <strong>是</strong> <strong>NULL.</strong></p>
</blockquote>
</li>
</ul>
<ul>
<li><p>有时NULL表示此处为空值；</p>
</li>
<li><p>nil和NULL是相等的，但是Objective-C的程序员通常会使用nil来代表该地址上没有对象。</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/07/《Objective-C 编程》7.数字/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/07/《Objective-C 编程》7.数字/" class="post-title-link" itemprop="url">《Objective-C 编程》7.数字</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-07 13:44:00" itemprop="dateCreated datePublished" datetime="2017-02-07T13:44:00+08:00">2017-02-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 00:54:25" itemprop="dateModified" datetime="2019-04-18T00:54:25+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/07/《Objective-C 编程》7.数字/" class="leancloud_visitors" data-flag-title="《Objective-C 编程》7.数字">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h1><p>——摘自<a href="https://zh.wikipedia.org/wiki/C语言#.E5.9C.A8C.E8.AA.9E.E8.A8.80.E4.B8.AD.E7.9A.84.E8.BF.90.E7.AE.97.E7.AC.A6.E5.8F.B7" target="_blank" rel="noopener">维基百科</a><br><img src="http://upload-images.jianshu.io/upload_images/2648731-5d23cae672e807bb.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p><strong>Tips</strong>: 合理使用限定词： <code>long</code>、<code>long long</code>、<code>short</code>、<code>unsigned</code> 及 <code>signed</code> 可以弹性地获取内存空间以节约内存。</p>
<h1 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h1><p><img src="http://upload-images.jianshu.io/upload_images/2648731-f6f09adf018657a5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="计算机中的数字"></p>
<h3 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h3><ul>
<li>整数是没有小数点的数——一个完整的数；</li>
<li>为了保存数字，整数变量会占用一定的<strong>位(bit)数空间</strong>。典型的整数尺寸有8位、16位、32位和64位，而8位的无符号数可以保存0～255之间的整数。（1 byte = 8 bit）</li>
<li>整数还有 <strong>有符号</strong> 和 <strong>无符号</strong> 两种类型。char 、short、int、long 和 long long <strong>默认是有符号</strong> 的，加上 <strong>unsigned</strong> 前缀可以得到无符号的版本。</li>
</ul>
<h4 id="整数的声明"><a href="#整数的声明" class="headerlink" title="整数的声明"></a>整数的声明</h4><table>
<thead>
<tr>
<th style="text-align:left">声明整数的变量类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">UInt32</td>
<td style="text-align:left">无符号32位整数</td>
</tr>
<tr>
<td style="text-align:left">SInt16</td>
<td style="text-align:left">有符号16位整数</td>
</tr>
<tr>
<td style="text-align:left">Char</td>
<td style="text-align:left">8位</td>
</tr>
<tr>
<td style="text-align:left">Short</td>
<td style="text-align:left">通常是16位</td>
</tr>
<tr>
<td style="text-align:left">Int</td>
<td style="text-align:left">通常是32位</td>
</tr>
<tr>
<td style="text-align:left">long</td>
<td style="text-align:left">32位或64位</td>
</tr>
<tr>
<td style="text-align:left">long long</td>
<td style="text-align:left">64位</td>
</tr>
</tbody>
</table>
<p>（注：整数类型所占的位数是平台相关的。）</p>
<h4 id="用于显示整数的格式说明符号"><a href="#用于显示整数的格式说明符号" class="headerlink" title="用于显示整数的格式说明符号"></a>用于显示整数的格式说明符号</h4><table>
<thead>
<tr>
<th>进制</th>
<th>格式说明符</th>
</tr>
</thead>
<tbody>
<tr>
<td>十进制</td>
<td>%d</td>
</tr>
<tr>
<td>八进制</td>
<td>%o</td>
</tr>
<tr>
<td>十六进制</td>
<td>%x</td>
</tr>
</tbody>
</table>
<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int x = 255;</span><br><span class="line">printf(&quot;x is %d.\n&quot;,x);                // x is 255.</span><br><span class="line">printf(&quot;In octal,x is %o.\n&quot;,x);       // In octal,x is 377.</span><br><span class="line">printf(&quot;In hexadecimal,x is %x.\n&quot;,x); // In hexadecimal,x is ff.</span><br></pre></td></tr></table></figure>
<p>对于位数很多的大整数，可以在%和转换字符之间加入一个 <strong>l</strong> (针对long) 或 <strong>ll</strong> (针对long long)  。</p>
<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">long x = 255;</span><br><span class="line">printf(&quot;x is %ld.\n&quot;,x);                // x is 255.</span><br><span class="line">printf(&quot;In octal,x is %lo.\n&quot;,x);       // In octal,x is 377.</span><br><span class="line">printf(&quot;In hexadecimal,x is %lx.\n&quot;,x); // In hexadecimal,x is ff.</span><br></pre></td></tr></table></figure>
<p>如果要输出的是<strong>无符号的十进制数</strong>，就应该使用 <strong>%u</strong> :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">unsigned long x = 255;</span><br><span class="line">printf(&quot;x is %lu.\n&quot;,x); // x is 255.</span><br><span class="line"></span><br><span class="line">// 按八进制和十六进制输出时，会假设数字是无符号的</span><br><span class="line">printf(&quot;In octal,x is %lo.\n&quot;,x);       // In octal,x is 377.</span><br><span class="line">printf(&quot;In hexadecimal,x is %lx.\n&quot;,x); // In hexadecimal,x is ff.</span><br></pre></td></tr></table></figure>
<h3 id="传入特定参数，来设置最小字段宽度和最小数字位数（默认两者都是-0）"><a href="#传入特定参数，来设置最小字段宽度和最小数字位数（默认两者都是-0）" class="headerlink" title="传入特定参数，来设置最小字段宽度和最小数字位数（默认两者都是 0）"></a>传入特定参数，来设置最小字段宽度和最小数字位数（默认两者都是 0）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 正数</span><br><span class="line">int m = 42;</span><br><span class="line">NSString *s = [NSString stringWithFormat:@&quot;&apos;%4d&apos; &apos;%-4d&apos; &apos;%+4d&apos; &apos;%4.3d&apos; &apos;%04d&apos;&quot;, m, m, m, m, m];</span><br><span class="line">// &quot;[  42] [42  ] [ +42] [ 042] [0042]&quot;</span><br><span class="line"></span><br><span class="line">// 负数</span><br><span class="line">int m = -42;</span><br><span class="line">NSString *s = [NSString stringWithFormat:@&quot;&apos;%4d&apos; &apos;%-4d&apos; &apos;%+4d&apos; &apos;%4.3d&apos; &apos;%04d&apos;&quot;, m, m, m, m, m];</span><br><span class="line">// &quot;[ -42] [-42 ] [ -42] [-042] [-042]&quot;</span><br></pre></td></tr></table></figure>
<h3 id="整数运算符"><a href="#整数运算符" class="headerlink" title="整数运算符"></a>整数运算符</h3><ul>
<li>算数运算符+、-和*的作用与数学运算符相同；</li>
<li>算数运算符遵循的优先规则：*会在+或-之前运算；</li>
</ul>
<h4 id="整数除法"><a href="#整数除法" class="headerlink" title="整数除法"></a>整数除法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">printf(&quot;11 / 3 = %d\n&quot;,11 / 3);    //  11 / 3 = 3</span><br><span class="line">printf(&quot;-11 / 3 = %d\n&quot;, -11 / 3); // -11 / 3 = -3</span><br></pre></td></tr></table></figure>
<p>在C语言中，一个整数除以另一个整数，得到的还是整数。系统会将计算结果向0的方向取整;</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-9d5f429c33c8add9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="整数除法运算符"></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 11除以3，得3，余2</span><br><span class="line">printf(&quot;11 / 3 = %d remainder of %d\n&quot;,11 / 3 , 11 % 3); // 11 / 3 = 3 remainder of 2</span><br></pre></td></tr></table></figure>
<p>如果要得到3.666667这样的结果，就要先通过<strong>转换运算符</strong>。</p>
<p><strong>转换运算符</strong>：就是需要转换的目标类型，但是要放在小括号里，并写在需要转换的变量的左侧。</p>
<p>💡💡💡规则：如果分子和分母都是整数类型，那么／执行的是<strong>整数除法</strong>。如果分子和分母有任何一个是浮点数，就会执行<strong>浮点数除法</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">printf(&quot;11 / 3.0 = %f\n&quot;,11 / (float)3); // 11 / 3.0 = 3.666667</span><br></pre></td></tr></table></figure>
<p>这里的分母是浮点数，所以执行的是浮点数除法。</p>
<h4 id="NSInteger-和-NSUInteger"><a href="#NSInteger-和-NSUInteger" class="headerlink" title="NSInteger 和 NSUInteger"></a>NSInteger 和 NSUInteger</h4><ul>
<li>NSInteger 和 NSUInteger 这两种类型无论在32位系统还是64位系统上都能够通用。NSInteger 是有符号的，NSUInteger 是无符号的。</li>
<li>构建32位应用程序时，NSInteger 是32位整数。 而64位应用程序时会将 NSInteger 视为64位整数。</li>
<li>同样地，构建32位应用程序时，NSUInteger 是一个32位无符号整数。而64位应用程序会将 NSUInteger 视为64位无符号整数。</li>
<li>使用 <code>printf()</code>输出这两种类型的变量，需要先将它们转换成对应的 long 类型。</li>
</ul>
<p>NSInteger 和 NSUInteger 只是基本整数类型的 typedef：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#if __LP64__ || NS_BUILD_32_LIKE_64</span><br><span class="line">  typedef long NSInteger;</span><br><span class="line">  typedef unsigned long NSUInteger;</span><br><span class="line">#else</span><br><span class="line">  typedef int NSInteger;</span><br><span class="line">  typedef unsigned int NSUInteger;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure></p>
<p>NSInteger 和 NSUInteger 之间的相互转换，只需要做简单的投射：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSInteger myInt = 0;</span><br><span class="line">NSUInteger unsignedInt = (NSUInteger)myInt;</span><br></pre></td></tr></table></figure></p>
<h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><ul>
<li>C语言中的运算符<br>——摘自<a href="https://zh.wikipedia.org/wiki/C语言#.E5.9C.A8C.E8.AA.9E.E8.A8.80.E4.B8.AD.E7.9A.84.E8.BF.90.E7.AE.97.E7.AC.A6.E5.8F.B7" target="_blank" rel="noopener">维基百科</a><br><img src="http://upload-images.jianshu.io/upload_images/2648731-90418c36c2705e6e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></li>
<li>自增运算符（++）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Int x = 5;</span><br><span class="line">x++; // x = x + 1;</span><br></pre></td></tr></table></figure>
<ul>
<li>自减运算符（–）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Int x = 5;</span><br><span class="line">x--; // x = x - 1;</span><br></pre></td></tr></table></figure>
<ul>
<li>+=、-=、*=、／=、%=</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Int x = 5;</span><br><span class="line">x +=5; // x = x + 5;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>函数：<strong>abs()</strong>、<strong>labs()</strong></p>
<p>函数库：<strong>stdlib.h</strong></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>函数名</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>abs()</td>
<td>计算 int 类型数的绝对值</td>
</tr>
<tr>
<td>labs()</td>
<td>计算 long 类型数的绝对值</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h3><ul>
<li>浮点数可以用来代表“带十进制小数的数”；</li>
<li>要区分浮点常量，可以看它是否包含小数点；</li>
<li>浮点常量可以用科学记数法表示（1.7e4 代表1.7*10^4）;</li>
<li>操作系统存储浮点数的方式：某个底数乘上一个以10为底的指数幂（指数为整数）；</li>
<li>与整数一样，浮点数也有不同的尺寸类型，但是浮点数都是<strong>有符号</strong>的。</li>
<li><code>double</code> 类型的变量可存储的范围大概是 <code>float</code> 的两倍；</li>
</ul>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>位数</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td>32位</td>
</tr>
<tr>
<td>double</td>
<td>64位</td>
</tr>
<tr>
<td>long double</td>
<td>128位</td>
</tr>
</tbody>
</table>
<h4 id="用于显示浮点数的格式说明符"><a href="#用于显示浮点数的格式说明符" class="headerlink" title="用于显示浮点数的格式说明符"></a>用于显示浮点数的格式说明符</h4><table>
<thead>
<tr>
<th>计数方法</th>
<th>格式说明符</th>
</tr>
</thead>
<tbody>
<tr>
<td>十进制计数法</td>
<td>%f</td>
</tr>
<tr>
<td>科学计数法</td>
<td>%e</td>
</tr>
<tr>
<td>以%f、%e中较短的输出宽度输出单、双精度实数，在指数小于-4或者大于等于精度时使用%e格式</td>
<td>%g</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">double y = 12345.6789;</span><br><span class="line">printf(&quot;y is %f\n&quot;,y); // y is 12345.678900</span><br><span class="line">printf(&quot;y is %e\n&quot;,y); // y is 1.234568e+04</span><br><span class="line"></span><br><span class="line">// 小数点后保留2位</span><br><span class="line">double y2 = 12345.6789;</span><br><span class="line">printf(&quot;y2 is %.2f\n&quot;,y2); // y2 is 12345.68</span><br><span class="line">printf(&quot;y2 is %.2e\n&quot;,y2); // y2 is 1.23e+04</span><br></pre></td></tr></table></figure>
<blockquote>
<p>浮点数的格式转符有8个：<strong>eEfFgGaA</strong>。但除了 <strong>%f</strong> 和 <strong>%g</strong> 外我们很少使用其它的。对于指数部分，小写的版本使用小写 e，大写的版本就使用大写 E。</p>
</blockquote>
<blockquote>
<p>通常 <strong>%g</strong> 是浮点数的全能转换符 ，它与 <strong>%f</strong> 的不同在下面的例子里显示得很清楚：<br>（ <code>%g</code>会根据变量值自动选择格式转换符（<code>%f</code> /  <code>%e</code>）用最小的位数来显示数值）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">double v[5] = &#123;12345, 12, 0.12, 0.12345678901234, 0.0000012345678901234&#125;;</span><br><span class="line">NSString *s = [NSString stringWithFormat:@&quot;%g %g %g %g %g&quot;, v[0], v[1], v[2], v[3], v[4]];</span><br><span class="line">// &quot;12345 12 0.12 0.123457 1.23457e-06&quot;</span><br><span class="line">NSString *s = [NSString stringWithFormat:@&quot;%f %f %f %f %f&quot;, v[0], v[1], v[2], v[3], v[4]];</span><br><span class="line">// &quot;12345.000000 12.000000 0.120000 0.123457 0.000001&quot;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="整数值和浮点值的相互转换"><a href="#整数值和浮点值的相互转换" class="headerlink" title="整数值和浮点值的相互转换"></a>整数值和浮点值的相互转换</h3><p>隐式转换规则：</p>
<ul>
<li>浮点值➡️整型变量，自动删除数字的小数部分。</li>
<li>整型变量➡️浮点值，不变。</li>
<li>只要表达式中的两个运算数是整型，该运算就将在整数运算规则下进行。</li>
<li>对于任何处理两个值的运算，如果其中一个值是浮点变量或常量，那么这一运算将作为浮点运算来处理。</li>
</ul>
<h3 id="数学代码库"><a href="#数学代码库" class="headerlink" title="数学代码库"></a>数学代码库</h3><ul>
<li>当要处理复杂的数学运算时，就要用到数学代码库：<strong>math.h</strong>；</li>
<li>运行Mac上的终端（Terminal）应用，输入 <code>man math</code>,可以查看数学代码库所提供的功能；</li>
<li>注意：所有与三角函数有关的函数，使用的单位都是<strong>弧度</strong>而不是角度。</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/02/03/为 Windows 系统开启 Intel® Rapid Start Technology/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/03/为 Windows 系统开启 Intel® Rapid Start Technology/" class="post-title-link" itemprop="url">为 Windows 系统开启 Intel® Rapid Start Technology</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-03 23:12:00" itemprop="dateCreated datePublished" datetime="2017-02-03T23:12:00+08:00">2017-02-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-18 01:05:56" itemprop="dateModified" datetime="2019-04-18T01:05:56+08:00">2019-04-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/开发工具-Mac应用/" itemprop="url" rel="index"><span itemprop="name">开发工具&Mac应用</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/02/03/为 Windows 系统开启 Intel® Rapid Start Technology/" class="leancloud_visitors" data-flag-title="为 Windows 系统开启 Intel® Rapid Start Technology">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <h2 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h2><p>Intel® Rapid Start Technology（IRST）：英特尔快速启动技术能够使您的系统从深度睡眠模式中更快地启动和运行，从而节省时间和功耗。</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/02/03/为 Windows 系统开启 Intel® Rapid Start Technology/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2017/01/19/Masonry——简化自动布局代码框架/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/01/19/Masonry——简化自动布局代码框架/" class="post-title-link" itemprop="url">Masonry——简化自动布局代码框架</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-01-19 17:57:00" itemprop="dateCreated datePublished" datetime="2017-01-19T17:57:00+08:00">2017-01-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-17 01:43:02" itemprop="dateModified" datetime="2019-04-17T01:43:02+08:00">2019-04-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS-开源框架/" itemprop="url" rel="index"><span itemprop="name">iOS 开源框架</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2017/01/19/Masonry——简化自动布局代码框架/" class="leancloud_visitors" data-flag-title="Masonry——简化自动布局代码框架">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>GitHub源码: <a href="https://github.com/SnapKit/Masonry" target="_blank" rel="noopener">Masonry</a> </li>
<li>star:17000+</li>
</ul>
<blockquote>
<pre><code>⭐️⭐️⭐️ 
</code></pre><p>以下内容来源于官方源码、 README 文档、测试 Demo或个人使用总结 ！</p>
</blockquote>
<h1 id="Masonry"><a href="#Masonry" class="headerlink" title="Masonry"></a>Masonry</h1><p><strong>Masonry</strong> 是一个轻量级的布局框架，拥有自己的描述语法，采用更优雅的链式语法封装自动布局，简洁明了并具有高可读性。</p>
<p>Masonry利用简化、可链接和表达式的语法发挥 <strong>Auto Layout</strong> 和 <strong>NSLayoutConstraints</strong> 的力量。支持iOS和OSX <strong>Auto Layout</strong>。</p>
<p>总的来说，就是当你在 <strong>Interface Bulider</strong> 上使用 <strong>Auto Layout</strong> 的时候基本上是非常方便的，但是当我们的 <strong>UI</strong> 是用手写代码生成时，或是<strong>UI界面</strong>需要随用户交互而更改，这时候做自动布局的时候使用原生的 <strong>NSLayoutConstraints</strong> 类及其的繁琐，<strong>Masonry</strong> 用简洁的语法对<strong>Auto Layout</strong> 进行了封装，使用相对更方便。</p>
<h3 id="NSLayoutConstraints-的问题"><a href="#NSLayoutConstraints-的问题" class="headerlink" title="NSLayoutConstraints 的问题"></a>NSLayoutConstraints 的问题</h3><p>添加一个子视图，跟随父视图的大小变化，但是与父视图边距有10个点的距离：<br><img src="http://upload-images.jianshu.io/upload_images/2648731-e9dbc519a52c663f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="使用-NSLayoutConstraints"><a href="#使用-NSLayoutConstraints" class="headerlink" title="使用 NSLayoutConstraints"></a>使用 NSLayoutConstraints</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    UIView *superview = self.view;</span><br><span class="line">    UIView *view1 = [[UIView alloc] init];</span><br><span class="line">    // 设置为NO，表示通过添加自己的约束以使用 Auto Layout 定位视图</span><br><span class="line">    view1.translatesAutoresizingMaskIntoConstraints = NO;</span><br><span class="line">    view1.backgroundColor = [UIColor greenColor];</span><br><span class="line">    [superview addSubview:view1];</span><br><span class="line">    </span><br><span class="line">    // 指定每个边缘的插入量（正），值可以是负的到“起点”</span><br><span class="line">    UIEdgeInsets padding = UIEdgeInsetsMake(10, 10, 10, 10);</span><br><span class="line">    </span><br><span class="line">    [superview addConstraints:@[</span><br><span class="line">                                </span><br><span class="line">        // view1 constraints</span><br><span class="line">        // view1.attribute1 = multiplier × superview.attribute2 + constant</span><br><span class="line">        // view1的顶部距离父视图的顶部10px</span><br><span class="line">        [NSLayoutConstraint constraintWithItem:view1</span><br><span class="line">                                     attribute:NSLayoutAttributeTop</span><br><span class="line">                                     relatedBy:NSLayoutRelationEqual</span><br><span class="line">                                        toItem:superview</span><br><span class="line">                                     attribute:NSLayoutAttributeTop</span><br><span class="line">                                    multiplier:1.0</span><br><span class="line">                                      constant:padding.top],</span><br><span class="line">        // 左边距离10px</span><br><span class="line">        [NSLayoutConstraint constraintWithItem:view1</span><br><span class="line">                                     attribute:NSLayoutAttributeLeft</span><br><span class="line">                                     relatedBy:NSLayoutRelationEqual</span><br><span class="line">                                        toItem:superview</span><br><span class="line">                                     attribute:NSLayoutAttributeLeft</span><br><span class="line">                                    multiplier:1.0</span><br><span class="line">                                      constant:padding.left],</span><br><span class="line">        // 底部距离10px</span><br><span class="line">        [NSLayoutConstraint constraintWithItem:view1</span><br><span class="line">                                     attribute:NSLayoutAttributeBottom</span><br><span class="line">                                     relatedBy:NSLayoutRelationEqual</span><br><span class="line">                                        toItem:superview</span><br><span class="line">                                     attribute:NSLayoutAttributeBottom</span><br><span class="line">                                    multiplier:1.0</span><br><span class="line">                                      constant:-padding.bottom],</span><br><span class="line">        // 右边距离10px</span><br><span class="line">        [NSLayoutConstraint constraintWithItem:view1</span><br><span class="line">                                     attribute:NSLayoutAttributeRight</span><br><span class="line">                                     relatedBy:NSLayoutRelationEqual</span><br><span class="line">                                        toItem:superview</span><br><span class="line">                                     attribute:NSLayoutAttributeRight</span><br><span class="line">                                    multiplier:1</span><br><span class="line">                                      constant:-padding.right],</span><br><span class="line">        ]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="使用Masonry"><a href="#使用Masonry" class="headerlink" title="使用Masonry"></a>使用Masonry</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[view1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.top.equalTo(superview.mas_top).with.offset(padding.top);</span><br><span class="line">    make.left.equalTo(superview.mas_left).with.offset(padding.left);</span><br><span class="line">    make.bottom.equalTo(superview.mas_bottom).with.offset(-padding.bottom);</span><br><span class="line">    make.right.equalTo(superview.mas_right).with.offset(-padding.right);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h4 id="更短的写法"><a href="#更短的写法" class="headerlink" title="更短的写法"></a>更短的写法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[view1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.edges.equalTo(superview).with.insets(padding);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h3 id="Masonry实践"><a href="#Masonry实践" class="headerlink" title="Masonry实践"></a>Masonry实践</h3><p>下面参考<a href="http://adad184.com/2014/09/28/use-masonry-to-quick-solve-autolayout/" target="_blank" rel="noopener">Masonry介绍与使用实践(快速上手Autolayout) @里脊串的开发随笔</a>，练习使用Masonry。</p>
<h4 id="需要的源码"><a href="#需要的源码" class="headerlink" title="需要的源码"></a>需要的源码</h4><ul>
<li><a href="https://github.com/SnapKit/Masonry" target="_blank" rel="noopener">GitHub:Masonry</a></li>
<li><a href="https://github.com/adad184/MMPlaceHolder" target="_blank" rel="noopener">GitHub:MMPlaceHolder</a></li>
<li><a href="https://github.com/adad184/DemoMasonry" target="_blank" rel="noopener">GitHub:DemoMasonry</a></li>
</ul>
<h4 id="1-居中显示一个300-300的superview"><a href="#1-居中显示一个300-300的superview" class="headerlink" title="1. 居中显示一个300*300的superview"></a>1. 居中显示一个300*300的superview</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UIView *superview = [UIView new];</span><br><span class="line">[superview showPlaceHolder];    // 需要导入MMPlaceHolder框架</span><br><span class="line">superview.backgroundColor = [UIColor blackColor];</span><br><span class="line">[self.view addSubview:superview];</span><br><span class="line">[superview mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.center.equalTo(self.view);</span><br><span class="line">    make.size.mas_equalTo(CGSizeMake(300, 300));</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-267b32ef5012fde1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="2-让superview1略小于其superview-边距为20"><a href="#2-让superview1略小于其superview-边距为20" class="headerlink" title="2.让superview1略小于其superview(边距为20)"></a>2.让superview1略小于其superview(边距为20)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">UIView *superview1 =[UIView new];</span><br><span class="line">superview1.backgroundColor = [UIColor redColor];</span><br><span class="line">[superview addSubview:superview1];</span><br><span class="line">[superview1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    // 写法一</span><br><span class="line">   make.edges.equalTo(superview).with.insets(UIEdgeInsetsMake(20, 20, 20, 20));</span><br><span class="line"></span><br><span class="line">    /** 写法二</span><br><span class="line">    make.top.equalTo(superview).with.offset(20);</span><br><span class="line">    make.left.equalTo(superview).with.offset(20);</span><br><span class="line">    make.bottom.equalTo(superview).with.offset(-20);</span><br><span class="line">    make.right.equalTo(superview).with.offset(-20);</span><br><span class="line">    **/</span><br><span class="line"></span><br><span class="line">    /** 写法三</span><br><span class="line">     make.top.left.bottom.and.right.equalTo(superview).with.insets(UIEdgeInsetsMake(20, 20, 20, 20));</span><br><span class="line">    **/</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-0572861e5411a644.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="3-让两个高度为150的view垂直居中、等宽、等间隔排列-间隔为10-自动计算其宽度"><a href="#3-让两个高度为150的view垂直居中、等宽、等间隔排列-间隔为10-自动计算其宽度" class="headerlink" title="3.让两个高度为150的view垂直居中、等宽、等间隔排列 (间隔为10 ),自动计算其宽度"></a>3.让两个高度为150的view垂直居中、等宽、等间隔排列 (间隔为10 ),自动计算其宽度</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">UIView *superview2 =[UIView new];</span><br><span class="line">superview2.backgroundColor = [UIColor orangeColor];</span><br><span class="line">[superview addSubview:superview2];</span><br><span class="line"></span><br><span class="line">UIView *superview3 =[UIView new];</span><br><span class="line">superview3.backgroundColor = [UIColor orangeColor];</span><br><span class="line">[superview addSubview:superview3];</span><br><span class="line"></span><br><span class="line">int padding1 = 10;</span><br><span class="line">[superview2 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.centerY.mas_equalTo(superview.mas_centerY);</span><br><span class="line">    make.left.equalTo(superview.mas_left).with.offset(padding1);</span><br><span class="line">    make.right.equalTo(superview3.mas_left).with.offset(-padding1);</span><br><span class="line">    make.height.mas_equalTo(@150);</span><br><span class="line">    make.width.equalTo(superview3);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[superview3 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.centerY.mas_equalTo(superview.mas_centerY);</span><br><span class="line">    make.left.equalTo(superview2.mas_right).with.offset(padding1);</span><br><span class="line">    make.right.equalTo(superview.mas_right).with.offset(-padding1);</span><br><span class="line">    make.height.mas_equalTo(@150);</span><br><span class="line">    make.width.equalTo(superview2);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-039fd1306120f1b4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="4-在UIScrollView-上顺序排列一些view并自动计算contentSize"><a href="#4-在UIScrollView-上顺序排列一些view并自动计算contentSize" class="headerlink" title="4.在UIScrollView 上顺序排列一些view并自动计算contentSize"></a>4.在UIScrollView 上顺序排列一些view并自动计算contentSize</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">UIScrollView *scrollView = [UIScrollView new];</span><br><span class="line">scrollView.backgroundColor = [UIColor whiteColor];</span><br><span class="line">[superview addSubview:scrollView];</span><br><span class="line">[scrollView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.edges.equalTo(superview).with.insets(UIEdgeInsetsMake(5, 5, 5, 5));</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">UIView *container = [UIView new];</span><br><span class="line">[scrollView addSubview:container];</span><br><span class="line">[container mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.edges.equalTo(scrollView);</span><br><span class="line">    make.width.equalTo(scrollView);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">int count = 10;</span><br><span class="line">UIView *lastView = nil;</span><br><span class="line"></span><br><span class="line">for (int i = 1;  i &lt;= count; i++) &#123;</span><br><span class="line">    UIView *subView = [UIView new];</span><br><span class="line">    [container addSubview:subView];</span><br><span class="line">    subView.backgroundColor = [UIColor colorWithHue:(arc4random() % 256 / 256.0)</span><br><span class="line">                                         saturation:(arc4random() % 128 / 256.0) + 0.5</span><br><span class="line">                                         brightness:(arc4random() % 128 / 256.0) + 0.5</span><br><span class="line">                                              alpha:1];</span><br><span class="line"></span><br><span class="line">    [subView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make.left.and.right.equalTo(container);</span><br><span class="line">        make.height.mas_equalTo(@(20 * i)); // 每个子视图的高度是20的倍数</span><br><span class="line"></span><br><span class="line">        if (lastView) &#123;</span><br><span class="line">            // 下一个子视图的顶部 = 上一个子视图的底部</span><br><span class="line">            make.top.mas_equalTo(lastView.mas_bottom);</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            // 第一次执行，lastView = nil,因此第一个子视图的顶部是容器的顶部</span><br><span class="line">            make.top.mas_equalTo(container.mas_top);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    lastView = subView;</span><br><span class="line">&#125;</span><br><span class="line">[container mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    // 容器的底部是最后一个视图的底部</span><br><span class="line">    make.bottom.equalTo(lastView.mas_bottom);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-c93a5fceecc4012d.gif?imageMogr2/auto-orient/strip" alt></p>
<h4 id="5-横向或者纵向等间隙的排列一组view"><a href="#5-横向或者纵向等间隙的排列一组view" class="headerlink" title="5.横向或者纵向等间隙的排列一组view"></a>5.横向或者纵向等间隙的排列一组view</h4><blockquote>
<p>11/15 添加<br>均匀分布一组view推荐使用 <code>NSArray+MASAdditions.h</code> 类中的两个方法:</p>
</blockquote>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  distribute with fixed spacing</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> axisType     which axis to distribute items along</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> fixedSpacing the spacing between each item</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> leadSpacing  the spacing before the first item and the container</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> tailSpacing  the spacing after the last item and the container</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)<span class="string">mas_distributeViewsAlongAxis:</span>(MASAxisType)axisType <span class="string">withFixedSpacing:</span>(CGFloat)fixedSpacing <span class="string">leadSpacing:</span>(CGFloat)leadSpacing <span class="string">tailSpacing:</span>(CGFloat)tailSpacing;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  distribute with fixed item size</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> axisType        which axis to distribute items along</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> fixedItemLength the fixed length of each item</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> leadSpacing     the spacing before the first item and the container</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@param</span> tailSpacing     the spacing after the last item and the container</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)<span class="string">mas_distributeViewsAlongAxis:</span>(MASAxisType)axisType <span class="string">withFixedItemLength:</span>(CGFloat)fixedItemLength <span class="string">leadSpacing:</span>(CGFloat)leadSpacing <span class="string">tailSpacing:</span>(CGFloat)tailSpacing;</span><br></pre></td></tr></table></figure>
<p><del>需要使用封装的 category 类:</del></p>
<ul>
<li><strong>UIView+LJC.h</strong>：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;UIKit/UIKit.h&gt;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> 横向或者纵向等间隙的排列一组view</span><br><span class="line"> */</span><br><span class="line">@interface UIView (LJC)</span><br><span class="line"></span><br><span class="line">- (void) distributeSpacingHorizontallyWith:(NSArray*)views;</span><br><span class="line"></span><br><span class="line">- (void) distributeSpacingVerticallyWith:(NSArray*)views;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>UIView+LJC.m</strong>：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;UIView+LJC.h&quot;</span><br><span class="line">#import &lt;Masonry/Masonry.h&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@implementation UIView (LJC)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> 横向排列一组view</span><br><span class="line"></span><br><span class="line"> @param views view数组</span><br><span class="line"> */</span><br><span class="line">- (void) distributeSpacingHorizontallyWith:(NSArray*)views</span><br><span class="line">&#123;</span><br><span class="line">    NSMutableArray *spaces = [NSMutableArray arrayWithCapacity:views.count+1];</span><br><span class="line">    </span><br><span class="line">    for ( int i = 0 ; i &lt; views.count+1 ; ++i )</span><br><span class="line">    &#123;</span><br><span class="line">        UIView *v = [UIView new];</span><br><span class="line">        [spaces addObject:v];</span><br><span class="line">        [self addSubview:v];</span><br><span class="line">        </span><br><span class="line">        [v mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            make.width.equalTo(v.mas_height);</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    UIView *v0 = spaces[0];</span><br><span class="line">    </span><br><span class="line">    [v0 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make.left.equalTo(self.mas_left);</span><br><span class="line">        make.centerY.equalTo(((UIView*)views[0]).mas_centerY);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    UIView *lastSpace = v0;</span><br><span class="line">    for ( int i = 0 ; i &lt; views.count; ++i )</span><br><span class="line">    &#123;</span><br><span class="line">        UIView *obj = views[i];</span><br><span class="line">        UIView *space = spaces[i+1];</span><br><span class="line">        </span><br><span class="line">        [obj mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            make.left.equalTo(lastSpace.mas_right);</span><br><span class="line">        &#125;];</span><br><span class="line">        </span><br><span class="line">        [space mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            make.left.equalTo(obj.mas_right);</span><br><span class="line">            make.centerY.equalTo(obj.mas_centerY);</span><br><span class="line">            make.width.equalTo(v0);</span><br><span class="line">        &#125;];</span><br><span class="line">        </span><br><span class="line">        lastSpace = space;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [lastSpace mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make.right.equalTo(self.mas_right);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> 垂直排列一组view</span><br><span class="line"></span><br><span class="line"> @param views view数组</span><br><span class="line"> */</span><br><span class="line">- (void) distributeSpacingVerticallyWith:(NSArray*)views</span><br><span class="line">&#123;</span><br><span class="line">    NSMutableArray *spaces = [NSMutableArray arrayWithCapacity:views.count+1];</span><br><span class="line">    </span><br><span class="line">    for ( int i = 0 ; i &lt; views.count+1 ; ++i )</span><br><span class="line">    &#123;</span><br><span class="line">        UIView *v = [UIView new];</span><br><span class="line">        [spaces addObject:v];</span><br><span class="line">        [self addSubview:v];</span><br><span class="line">        </span><br><span class="line">        [v mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            make.width.equalTo(v.mas_height);</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UIView *v0 = spaces[0];</span><br><span class="line">    </span><br><span class="line">    [v0 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make.top.equalTo(self.mas_top);</span><br><span class="line">        make.centerX.equalTo(((UIView*)views[0]).mas_centerX);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    UIView *lastSpace = v0;</span><br><span class="line">    for ( int i = 0 ; i &lt; views.count; ++i )</span><br><span class="line">    &#123;</span><br><span class="line">        UIView *obj = views[i];</span><br><span class="line">        UIView *space = spaces[i+1];</span><br><span class="line">        </span><br><span class="line">        [obj mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            make.top.equalTo(lastSpace.mas_bottom);</span><br><span class="line">        &#125;];</span><br><span class="line">        </span><br><span class="line">        [space mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            make.top.equalTo(obj.mas_bottom);</span><br><span class="line">            make.centerX.equalTo(obj.mas_centerX);</span><br><span class="line">            make.height.equalTo(v0);</span><br><span class="line">        &#125;];</span><br><span class="line">        </span><br><span class="line">        lastSpace = space;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [lastSpace mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        make.bottom.equalTo(self.mas_bottom);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<ul>
<li>实例测试：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">UIView *subView11 = [UIView new];</span><br><span class="line">UIView *subView12 = [UIView new];</span><br><span class="line">UIView *subView13 = [UIView new];</span><br><span class="line">UIView *subView21 = [UIView new];</span><br><span class="line">UIView *subView31 = [UIView new];</span><br><span class="line"></span><br><span class="line">subView11.backgroundColor = [UIColor redColor];</span><br><span class="line">subView12.backgroundColor = [UIColor redColor];</span><br><span class="line">subView13.backgroundColor = [UIColor redColor];</span><br><span class="line">subView21.backgroundColor = [UIColor redColor];</span><br><span class="line">subView31.backgroundColor = [UIColor redColor];</span><br><span class="line"></span><br><span class="line">[superview addSubview:subView11];</span><br><span class="line">[superview addSubview:subView12];</span><br><span class="line">[superview addSubview:subView13];</span><br><span class="line">[superview addSubview:subView21];</span><br><span class="line">[superview addSubview:subView31];</span><br><span class="line"></span><br><span class="line">//给予不同的大小，测试结果</span><br><span class="line"></span><br><span class="line">[subView11 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.centerY.equalTo(@[subView12,subView13]); // 11、12、13 Y方向对齐</span><br><span class="line">    make.centerX.equalTo(@[subView21,subView31]); // 11、21、31 X方向对齐</span><br><span class="line">    make.size.mas_equalTo(CGSizeMake(40, 40));</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[subView12 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.size.mas_equalTo(CGSizeMake(30, 30));</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[subView13 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.size.mas_equalTo(CGSizeMake(20, 20));</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[subView21 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.size.mas_equalTo(CGSizeMake(50, 50));</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[subView31 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.size.mas_equalTo(CGSizeMake(60, 60));</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[superview distributeSpacingHorizontallyWith:@[subView11,subView12,subView13]];</span><br><span class="line">[superview distributeSpacingVerticallyWith:@[subView11,subView21,subView31]];</span><br><span class="line"></span><br><span class="line">[superview showPlaceHolderWithAllSubviews];</span><br><span class="line">[superview hidePlaceHolder];</span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用空白的占位view填充目标view的旁边</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-06bc5eb7dfff4d34.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>继续参考：<a href="https://www.zybuluo.com/kezhen/note/147167" target="_blank" rel="noopener">Masonry使用总结</a>，学习使用 Masonry；</p>
<h4 id="6-Masonry的比例使用-multipliedBy"><a href="#6-Masonry的比例使用-multipliedBy" class="headerlink" title="6.Masonry的比例使用 multipliedBy"></a>6.Masonry的比例使用 multipliedBy</h4><p>使用<strong>multipliedBy</strong>必须是对<strong>同一个控件本身</strong>，如果修改成相对于其它控件会导致Crash。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">UIView *topView = [UIView new]<span class="comment">;</span></span><br><span class="line">[topView setBackgroundColor:[UIColor redColor]]<span class="comment">;</span></span><br><span class="line">[self.view <span class="keyword">addSubview:topView];</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">UIView </span>*topInnerView = [UIView new]<span class="comment">;</span></span><br><span class="line">[topInnerView setBackgroundColor:[UIColor greenColor]]<span class="comment">;</span></span><br><span class="line">[topInnerView <span class="keyword">showPlaceHolder];</span></span><br><span class="line"><span class="keyword">[self.view </span><span class="keyword">addSubview:topInnerView];</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">UIView </span>*<span class="keyword">bottomView </span>=[UIView new]<span class="comment">;</span></span><br><span class="line">[<span class="keyword">bottomView </span>setBackgroundColor:[UIColor <span class="keyword">blueColor]];</span></span><br><span class="line"><span class="keyword">[self.view </span><span class="keyword">addSubview:bottomView];</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">UIView </span>*<span class="keyword">bottomInnerView </span>=[UIView new]<span class="comment">;</span></span><br><span class="line">[<span class="keyword">bottomInnerView </span>setBackgroundColor:[UIColor <span class="keyword">blackColor]];</span></span><br><span class="line"><span class="keyword">[bottomInnerView </span><span class="keyword">showPlaceHolder];</span></span><br><span class="line"><span class="keyword">[self.view </span><span class="keyword">addSubview:bottomInnerView];</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">[topView </span>mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.top.left.<span class="keyword">and.right.mas_equalTo(0);</span></span><br><span class="line"><span class="keyword"> </span>   make.height.mas_equalTo(<span class="keyword">bottomView);</span></span><br><span class="line"><span class="keyword">&#125;];</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">[topInnerView </span>mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.left.<span class="keyword">and.right.mas_equalTo(0);</span></span><br><span class="line"><span class="keyword"> </span>   make.width.mas_equalTo(topInnerView.mas_height).<span class="keyword">multipliedBy(3);</span></span><br><span class="line"><span class="keyword"> </span>   make.center.mas_equalTo(topView)<span class="comment">;</span></span><br><span class="line">&#125;]<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">[<span class="keyword">bottomView </span>mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.left.<span class="keyword">bottom.and.right.mas_equalTo(0);</span></span><br><span class="line"><span class="keyword"> </span>   make.height.mas_equalTo(topView)<span class="comment">;</span></span><br><span class="line">    make.top.mas_equalTo(topView.mas_bottom)<span class="comment">;</span></span><br><span class="line">&#125;]<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">[<span class="keyword">bottomInnerView </span>mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.top.<span class="keyword">and.bottom.mas_equalTo(bottomView);</span></span><br><span class="line"><span class="keyword"> </span>   make.height.mas_equalTo(<span class="keyword">bottomInnerView.mas_width).multipliedBy(3);</span></span><br><span class="line"><span class="keyword"> </span>   make.center.mas_equalTo(<span class="keyword">bottomView);</span></span><br><span class="line"><span class="keyword">&#125;];</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-fd5dee7c4a43a469.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="7-使用priority优先级属性来做简单的动画"><a href="#7-使用priority优先级属性来做简单的动画" class="headerlink" title="7.使用priority优先级属性来做简单的动画"></a>7.使用priority优先级属性来做简单的动画</h4><blockquote>
<p>.priority allows you to specify an exact priority</p>
<p>.priorityHigh equivalent to <strong>UILayoutPriorityDefaultHigh</strong></p>
<p>.priorityMedium is half way between high and low</p>
<p>.priorityLow equivalent to <strong>UILayoutPriorityDefaultLow</strong></p>
</blockquote>
<ol>
<li>先为blueView设置属性：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@interface ViewController ()</span><br><span class="line"></span><br><span class="line">@property (nonatomic,strong) UIView *blueView;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p>2.创建视图并设置约束：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// 红色视图</span><br><span class="line">UIView *redView = [UIView new];</span><br><span class="line">redView.backgroundColor = [UIColor redColor];</span><br><span class="line">[self.view addSubview:redView];</span><br><span class="line"></span><br><span class="line">// 蓝色视图</span><br><span class="line">self.blueView = [UIView new];</span><br><span class="line">self.blueView.backgroundColor = [UIColor blueColor];</span><br><span class="line">[self.view addSubview:self.blueView];</span><br><span class="line"></span><br><span class="line">// 黄色视图</span><br><span class="line">UIView *yellowView = [UIView new];</span><br><span class="line">yellowView.backgroundColor = [UIColor yellowColor];</span><br><span class="line">[self.view addSubview:yellowView];</span><br><span class="line"></span><br><span class="line">// ————红色视图约束————</span><br><span class="line">[redView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.left.mas_equalTo(self.view.mas_left).with.offset(20);</span><br><span class="line">    make.bottom.mas_equalTo(self.view.mas_bottom).with.offset(-80);</span><br><span class="line">    make.height.mas_equalTo(50);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">// ————蓝色视图约束————</span><br><span class="line">[self.blueView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.left.mas_equalTo(redView.mas_right).with.offset(40);</span><br><span class="line">    make.bottom.width.and.height.with.height.mas_equalTo(redView);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">// ————黄色视图约束————</span><br><span class="line">[yellowView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">  	// 默认满足高优先级约束</span><br><span class="line">    make.left.mas_equalTo(self.blueView.mas_right).with.offset(40);</span><br><span class="line">    make.right.mas_equalTo(self.view.mas_right).with.offset(-20);</span><br><span class="line">    make.bottom.width.and.height.mas_equalTo(redView);</span><br><span class="line"></span><br><span class="line">    //** priority设置为250，最高1000（默认）**</span><br><span class="line">    make.left.mas_equalTo(redView.mas_right).with.offset(20).priority(250);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>3.点击屏幕移除蓝色视图方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event &#123;</span><br><span class="line">    [self.blueView removeFromSuperview];</span><br><span class="line">    [UIView animateWithDuration:1.0 animations:^&#123;</span><br><span class="line">        [self.view layoutIfNeeded];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注释：黄色视图的<strong>left</strong>属性分别设置了两个约束，一个相对于蓝色视图的高优先级约束：<code>make.left.mas_equalTo(self.blueView.mas_right).with.offset(40);</code></p>
<p>另一个相对于红色视图的低优先级约束：<code>make.left.mas_equalTo(redView.mas_right).with.offset(20).priority(250);</code></p>
<p>当蓝色视图存在时，两个约束同时存在，为避免约束冲突，系统默认满足高优先级的约束；</p>
<p>当点击屏幕，蓝色视图被移除后，低优先级的约束就会生效。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-30f240cd53c469ea.gif?imageMogr2/auto-orient/strip" alt></p>
<h4 id="8-Masonry更新约束方法：mas-updateConstraints"><a href="#8-Masonry更新约束方法：mas-updateConstraints" class="headerlink" title="8.Masonry更新约束方法：mas_updateConstraints"></a>8.Masonry更新约束方法：mas_updateConstraints</h4><p>如果你只想更新约束的常量值，则可以使用更方便的方法:<code>mas_updateConstraints</code>而不是<code>mas_makeConstraints</code>。</p>
<ol>
<li><p>创建一个Button属性、scale属性用于记录放大比例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@interface ViewController ()</span><br><span class="line">@property (nonatomic,strong) UIButton *growingButton;</span><br><span class="line">@property (nonatomic,assign) CGFloat scale;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建Button实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">self.growingButton = [UIButton buttonWithType:UIButtonTypeSystem];</span><br><span class="line">[self.growingButton setTitle:@&quot;点我放大&quot; forState:UIControlStateNormal];</span><br><span class="line">self.growingButton.layer.borderColor = UIColor.greenColor.CGColor;</span><br><span class="line">self.growingButton.layer.borderWidth = 3;</span><br><span class="line">[self.growingButton addTarget:self action:@selector(onGrowButtonTaped:) forControlEvents:UIControlEventTouchUpInside];</span><br><span class="line">[self.view addSubview:self.growingButton];</span><br><span class="line">self.scale = 1.0;</span><br><span class="line"></span><br><span class="line">[self.growingButton mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.center.mas_equalTo(self.view);</span><br><span class="line">    // 初始宽、高为100，优先级最低</span><br><span class="line">    make.width.height.mas_equalTo(100 * self.scale);</span><br><span class="line">    // 最大放大到整个view</span><br><span class="line">    make.width.and.height.lessThanOrEqualTo(self.view);</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>点击Button方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (void)onGrowButtonTaped:(UIButton *)sender &#123;</span><br><span class="line">    self.scale += 1.0;</span><br><span class="line">    </span><br><span class="line">    //告诉self.view约束需要更新</span><br><span class="line">    [self.view setNeedsUpdateConstraints];</span><br><span class="line">    </span><br><span class="line">    //调用此方法告诉self.view检测是否需要更新约束，若需要则更新。下面添加的动画效果才起作用</span><br><span class="line">    [self.view updateConstraintsIfNeeded];</span><br><span class="line">    </span><br><span class="line">    [UIView animateWithDuration:0.3 animations:^&#123;</span><br><span class="line">        [self.view layoutIfNeeded];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新约束：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 这是Apple推荐的添加/更新约束的地方</span><br><span class="line">// 此方法可以被多次调用，以响应 setNeedsUpdateConstraints</span><br><span class="line">// 如果您需要触发对约束的更新，可以在UIKit内部或你的代码中调用该方法</span><br><span class="line">- (void)updateViewConstraints &#123;</span><br><span class="line">    [self.growingButton mas_updateConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        //这里写需要更新的约束，不用更新的约束将继续存在，并不会被取代</span><br><span class="line">        make.width.and.height.mas_equalTo(100*self.scale);</span><br><span class="line">    &#125;];</span><br><span class="line">  	// //根据Apple要求，super方法应该在方法结束时调用</span><br><span class="line">    [super updateViewConstraints];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>   <img src="http://upload-images.jianshu.io/upload_images/2648731-ad606f82654fc2c0.gif?imageMogr2/auto-orient/strip" alt></p>
<p>代码执行顺序：</p>
<blockquote>
<p><strong>-[ViewController viewDidLoad]</strong></p>
<p><strong>-[ViewController createGrowingButton]</strong></p>
<p><strong>mas_makeConstraints</strong></p>
<p> <strong>-[ViewController updateViewConstraints]</strong></p>
<p><strong>mas_updateConstraints</strong></p>
<p>点击按钮</p>
<p><strong>-[ViewController onGrowButtonTaped:]</strong></p>
<p><strong>-[ViewController updateViewConstraints]</strong></p>
<p><strong>mas_updateConstraints</strong></p>
<p>点击按钮</p>
<p><strong>-[ViewController onGrowButtonTaped:]</strong></p>
<p><strong>-[ViewController updateViewConstraints]</strong></p>
<p><strong>mas_updateConstraints</strong></p>
</blockquote>
<h5 id="更新约束和布局的相关方法"><a href="#更新约束和布局的相关方法" class="headerlink" title="更新约束和布局的相关方法"></a>更新约束和布局的相关方法</h5><ul>
<li>关于UIView重新布局相关的API，主要用以下三个API：</li>
</ul>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- <span class="params">(void)</span>setNeedsLayout  标记为需要在下一个周期重新布局</span><br><span class="line">- <span class="params">(void)</span>layoutIfNeeded  查看当前视图是否被标记需要重新布局，有则在内部调用layoutSubviews方法立即进行重新布局</span><br><span class="line">- <span class="params">(void)</span>layoutSubviews  重写当前方法，在内部完成重新布局操作,不要直接调用，如果需要强制更新布局，调用 setNeedsLayout<span class="params">()</span></span><br></pre></td></tr></table></figure>
<ul>
<li>关于更新约束布局相关的API，主要用以下四个API：</li>
</ul>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- <span class="params">(void)</span>setNeedsUpdateConstraints  标记需要进行重新布局，系统会调用 updateConstraints<span class="params">()</span>方法，修改多个约束后调用该方法批量更新有助于提升性能</span><br><span class="line">- <span class="params">(BOOL)</span>needsUpdateConstraints     当前是否需要重新布局，内部会判断当前有没有被标记的约束</span><br><span class="line">- <span class="params">(void)</span>updateConstraintsIfNeeded  调用此方法，如果有标记为需要重新布局的约束，则立即进行重新布局，内部会调用  updateConstraints方法</span><br><span class="line">- <span class="params">(void)</span>updateConstraints          重写此方法，内部实现自定义布局过程</span><br></pre></td></tr></table></figure>
<h4 id="9-Masonry的重写约束：mas-remakeConstraints"><a href="#9-Masonry的重写约束：mas-remakeConstraints" class="headerlink" title="9.Masonry的重写约束：mas_remakeConstraints"></a>9.Masonry的重写约束：mas_remakeConstraints</h4><blockquote>
<p><code>mas_updateConstraints</code> is useful for updating a set of constraints, but doing anything <em>beyond updating constant values</em>  can get exhausting. That’s where <code>mas_remakeConstraints</code> comes in.</p>
<p><code>mas_remakeConstraints</code> is similar to <code>mas_updateConstraints</code>, but instead of updating constant values, it will remove all of its constraints before installing them again. This lets you provide different constraints without having to keep around references to ones which you want to remove.</p>
</blockquote>
<ol>
<li>创建一个Button属性、isExpanded属性用于记录按钮状态：</li>
</ol>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">UIButton</span> *growingButton;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">assign</span>) <span class="built_in">BOOL</span> isExpanded;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>创建Button实例：</li>
</ol>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">self.isExpanded</span> = <span class="literal">NO</span>;</span><br><span class="line"><span class="attr">self.growingButton</span> = [UIButton buttonWithType:UIButtonTypeSystem];</span><br><span class="line"><span class="section">[self.growingButton setTitle:@"点我展开" forState:UIControlStateNormal]</span><span class="comment">;</span></span><br><span class="line"><span class="attr">self.growingButton.layer.borderColor</span> = UIColor.greenColor.CGColor;</span><br><span class="line"><span class="attr">self.growingButton.layer.borderWidth</span> = <span class="number">3</span>;</span><br><span class="line"><span class="attr">self.growingButton.backgroundColor</span> = [UIColor redColor];</span><br><span class="line"><span class="section">[self.growingButton addTarget:self action:@selector(onGrowButtonTaped:) forControlEvents:UIControlEventTouchUpInside]</span><span class="comment">;</span></span><br><span class="line"><span class="section">[self.view addSubview:_growingButton]</span><span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[self.growingButton mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span></span><br><span class="line"><span class="section">    make.top.and.left.mas_equalTo(100);</span></span><br><span class="line"><span class="section">    make.bottom.mas_equalTo(-350);</span></span><br><span class="line"><span class="section">    make.right.mas_equalTo(-100);</span></span><br><span class="line"><span class="section">&#125;]</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>点击Button方法：</li>
</ol>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)onGrowButtonTaped:(<span class="built_in">UIButton</span> *)sender &#123;</span><br><span class="line">    <span class="keyword">self</span>.isExpanded = !<span class="keyword">self</span>.isExpanded;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">self</span>.isExpanded) &#123;</span><br><span class="line">        [<span class="keyword">self</span>.growingButton setTitle:<span class="string">@"点我展开"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        [<span class="keyword">self</span>.growingButton setTitle:<span class="string">@"点我收起"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setNeedsUpdateConstraints];</span><br><span class="line">    [<span class="keyword">self</span>.view updateConstraintsIfNeeded];</span><br><span class="line">    [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.3</span> animations:^&#123;</span><br><span class="line">        [<span class="keyword">self</span>.view layoutIfNeeded];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>更新约束：</li>
</ol>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)updateViewConstraints &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%s"</span>,__func__);</span><br><span class="line">    <span class="comment">// 这里使用update也能实现效果，而remark会将之前的约束全部移除，然后重新添加</span></span><br><span class="line">    __<span class="keyword">weak</span> <span class="keyword">typeof</span> (<span class="keyword">self</span>)weakself = <span class="keyword">self</span>;</span><br><span class="line">    [<span class="keyword">self</span>.growingButton mas_remakeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        <span class="comment">// 重写全部约束</span></span><br><span class="line">        <span class="keyword">if</span> (weakself.isExpanded) &#123;</span><br><span class="line">            make.top.and.left.mas_equalTo(<span class="number">0</span>);</span><br><span class="line">            make.bottom.mas_equalTo(<span class="number">10</span>);</span><br><span class="line">            make.right.mas_equalTo(<span class="number">0</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            make.top.and.left.mas_equalTo(<span class="number">100</span>);</span><br><span class="line">            make.bottom.mas_equalTo(<span class="number">-350</span>);</span><br><span class="line">            make.right.mas_equalTo(<span class="number">-100</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    [<span class="keyword">super</span> updateViewConstraints];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现结果：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2648731-7f6f17b8a615be53.gif?imageMogr2/auto-orient/strip" alt></p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><blockquote>
<p>By default, macros which support <a href="https://en.wikipedia.org/wiki/Autoboxing#Autoboxing" target="_blank" rel="noopener">autoboxing</a> are prefixed with mas_. Unprefixed versions are available by defining MAS_SHORTHAND_GLOBALS before importing Masonry.</p>
<p>​                                                            ——摘自<a href="https://github.com/SnapKit/Masonry" target="_blank" rel="noopener">Masonary:README.md</a></p>
<ul>
<li>为了增加代码的可读性这里有两个简化代码的宏：<code>#define MAS_SHORTHAND</code>和<code>#define MAS_SHORTHAND_GLOBALS</code></li>
</ul>
<ul>
<li><p><code>MAS_SHORTHAND</code>：只要在导入<strong>Masonry</strong>主头文件之前定义这个宏, 那么以后在使用<strong>Masonry</strong>框架中的属性和方法的时候, 就可以省略<strong>mas_</strong>前缀</p>
</li>
<li><p><code>MAS_SHORTHAND_GLOBALS</code>：只要在导入Masonry主头文件之前定义这个宏,那么就可以让<code>equalTo</code>函数接收基本数据类型, 内部会对基本数据类型进行包装 </p>
</li>
<li><p>注意：这两个宏如果想有效使用，必须要在添加<strong>Masonry</strong>头文件之前导入进去。在没有增加宏<code>MAS_SHORTHAND_GLOBALS</code>时，下面这句是会报错的。 </p>
</li>
<li><p><code>make.top.equalTo(42); --&gt; make.top.equalTo([NSNumber numberWithInt:42]);</code></p>
<p>​                                                    ——摘自<a href="https://www.zybuluo.com/kezhen/note/147167" target="_blank" rel="noopener">Masonry使用总结</a></p>
</li>
</ul>
</blockquote>
<p>注意：有时候写约束语法的时候 <strong>with</strong> 经常会不小心写成 <strong>width</strong>,就像这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make.bottom.mas_equalTo(self.view.mas_bottom).width.offset(-80);</span><br></pre></td></tr></table></figure>
<p>于是会报这样的错误：</p>
<blockquote>
<p>Attributes should be chained before defining the constraint relation.</p>
<p>属性应该在定义约束关系之前链接.</p>
</blockquote>
<p>记得仔细查找这种错误并改正。</p>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a href="http://blog.lessfun.com/blog/2014/10/17/ios-autolayout-vs-autosizing/" target="_blank" rel="noopener">iOS AutoLayout与AutoSizing：自动布局，想说爱你真的好难</a></li>
<li><a href="http://adad184.com/2014/09/28/use-masonry-to-quick-solve-autolayout/" target="_blank" rel="noopener">Masonry介绍与使用实践(快速上手Autolayout) @里脊串的开发随笔</a> ⭐️⭐️⭐️</li>
<li><a href="https://www.zybuluo.com/kezhen/note/147167" target="_blank" rel="noopener">Masonry使用总结</a> ⭐️⭐️⭐️</li>
<li><a href="http://www.jianshu.com/p/ea74b230c70d" target="_blank" rel="noopener">简书：iOS自动布局框架-Masonry详解 @刘小壮</a></li>
<li><a href="http://hao.jobbole.com/masonry-ios/" target="_blank" rel="noopener">Masonry:使用纯代码进行iOS应用的autolayout自适应布局 @伯乐在线</a></li>
<li><a href="http://www.cocoachina.com/ios/20150702/12217.html" target="_blank" rel="noopener">iOS自适应前段库-Masonry的使用</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/24/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="extend next" rel="next" href="/page/26/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://ws1.sinaimg.cn/large/006tNc79gy1g22m14458rj30u014xu0x.jpg" alt="独木舟的木">
            
              <p class="site-author-name" itemprop="name">独木舟的木</p>
              <div class="site-description motion-element" itemprop="description">有时候阳光很好 有时候阳光很暗</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">310</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">54</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Andy0570" title="GitHub &rarr; https://github.com/Andy0570" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:andywhm@163.com" title="E-Mail &rarr; mailto:andywhm@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">独木舟的木</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





  



  






  



  
    
    
      
    
  
  <script color="17,119,176" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script>













  
  <script src="//cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  
  
  
    
  

  
    
      
    
  

  
  
  
    <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
    <script>
      
        window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://andy0570.com/page/25/',]
        });
      
        });
      
    </script>
  


  



  



  
  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">

  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js"></script>
  

  <script src="/js/algolia-search.js?v=7.1.0"></script>



  
  
  <script>
    
    function showTime(Counter) {
      var entries = [];
      var $visitors = $('.leancloud_visitors');

      $visitors.each(function() {
        entries.push( $(this).attr('id').trim() );
      });

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url: { '$in': entries } }) })
        .done(function({ results }) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz',
                'X-LC-Key': 'brOnU8mOQvSjpipJvdKUAIbU',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            if ($('.post-title-link').length >= 1) {
              showTime(Counter);
            }
          
        });
    });
  </script>



  

  

  

  

  

  

  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script>pangu.spacingPage();</script>


  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script>
  <script>
  
    bookmark.loadBookmark();
  
  </script>


  

  

  


  <!-- red heart -->
  <script type="text/javascript" src="/js/src/love.js"></script>
  
</body>
</html>

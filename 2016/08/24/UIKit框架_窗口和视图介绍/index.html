<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="google-site-verification" content="wioXOS3Gv2wXUpJ3sLtfZ4ft6YJYKNLLWSw6QoZTFYM">
  <meta name="msvalidate.01" content="C96491A81239C517A50597C54EE53CD1">
  <meta name="baidu-site-verification" content="pfEqqWwotH">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">
  <link rel="stylesheet" href="//unpkg.com/pace-js@1/themes/blue/pace-theme-minimal.css">
  <script src="//unpkg.com/pace-js@1/pace.min.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"andy0570.com","root":"/","scheme":"Gemini","version":"8.0.0-rc.5","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":"mac","bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":true,"nav":null,"activeClass":"valine"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"algolia":{"appID":"0E2AON8EZF","apiKey":"22fbefd84c8343239f5c04365b9728de","indexName":"MyBlogPlatform","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":false}};
  </script>

  <meta name="description" content="本文转载自:http:&#x2F;&#x2F;www.cnblogs.com&#x2F;CHONGCHONG2008&#x2F;archive&#x2F;2012&#x2F;08&#x2F;02&#x2F;2619366.html 窗口和视图窗口和视图是为 iPhone 应用程序构造用户界面的可视组件。窗口为内容显示提供背景平台，而视图负责绝大部分的内容描画，并负责响应用户的交互。 什么是窗口和视图？和 Mac OS X 一样，iPhone OS 通过窗口和视图在屏幕上展现图">
<meta property="og:type" content="article">
<meta property="og:title" content="UIKit 框架_窗口和视图介绍">
<meta property="og:url" content="https://andy0570.com/2016/08/24/UIKit%E6%A1%86%E6%9E%B6_%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D/index.html">
<meta property="og:site_name" content="独木舟的木">
<meta property="og:description" content="本文转载自:http:&#x2F;&#x2F;www.cnblogs.com&#x2F;CHONGCHONG2008&#x2F;archive&#x2F;2012&#x2F;08&#x2F;02&#x2F;2619366.html 窗口和视图窗口和视图是为 iPhone 应用程序构造用户界面的可视组件。窗口为内容显示提供背景平台，而视图负责绝大部分的内容描画，并负责响应用户的交互。 什么是窗口和视图？和 Mac OS X 一样，iPhone OS 通过窗口和视图在屏幕上展现图">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071148.jpg">
<meta property="og:image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071151.jpg">
<meta property="article:published_time" content="2016-08-24T06:01:00.000Z">
<meta property="article:modified_time" content="2019-05-01T15:27:56.000Z">
<meta property="article:author" content="独木舟的木">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="UIKit">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071148.jpg">

<link rel="canonical" href="https://andy0570.com/2016/08/24/UIKit%E6%A1%86%E6%9E%B6_%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>UIKit 框架_窗口和视图介绍 | 独木舟的木</title>
  


  <script data-pjax>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8229a094facca297f211d61323fd9fde";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="独木舟的木" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">独木舟的木</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">iOS Developer</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">14</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">36</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">310</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE"><span class="nav-number">1.</span> <span class="nav-text">窗口和视图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE%EF%BC%9F"><span class="nav-number">1.1.</span> <span class="nav-text">什么是窗口和视图？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIWindow%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">2.</span> <span class="nav-text">UIWindow 的作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIView%E6%98%AF%E4%BD%9C%E7%94%A8%E8%A7%86%E5%9B%BE"><span class="nav-number">3.</span> <span class="nav-text">UIView 是作用视图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIKit%E7%9A%84%E8%A7%86%E5%9B%BE%E7%B1%BB"><span class="nav-number">4.</span> <span class="nav-text">UIKit 的视图类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">5.</span> <span class="nav-text">视图控制器的作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E6%9E%B6%E6%9E%84%E5%92%8C%E5%87%A0%E4%BD%95%E5%B1%9E%E6%80%A7"><span class="nav-number">6.</span> <span class="nav-text">视图架构和几何属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%9E%8B"><span class="nav-number">6.1.</span> <span class="nav-text">视图交互模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E6%B8%B2%E6%9F%93%E6%9E%B6%E6%9E%84"><span class="nav-number">7.</span> <span class="nav-text">视图渲染架构</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="独木舟的木"
      src="https://static01.imgkr.com/temp/88aab3c08a3f43f5a14f21c6c357c816.JPG">
  <p class="site-author-name" itemprop="name">独木舟的木</p>
  <div class="site-description" itemprop="description">生若直木，不语斧凿。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">310</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FuZHkwNTcw" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Andy0570"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy83MjY1NDAwL2FuZHkwNTcw" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;7265400&#x2F;andy0570"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vdS84NGM1ZmFkYzdjMTg=" title="简书 → https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;84c5fadc7c18"><i class="heartbeat fa-fw"></i>简书</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOmFuZHl3aG1AMTYzLmNvbQ==" title="E-Mail → mailto:andywhm@163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span>
  </div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/24/UIKit%E6%A1%86%E6%9E%B6_%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://static01.imgkr.com/temp/88aab3c08a3f43f5a14f21c6c357c816.JPG">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="生若直木，不语斧凿。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          UIKit 框架_窗口和视图介绍
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-08-24 14:01:00" itemprop="dateCreated datePublished" datetime="2016-08-24T14:01:00+08:00">2016-08-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-05-01 23:27:56" itemprop="dateModified" datetime="2019-05-01T23:27:56+08:00">2019-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2016/08/24/UIKit%E6%A1%86%E6%9E%B6_%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2016/08/24/UIKit%E6%A1%86%E6%9E%B6_%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>本文转载自:<br><span class="exturl" data-url="aHR0cDovL3d3dy5jbmJsb2dzLmNvbS9DSE9OR0NIT05HMjAwOC9hcmNoaXZlLzIwMTIvMDgvMDIvMjYxOTM2Ni5odG1s">http://www.cnblogs.com/CHONGCHONG2008/archive/2012/08/02/2619366.html<i class="fa fa-external-link-alt"></i></span></p>
<h2 id="窗口和视图"><a href="#窗口和视图" class="headerlink" title="窗口和视图"></a>窗口和视图</h2><p>窗口和视图是为 iPhone 应用程序构造用户界面的可视组件。<br>窗口为内容显示提供背景平台，而视图负责绝大部分的内容描画，并负责响应用户的交互。</p>
<h3 id="什么是窗口和视图？"><a href="#什么是窗口和视图？" class="headerlink" title="什么是窗口和视图？"></a>什么是窗口和视图？</h3><p>和 Mac OS X 一样，iPhone OS 通过窗口和视图在屏幕上展现图形内容。虽然窗口和视图对象之间在两个平台上有很多相似性，但是具体到每个平台上，它们的作用都有轻微的差别。</p>
<a id="more"></a>

<h2 id="UIWindow的作用"><a href="#UIWindow的作用" class="headerlink" title="UIWindow的作用"></a>UIWindow 的作用</h2><p>和 Mac OS X 的应用程序有所不同，iPhone 应用程序通常只有一个窗口，表示为一个 UIWindow 类的实例。您的应用程序在启动时创建这个窗口（或者从 nib 文件进行装载），并往窗口中加入一或多个视图，然后将它显示出来。窗口显示出来之后，您很少需要再次引用它。</p>
<p>在 iPhone OS 中，窗口对象并没有像关闭框或标题栏这样的视觉装饰，用户不能直接对其进行关闭或其它操作。所有对窗口的操作都需要通过其编程接口来实现。应用程序可以借助窗口对象来进行事件传递。窗口对象会持续跟踪当前的第一响应者对象，并在 UIApplication 对象提出请求时将事件传递它。</p>
<p>还有一件可能让有经验的 Mac OS X 开发者觉得奇怪的事是 UIWindow 类的继承关系。在 Mac OS X 中，NSWindow 的父类是 NSResponder；而在 iPhone OS 中，UIWindow 的父类是 UIView。因此，窗口在 iPhone OS 中也是一个视图对象。不管其起源如何，您通常可以将 iPhone OS 上的窗口和 Mac OS X 的窗口同样对待。也就是说，您通常不必直接操作 UIWindow 对象中与视图有关的属性变量。</p>
<p>在创建应用程序窗口时，您应该总是将其初始的边框尺寸设置为整个屏幕的大小。如果您的窗口是从 nib 文件装载得到，Interface Builder 并不允许创建比屏幕尺寸小的窗口；然而，如果您的窗口是通过编程方式创建的，则必须在创建时传入期望的边框矩形。除了屏幕矩形之外，没有理由传入其它边框矩形。屏幕矩形可以通过 UIScreen 对象来取得，具体代码如下所示：</p>
<pre class="line-numbers language-none"><code class="language-none">self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

// 设置根视图控制器
ViewController *viewController = [[ViewController alloc] init];
self.window.rootViewController = viewController;

self.window.backgroundColor = [UIColor whiteColor];
[self.window makeKeyAndVisible];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>虽然 iPhone OS 支持将一个窗口叠放在其它窗口的上方，但是您的应用程序永远不应创建多个窗口。系统自身使用额外的窗口来显示系统状态条、重要的警告、以及位于应用程序窗口上方的其它消息。如果您希望在自己的内容上方显示警告，可以使用 UIKit 提供的警告视图，而不应创建额外的窗口。</p>
<h2 id="UIView是作用视图"><a href="#UIView是作用视图" class="headerlink" title="UIView是作用视图"></a>UIView 是作用视图</h2><p>是 UIView 类的实例，负责在屏幕上定义一个矩形区域。在 iPhone 的应用程序中，视图在展示用户界面及响应用户界面交互方面发挥关键作用。每个视图对象都要负责渲染视图矩形区域中的内容，并响应该区域中发生的触碰事件。这一双重行为意味着视图是应用程序与用户交互的重要机制。在一个基于模型 - 视图 - 控制器的应用程序中，视图对象明显属于视图部分。</p>
<p>除了显示内容和处理事件之外，视图还可以用于管理一或多个子视图。子视图是指嵌入到另一视图对象边框内部的视图对象，而被嵌入的视图则被称为父视图或超视图。视图的这种布局方式被称为视图层次，一个视图可以包含任意数量的子视图，通过为子视图添加子视图的方式，视图可以实现任意深度的嵌套。视图在视图层次中的组织方式决定了在屏幕上显示的内容，原因是子视图总是被显示在其父视图的上方；这个组织方法还决定了视图如何响应事件和变化。每个父视图都负责管理其直接的子视图，即根据需要调整它们的位置和尺寸，以及响应它们没有处理的事件。</p>
<p>由于视图对象是应用程序和用户交互的主要途径，所以需要在很多方面发挥作用，下面是其中的一小部分：</p>
<pre><code>1. 描画和动画
    * 视图负责对其所属的矩形区域进行描画。
    * 某些视图属性变量可以以动画的形式过渡到新的值。

2. 布局和子视图管理
    * 视图管理着一个子视图列表。
    * 视图定义了自身相对于其父视图的尺寸调整行为。
    * 必要时，视图可以通过代码调整其子视图的尺寸和位置。
    * 视图可以将其坐标系统下的点转换为其它视图或窗口坐标系统下的点。

3. 事件处理
   *  视图可以接收触摸事件。
   * 视图是响应者链的参与者。</code></pre>
<p>在 iPhone 应用程序中，视图和视图控制器紧密协作，管理若干方面的视图行为。视图控制器的作用是处理视图的装载与卸载、处理由于设备旋转导致的界面旋转，以及和用于构建复杂用户界面的高级导航对象进行交互。</p>
<h2 id="UIKit的视图类"><a href="#UIKit的视图类" class="headerlink" title="UIKit的视图类"></a>UIKit 的视图类</h2><p>UIView 类定义了视图的基本行为，但并不定义其视觉表示。相反，UIKit 通过其子类来为像文本框、按键、及工具条这样的标准界面元素定义具体的外观和行为。图 1 显示了所有 UIKit 视图类的层次框图。除了 UIView 和 UIControl 类是例外，这个框图中的大多数视图都设计为可直接使用，或者和委托对象结合使用。</p>
<p><img data-src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071148.jpg" alt="图1 视图的类层次"></p>
<p>这个视图层次可以分为如下几个大类：</p>
<ol>
<li><p>容器</p>
<p> 容器视图用于增强其它视图的功能，或者为视图内容提供额外的视觉分隔。比如，<strong>UIScrollView</strong> 类可以用于显示因内容太大而无法显示在一个屏幕上的视图。<strong>UITableView</strong> 类是 <strong>UIScrollView</strong> 类的子类，用于管理数据列表。表格的行可以支持选择，所以通常也用于层次数据的导航 — 比如用于挖掘一组有层次结构的对象。</p>
<p> <strong>UIToolbar</strong> 对象则是一个特殊类型的容器，用于为一或多个类似于按键的项提供视觉分组。工具条通常出现在屏幕的底部。Safari、Mail、和 Photos 程序都使用工具条来显示一些按键，这些按键代表经常使用的命令。工具条可以一直显示，也可以根据应用程序的需要进行显示。</p>
</li>
<li><p>控件</p>
<p> 控件用于创建大多数应用程序的用户界面。控件是一种特殊类型的视图，继承自 <strong>UIControl</strong> 超类，通常用于显示一个具体的值，并处理修改这个值所需要的所有用户交互。控件通常使用标准的系统范式（比如目标 - 动作模式和委托模式）来通知应用程序发生了用户交互。控件包括按键、文本框、滑块、和切换开关。</p>
</li>
<li><p>显示视图</p>
<p> 控件和很多其它类型的视图都提供了交互行为，而另外一些视图则只是用于简单地显示信息。具有这种行为的 <strong>UIKit</strong> 类包括 <strong>UIImageView、 UILabel、UIProgressView、UIActivityIndicatorView</strong>。</p>
</li>
<li><p>文本和 web 视图</p>
<p> 文本和 web 视图为应用程序提供更为高级的显示多行文本的方法。<strong>UITextView</strong> 类支持在滚动区域内显示和编辑多行文本；而 <strong>UIWebView</strong> 类则提供了显示 HTML 内容的方法，通过这个类，您可以将图形和高级的文本格式选项集成到应用程序中，并以定制的方式对内容进行布局。</p>
</li>
<li><p>警告视图和动作表单</p>
<p>警告视图和动作表单用于即刻取得用户的注意。它们向用户显示一条消息，同时还有一或多个可选的按键，用户通过这些按键来响应消息。警告视图和动作表单的功能类似，但是外观和行为不同。举例来说， <strong>UIAlertView</strong> 类在屏幕上弹出一个蓝色的警告框，而 <strong>UIActionSheet</strong> 类则从屏幕的底部滑出动作框。</p>
</li>
<li><p>导航视图</p>
<p> 页签条和导航条和视图控制器结合使用，为用户提供从一个屏幕到另一个屏幕的导航工具。在使用时，您通常不必直接创建 <strong>UITabBar</strong> 和 <strong>UINavigationBar</strong> 的项，而是通过恰当的控制器接口或 <strong>Interface Builder</strong> 来对其进行配置。</p>
</li>
<li><p>窗口</p>
<p> 窗口提供一个描画内容的表面，是所有其它视图的根容器。每个应用程序通常都只有一个窗口。</p>
</li>
</ol>
<p>除了视图之外， <strong>UIKit</strong> 还提供了视图控制器，用于管理这些对象。更多信息请参见 “视图控制器的作用” 部分。</p>
<h2 id="视图控制器的作用"><a href="#视图控制器的作用" class="headerlink" title="视图控制器的作用"></a>视图控制器的作用</h2><p>运行在 iPhone OS 上的应用程序在如何组织内容和如何将内容呈现给用户方面有很多选择。含有很多内容的应用程序可以将内容分为多个屏幕。在运行时，每个屏幕的背后都是一组视图对象，负责显示该屏幕的数据。一个屏幕的视图后面是一个视图控制器其作用是管理那些视图上显示的数据，并协调它们和应用程序其它部分的关系。</p>
<p><strong>UIViewController</strong> 类负责创建其管理的视图及在低内存时将它们从内容中移出。视图控制器还为某些标准的系统行为提供自动响应。比如，在响应设备方向变化时，如果应用程序支持该方向，视图控制器可以对其管理的视图进行尺寸调整，使其适应新的方向。您也可以通过视图控制器来将新的视图以模式框的方式显示在当前视图的上方。</p>
<p>除了基础的 <strong>UIViewController</strong> 类之外，UIKit 还包含很多高级子类，用于处理平台共有的某些高级接口。特别需要提到的是，导航控制器用于显示多屏具有一定层次结构的内容；而页签条控制器则支持用户在一组不同的屏幕之间切换，每个屏幕都代表应用程序的一种不同的操作模式。</p>
<p>有关如何通过视图控制器管理用户界面上视图的更多信息，请参见 iPhone OS 的视图控制器编程指南。</p>
<h2 id="视图架构和几何属性"><a href="#视图架构和几何属性" class="headerlink" title="视图架构和几何属性"></a>视图架构和几何属性</h2><p>由于视图是 iPhone 应用程序的焦点对象，所以对视图与系统其它部分的交互机制有所了解是很重要的。<strong>UIKit</strong> 中的标准视图类为应用程序免费提供相当数量的行为，还提供了一些定义良好的集成点，您可以通过这些集成点来对标准行为进行定制，完成应用程序需要做的工作。</p>
<p>本文的下面部分将解释视图的标准行为，并说明哪些地方可以集成您的定制代码。如果需要特定类的集成点信息，请参见该类的参考文档。您可以从 <strong>UIKit</strong> 框架参考中取得所有类参考文档的列表。</p>
<h3 id="视图交互模型"><a href="#视图交互模型" class="headerlink" title="视图交互模型"></a>视图交互模型</h3><p>任何时候，当用户和您的程序界面进行交互、或者您的代码以编程的方式进行某些修改时，<strong>UIKit</strong> 内部都会发生一个复杂的事件序列。在事件序列的一些特定的点上，<strong>UIKit</strong> 会调用您的视图类，使它们有机会代表应用程序进行事件响应。理解这些调用点是很重要的，有助于理解您的视图对象和系统在哪里进行结合。图 2 显示了从用户触击屏幕到图形系统更新屏幕内容这一过程的基本事件序列。以编程方式触发事件的基本步骤与此相同，只是没有最初的用户交互。<br>UIKit interactions with your view objects<br><img data-src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071151.jpg" alt="图2 UIKit和您的视图对象之间的交互"></p>
<p>下面的步骤说明进一步刨析了图 2 中的事件序列，解释了序列的每个阶段都发生了什么，以及应用程序可能如何进行响应。</p>
<ol>
<li><p>用户触击屏幕。</p>
</li>
<li><p>硬件将触击事件报告给 UIKit 框架。</p>
</li>
<li><p>UIKit 框架将触击信息封装为一个 UIEvent 对象，并派发给恰当的视图（有关 UIKit 如何将事件递送给您的视图的详细解释，请参见 “事件的传递” 部分）。</p>
</li>
<li><p>视图的事件处理方法可以通过下面的方式来响应事件：</p>
<ul>
<li>调整视图或其子视图的属性变量（边框、边界、透明度等）。</li>
<li>将视图（或其子视图）标识为需要修改布局。</li>
<li>将视图（或其子视图）标识为布局需要重画。</li>
<li>将数据发生的变化通报给控制器。</li>
</ul>
</li>
<li><p>当然，上述的哪些事情需要做及调用什么方法来完成是由视图来决定的。<br>如果视图被标识为需要重新布局，<strong>UIKit</strong> 就调用视图的 <code>layoutSubviews:</code> 方法。</p>
<p>您可以在自己的定制视图中重载这个方法，以便调整子视图的尺寸和位置。举例来说，如果一个视图具有很大的滚动区域，就需要使用几个子视图来 “平铺”，而不是创建一个内存很可能装不下的大视图。在这个方法的实现中，视图可以隐藏所有不需显示在屏幕上的子视图，或者在重新定位之后将它们用于显示新的内容。作为这个过程的一部分，视图也可以将用于 “平铺” 的子视图标识为需要重画。</p>
</li>
<li><p>如果视图的任何部分被标识为需要重画，<strong>UIKit</strong> 就调用该视图的 <code>drawRect:</code> 方法。</p>
<p> UIKit 只对那些需要重画的视图调用这个方法。在这个方法的实现中，所有视图都应该尽可能快地重画指定的区域，且都应该只重画自己的内容，不应该描画子视图的内容。在这个调用点上，视图不应该尝试进一步改变其属性或布局。</p>
<p> 所有更新过的视图都和其它可视内容进行合成，然后发送给图形硬件进行显示。</p>
</li>
<li><p>图形硬件将渲染完成的内容转移到屏幕。</p>
</li>
</ol>
<p>请注意：上述的更新模型主要适用于采纳内置视图和描画技术的应用程序。如果您的应用程序使用 <strong>OpenGL ES</strong> 来描画内容，则通常要配置一个全屏的视图，然后直接在 <strong>OpenGL</strong> 的图形上下文中进行描画。您的视图仍然需要处理触碰事件，但不需要对子视图进行布局或者实现 <code>drawRect:</code> 方法。有关 <strong>OpenGL ES</strong> 的更多信息，请参见 “用 <strong>OpenGL ES</strong> 进行描画” 部分。</p>
<p>基于上述的步骤说明可以看出，UIKit 为您自己定制的视图提供如下主要的结合点：</p>
<pre><code>下面这些事件处理方法：

    touchesBegan:withEvent:

    touchesMoved:withEvent:

    touchesEnded:withEvent:

    touchesCancelled:withEvent:

layoutSubviews方法

drawRect:方法</code></pre>
<p>大多数定制视图通过实现这些方法来得到自己期望的行为。您可能不需要重载所有方法，举例来说，如果您实现的视图是固定尺寸的，则可能不需要重载 <code>layoutSubviews</code> 方法。类似地，如果您实现的视图只是显示简单的内容，比如文本或图像，则通常可以通过简单地嵌入 <strong>UIImageView</strong> 和 <strong>UILabel</strong> 对象作为子视图来避免描画。</p>
<p>重要的是要记住，这些是主要的结合点，但不是全部。UIView 类中有几个方法的设计目的就是让子类重载的。您可以通过查阅 <strong>UIView</strong> 类参考中的描述来了解哪些方法可以被重载。</p>
<h2 id="视图渲染架构"><a href="#视图渲染架构" class="headerlink" title="视图渲染架构"></a>视图渲染架构</h2><p>虽然您通过视图来表示屏幕上的内容，但是 <strong>UIView</strong> 类自身的很多基础行为却严重依赖于另一个对象。<strong>UIKit</strong> 中每个视图对象的背后都有一个 <strong>Core Animation</strong> 层对象，它是一个 <strong>CALayer</strong> 类的实例，该类为视图内容的布局和渲染、以及合成和动画提供基础性的支持。</p>
<p>和 <strong>Mac OS X</strong>（在这个平台上 <strong>Core Animation</strong> 支持是可选的）不同的是，<strong>iPhone OS</strong> 将 <strong>Core Animation</strong> 集成到视图渲染实现的核心。虽然 <strong>Core Animation</strong> 发挥核心作用，但是 <strong>UIKit</strong> 在 <strong>Core Animation</strong> 上面提供一个透明的接口层，使编程体验更为流畅。这个透明的接口使开发者在大多数情况下不必直接访问 <strong>Core Animation</strong> 的层，而是通过 <strong>UIView</strong> 的方法和属性声明取得类似的行为。然而，当 <strong>UIView</strong> 类没有提供您需要的接口时，<strong>Core Animation</strong> 就变得重要了，在那种情况下，您可以深入到 <strong>Core Animation</strong> 层，在应用程序中实现一些复杂的渲染。</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>独木舟的木
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://andy0570.com/2016/08/24/UIKit%E6%A1%86%E6%9E%B6_%E7%AA%97%E5%8F%A3%E5%92%8C%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D/" title="UIKit 框架_窗口和视图介绍">https://andy0570.com/2016/08/24/UIKit框架_窗口和视图介绍/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/iOS/" rel="tag"># iOS</a>
              <a href="/tags/UIKit/" rel="tag"># UIKit</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2016/08/23/iOS%20%E7%BC%96%E7%A8%8B%EF%BC%9AUITextFiled/" rel="prev" title="iOS 编程：UITextField">
      <i class="fa fa-chevron-left"></i> iOS 编程：UITextField
    </a></div>
      <div class="post-nav-item">
    <a href="/2016/08/26/%E3%80%8AIOS%E7%BC%96%E7%A8%8B%EF%BC%88%E7%AC%AC%E5%9B%9B%E7%89%88%EF%BC%89%E3%80%8BDemo4%EF%BC%9AHyponsister/" rel="next" title="《iOS 编程（第四版）》Demo4：Hyponsister">
      《iOS 编程（第四版）》Demo4：Hyponsister <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">独木舟的木</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">2.3m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">34:09</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZw==">NexT.Gemini</span> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/next-theme/pjax@0/pjax.min.js"></script>
  <script src="//unpkg.com/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="//unpkg.com/lozad@1/dist/lozad.min.js"></script>
  <script src="//unpkg.com/pangu@4/dist/browser/pangu.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  
  <script data-pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="//unpkg.com/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//unpkg.com/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>












<script data-pjax>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//unpkg.com/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script>


    <div class="pjax">
  

  


<script>
NexT.utils.loadComments('#valine-comments', () => {
  NexT.utils.getScript('//unpkg.com/valine@1/dist/Valine.min.js', () => {
    new Valine(Object.assign({
      el  : '#valine-comments',
      path: location.pathname,
    }, {"enable":true,"appId":"S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz","appKey":"brOnU8mOQvSjpipJvdKUAIbU","placeholder":"写下你的评论...","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"language":"zh-cn","visitor":false,"comment_count":true,"recordIP":true,"serverURLs":null,"enableQQ":true,"requiredFields":[]}
    ));
  }, window.Valine);
});
</script>

    </div>
</body>
</html>

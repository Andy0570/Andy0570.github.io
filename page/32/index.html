<!DOCTYPE html>













<html class="theme-next gemini" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">



  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css">













  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">







  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/panda/apple-touch-icon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/panda/favicon-32x32.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/panda/favicon-16x16.png?v=7.1.0">


  <link rel="mask-icon" href="/images/panda/safari-pinned-tab.svg?v=7.1.0" color="#222">


  <link rel="manifest" href="/images/panda/site.webmanifest">


  <meta name="msapplication-config" content="/images/panda/browserconfig.xml">





<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: true,
    lazyload: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '0E2AON8EZF',
      apiKey: '22fbefd84c8343239f5c04365b9728de',
      indexName: 'MyBlogPlatform',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="有时候阳光很好 有时候阳光很暗">
<meta name="keywords" content="独木舟的木">
<meta property="og:type" content="website">
<meta property="og:title" content="独木舟的木">
<meta property="og:url" content="https://andy0570.com/page/32/index.html">
<meta property="og:site_name" content="独木舟的木">
<meta property="og:description" content="有时候阳光很好 有时候阳光很暗">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="独木舟的木">
<meta name="twitter:description" content="有时候阳光很好 有时候阳光很暗">



  <link rel="alternate" href="/atom.xml" title="独木舟的木" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://andy0570.com/page/32/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>独木舟的木</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8229a094facca297f211d61323fd9fde";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/andy0570" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">独木舟的木</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">iOS Developer</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">14</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">37</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">317</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/andy0570" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/08/Objective-C_异常处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/08/08/Objective-C_异常处理/" class="post-title-link" itemprop="url">Objective-C_异常处理</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-08 10:48:00" itemprop="dateCreated datePublished" datetime="2016-08-08T10:48:00+08:00">2016-08-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/08/08/Objective-C_异常处理/" class="leancloud_visitors" data-flag-title="Objective-C_异常处理">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h4 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h4><hr>
<p><strong>异常</strong>：当程序执行时，发生的某种特殊状况,打断了正常的运转流程。</p>
<ul>
<li>Objective-C 的异常处理语法与Java和C++类似。通过使用 <strong>NSException</strong>, <strong>NSError</strong> 以及自定义的异常处理类来处理这些异常。</li>
<li>Objective-C 对异常的支持包括四个编译器指令: <strong>@try</strong>、<strong>@catch</strong>、<strong>@throw</strong> 以及 <strong>@finally</strong>。使用规则:              </li>
<li>如果这句或这部分代码有可能出现问题,就把它放在<code>@try{}</code>中.</li>
<li><code>@catch</code> 捕获异常,出现了问题后,会执行到这里,然后你就可以对错误进行另外的处理,比如记录日志或者提醒用户哪错了。</li>
<li><code>@finally</code> 无论是否会抛出异常,这个块中的代码都会执行。 </li>
<li><code>@throw</code>指令允许你抛出自己的异常。可以使用该指令抛出特定的异常。</li>
</ul>
<p><strong>异常分类:</strong></p>
<ol>
<li>数组越界;</li>
<li>不能识别的方法选择器;</li>
<li>野指针调用：指针指向销毁的对象;</li>
</ol>
<p>示例：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@try</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @try 块中写有可能出错的代码段</span></span><br><span class="line">    <span class="built_in">NSArray</span> *array = [<span class="built_in">NSArray</span> array];</span><br><span class="line">    [array objectAtIndex:<span class="number">1</span>];  <span class="comment">//数组越界</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">@catch</span> (<span class="built_in">NSException</span> *exception) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @catch 块内处理异常代码</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"捕获到异常：%@%@"</span>,exception.name, exception.reason);</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">@finally</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可选项，不管是否出现异常，都会执行此代码段</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"始终执行的代码！"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Hello, World!"</span>);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<blockquote>
<p>Demo[17328:3652315] 捕获到异常：NSRangeException*** -[__NSArray0 objectAtIndex:]: index 1 beyond bounds for empty NSArray<br>Demo[17328:3652315] 始终执行的代码！<br>Demo[17328:3652315] Hello, World!</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/08/Objective-C_方法调用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/08/08/Objective-C_方法调用/" class="post-title-link" itemprop="url">Objective-C_方法调用</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-08 10:48:00" itemprop="dateCreated datePublished" datetime="2016-08-08T10:48:00+08:00">2016-08-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/08/08/Objective-C_方法调用/" class="leancloud_visitors" data-flag-title="Objective-C_方法调用">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h3><p>OC语言中采用特定的语言调用类或者实例(对象)的方法称为<strong>发送消息</strong>或<strong>方法调用</strong>。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法调用格式：[对象 方法名];</span></span><br><span class="line">[<span class="meta">Person1 shopping</span>];   </span><br><span class="line"><span class="comment">// 调用带参数的方法 </span></span><br><span class="line">[<span class="meta">Person2 goshopping:200.0</span>];</span><br></pre></td></tr></table></figure></p>
<h3 id="set、get方法"><a href="#set、get方法" class="headerlink" title="set、get方法"></a>set、get方法</h3><p>set、get方法用来访问和修改对象里面的属性值。</p>
<ul>
<li>set方法是对某一个属性设值。</li>
<li>get方法是获取某一个属性值。<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.定义设置器方法   </span></span><br><span class="line"><span class="comment">//年龄的设置器方法：给对象的年龄设置的   </span></span><br><span class="line">-(<span class="keyword">void</span>)<span class="string">setAge:</span>(NSInteger)age;   </span><br><span class="line">-(<span class="keyword">void</span>)<span class="string">setName:</span>(NSString *)name;   </span><br><span class="line">-(<span class="keyword">void</span>)<span class="string">setWeight:</span>(<span class="keyword">float</span>)weight;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.定义多个参数的设置器方法   </span></span><br><span class="line"><span class="comment">//方法名：setName:setAge:setweight:   </span></span><br><span class="line">-(<span class="keyword">void</span>)<span class="string">setAge:</span>(NSInteger)age   <span class="string">setName:</span>(NSString *)name   <span class="string">setWeight:</span>(<span class="keyword">float</span>)weight;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.定义访问器方法   </span></span><br><span class="line"><span class="comment">//访问器方法：用于访问对象的属性值   </span></span><br><span class="line"><span class="comment">//OC里的命名规范:get方法名不需要加get前缀   </span></span><br><span class="line">-(NSInteger)age;   </span><br><span class="line">-(NSString *)name;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><p>在类的外部如：<em>main.m</em> 文件中想要给对象设置属性，要通过调用相应的设置器方法<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 格式：[对象 方法名]</span></span><br><span class="line"><span class="comment">// set 方法</span></span><br><span class="line">[Person setAge:<span class="number">34</span>];   </span><br><span class="line">[Person setName:<span class="string">@"张三"</span>];   </span><br><span class="line">[Person setWeight:<span class="number">80</span>];&lt;br /&gt;    </span><br><span class="line"></span><br><span class="line"><span class="comment">// get 方法  </span></span><br><span class="line"><span class="comment">// 用age变量接收调用的方法返回值   </span></span><br><span class="line"><span class="built_in">NSInteger</span> age = [Person age ];   </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"person的年龄：%ld"</span>,age);   </span><br><span class="line"><span class="built_in">NSString</span> *name = [Person name];   </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"person的名字：%@"</span>,name);   </span><br><span class="line">    </span><br><span class="line"><span class="comment">// 点语法</span></span><br><span class="line"><span class="comment">//点语法只能调用 set 和 get 方法</span></span><br><span class="line">Person.age = <span class="number">34</span>;   <span class="comment">//等效于 [Person setAge:34]; </span></span><br><span class="line"><span class="built_in">NSInteger</span> age = Person.age; <span class="comment">//等效于 NSInteger age = [Person age ];</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>字符串<br>  OC中字符串都是以@开头的,比如@<code>&quot;Hello&quot;</code>是OC中的字符串。</li>
<li>控制台打印<br>   C语言中使用<code>printf(&quot;Hello&quot;)</code>打印字符串, OC中使用NSLog函数打印字符串:<code>NSLog(@&quot;Hello&quot;)</code>;</li>
<li>把一个对象使用%@打印，实际上是调用了此对象的description，然后取的此方法的返回值打印。   <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,book);     </span><br><span class="line"><span class="comment">//与下面的方法等价       </span></span><br><span class="line"><span class="built_in">NSString</span> *desc = [book description];        </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,desc);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="初始化方法"><a href="#初始化方法" class="headerlink" title="初始化方法"></a>初始化方法</h3><ul>
<li>对象必须先创建,然后初始化,才能使用。如：<code>NSObject *object = [[NSObject alloc] init];</code>；</li>
<li>OC中的对象通过指针来声明。如：<code>Person *p</code> ；</li>
<li>初始化方法，是创建对象alloc之后调用，并且只能调用一次；</li>
<li>方法名必须以init开头；</li>
<li>返回值类型是id类型；<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义初始化方法，将姓名传入   </span></span><br><span class="line"><span class="selector-tag">-</span> (id)<span class="selector-tag">initWithName</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">name</span>;</span><br><span class="line"><span class="comment">//多个参数的初始化方法的定义   </span></span><br><span class="line"><span class="selector-tag">-</span> (id)<span class="selector-tag">initWithName</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">name</span> <span class="selector-tag">WithAge</span><span class="selector-pseudo">:(NSInteger)age</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="自定义初始化方法的实现"><a href="#自定义初始化方法的实现" class="headerlink" title="自定义初始化方法的实现"></a>自定义初始化方法的实现</h4><p>在<strong>init方法</strong>中,若要父类完成所需的一次性初始化,需要调用<code>[super init]</code>,init方法返回的值,描述了被初始化的对象。<br>将<code>[super init]</code>的结果赋给<code>self</code>是<strong>Objective-C</strong>的标准惯例,这么做是为了防止父类在初始化过程中返回的对象不同于原先创建的对象。</p>
<pre><code>- (id)initWithName:(NSString *)name{
//使用super可以调用父类中定义的方法
self = [super init];
if (self) {
    //赋值
    _name = name;
} 
return self;
</code></pre><p>}</p>
<p>####调用初始化方法</p>
<pre><code>Person *p1 = [[Person alloc] init];
Person *p2 = [[Person alloc] initWithName:@&quot;jack&quot;];
Person *p3 = [[Person alloc] initWithName:@&quot;Tom&quot; WithAge:22];
</code></pre><p><strong>initWithCString</strong>: c语言的字符串转换成OC的字符串<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *outputValue = [[<span class="built_in">NSString</span> alloc] initWithCString:inputValue encoding: <span class="built_in">NSUTF8StringEncoding</span>];</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/08/Objective-C_面向对象—封装、继承、多态/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/08/08/Objective-C_面向对象—封装、继承、多态/" class="post-title-link" itemprop="url">Objective-C_面向对象—封装、继承、多态</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-08 10:48:00" itemprop="dateCreated datePublished" datetime="2016-08-08T10:48:00+08:00">2016-08-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/08/08/Objective-C_面向对象—封装、继承、多态/" class="leancloud_visitors" data-flag-title="Objective-C_面向对象—封装、继承、多态">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="面向对象的三大特征"><a href="#面向对象的三大特征" class="headerlink" title="面向对象的三大特征:"></a>面向对象的三大特征:</h3><ol>
<li>封装 (Encapsulation) </li>
<li>继承 (Inheritance)</li>
<li>多态 (Polymorphism)</li>
</ol>
<h3 id="封装、权限修饰符（-public、-private、-protected）"><a href="#封装、权限修饰符（-public、-private、-protected）" class="headerlink" title="封装、权限修饰符（@public、@private、@protected）"></a>封装、权限修饰符（@public、@private、@protected）</h3><ul>
<li>隐藏属性、方法或者实现细节的过程称之为<strong>封装</strong>。   </li>
<li><strong>权限修饰符</strong>用来修饰<strong>实例变量</strong>,用来控制实例变量的访问权限。</li>
<li>在语法上，不存在私有<strong>方法</strong>。但约定：在 .m 文件中实现，但在 .h 文件中没有声明的方法称之为<strong>私有方法</strong>。</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"><span class="comment">/*    属性的封装</span></span><br><span class="line"><span class="comment"> *   1.使类的属性不让外部直接访问</span></span><br><span class="line"><span class="comment"> */</span>  <span class="number">2.</span>外部使用这个类时，不需要关心这个类具有哪些属性</span><br><span class="line">   </span><br><span class="line"><span class="comment">//@public 修饰的成员变量，外部可以直接访问</span></span><br><span class="line"><span class="comment">//不建议直接使用，因为破坏了属性的封装性</span></span><br><span class="line"><span class="keyword">@public</span></span><br><span class="line">   <span class="built_in">NSString</span> *_name;    <span class="comment">//名称</span></span><br><span class="line">   <span class="built_in">NSString</span> *_color;   <span class="comment">//颜色</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@private 是私有属性，只能在类的内部访问</span></span><br><span class="line"><span class="comment">// 子类不能访问private修饰的属性</span></span><br><span class="line"><span class="keyword">@private</span></span><br><span class="line">   <span class="keyword">float</span> width;    <span class="comment">//车宽</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@protected 受保护的属性，</span></span><br><span class="line"><span class="comment">//类的内部，子类都可以访问，类的外部不能访问</span></span><br><span class="line"><span class="keyword">@protected</span>  <span class="comment">//默认的修饰</span></span><br><span class="line">   <span class="keyword">float</span> _capcity; <span class="comment">//耗油量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@package</span>  <span class="comment">//修饰的变量只能在当前所在的框架中访问</span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*方法的封装</span></span><br><span class="line"><span class="comment">1.对功能实现的细节隐藏于封装</span></span><br><span class="line"><span class="comment">2.保护属性</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)run;</span><br><span class="line"></span><br><span class="line"><span class="comment">//封装还可以保护属性值的有效性</span></span><br><span class="line">- (<span class="keyword">void</span>)setCapicity:(<span class="keyword">float</span>)capicity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<pre><code>//.m 文件实现中
//调用方法时可以对属性值的有效性进行判断
- (void)setCapicity:(float)capicity{
if (capicity &lt; 0) {
    //给出错误处理
    return 0;
}
_capcity = capicity;
}
</code></pre><p>​    </p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><ul>
<li>子类具有父类的一般特性（包括属性和行为），以及自身特殊的特性。</li>
<li>定义一个通用的类,它有基本的实例变量。子类可以继承了该类,就可以拥有这些实例变量。子类也可以定义自己的实例变量。</li>
<li>被继承的类叫<strong>超类</strong>或<strong>父类</strong>(<strong>superclass</strong>),继承超类的类叫<strong>子类</strong>或<strong>派生类</strong>(s<strong>ubclass</strong>)。</li>
<li>OC中继承的语法规则为: <code>@interface 子类 :父类</code></li>
<li>子类自动继承父类的属性和方法</li>
<li>OC语言的类都是<strong>单继承</strong>，即一个子类只能有一个父类。</li>
<li>（<em>多继承即一个子类可以有多个父类，它继承了多个父类的特性</em>）</li>
</ul>
<p><strong>父类：</strong></p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@interface</span> <span class="string">ClassA :</span> NSObject</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line">&#125; </span><br><span class="line">- (<span class="keyword">void</span>) run; </span><br><span class="line"><span class="meta">@end</span></span><br></pre></td></tr></table></figure>
<p><strong>子类：</strong></p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@interface</span> <span class="string">ClassB :</span> ClassA  </span><br><span class="line">- (<span class="keyword">void</span>) printVar;</span><br><span class="line"><span class="meta">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="方法重写"><a href="#方法重写" class="headerlink" title="方法重写"></a>方法重写</h3><ul>
<li>通过方法重写，子类可以改变从父类继承的行为。</li>
<li>被重写的方法定义必须与父类中的方法完全一样。</li>
<li>方法重写必须满足两个条件1.必须要有继承关系；2.重写方法的方法名、参数列表必须都一致；<br>例如：重写 init 初始化方法。</li>
</ul>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><ul>
<li>多态是指同一种类型,具有多种表现形态。</li>
<li>多态的条件：1.必须存在继承关系。2.子类重写父类的方法。3.父类声明的变量指向子类对象。</li>
</ul>
<ul>
<li><strong>多态</strong>能够使来自不同类的对象定义相同名称的方法（不同的类可以有相同的方法名）。</li>
<li><strong>动态类型</strong>能使程序直到执行时才确定对象所属的类。</li>
<li><strong>动态绑定</strong>能使程序直到执行时才确定实际要调用的对象方法。<blockquote>
<p>Objective-C 系统总是跟踪对象所属的类:<br>含义：先判定对象所属的类，然后在运行时确定需要动态调用的方法，而不是在编译的时候。</p>
</blockquote>
</li>
</ul>
<p><img src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/071210.jpg" alt="image"></p>
<h3 id="isKindOfClass-amp-isMemberOfClass"><a href="#isKindOfClass-amp-isMemberOfClass" class="headerlink" title="isKindOfClass:&amp;isMemberOfClass:"></a><code>isKindOfClass:</code>&amp;<code>isMemberOfClass:</code></h3><ul>
<li><code>isKindOfClass:</code>确定一个对象是否是一个类的成员,或者是派生自该类的成员。</li>
<li><code>isMemberOfClass:</code>确定一个对象是否是当前类的成员。</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/08/Objective-C_SandBox&NSFileManager/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/08/08/Objective-C_SandBox&NSFileManager/" class="post-title-link" itemprop="url">Objective-C_SandBox&NSFileManager</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-08 10:48:00" itemprop="dateCreated datePublished" datetime="2016-08-08T10:48:00+08:00">2016-08-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/08/08/Objective-C_SandBox&NSFileManager/" class="leancloud_visitors" data-flag-title="Objective-C_SandBox&NSFileManager">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<p><a href="http://www.jianshu.com/p/a30ae4746aca" target="_blank" rel="noopener">APP的沙盒文档结构、获取沙盒目录</a></p>
<h4 id="SandBox"><a href="#SandBox" class="headerlink" title="SandBox"></a>SandBox</h4><ul>
<li>iOS中每个应用程序都有一个单独封闭的文件夹，这个文件夹称为沙盒（sandbox）</li>
<li>沙盒目录用来存放App的本地文件</li>
<li>当前APP应用程序没有权限访问其他APP的沙盒。</li>
<li>沙盒目录：<ul>
<li>Docunments :存放长期使用的文件。</li>
<li>Library :系统存放文。</li>
<li>tmp : 临时文件，App重启时，该目录下的文件清空。</li>
</ul>
</li>
</ul>
<h5 id="获取沙盒Home路径"><a href="#获取沙盒Home路径" class="headerlink" title="获取沙盒Home路径"></a>获取沙盒Home路径</h5><p><code>NSString *homeDir = NSHomeDirectory();</code></p>
<h5 id="文件路径的追加"><a href="#文件路径的追加" class="headerlink" title="文件路径的追加"></a>文件路径的追加</h5><pre><code>NSString *homeDir = NSHomeDirectory(); 

NSString *documents = [homeDir stringByAppendingString:@&quot;/Documents&quot;];   
NSString *documents = [homeDir stringByAppendingPathComponent:@&quot;Documents&quot;]; //注意：不需要加‘/’
</code></pre><h5 id="获取沙盒下的Documents目录"><a href="#获取沙盒下的Documents目录" class="headerlink" title="获取沙盒下的Documents目录"></a>获取沙盒下的Documents目录</h5><pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documents = [paths lastObject];
NSLog(@&quot;documents = %@&quot;,documents);
</code></pre><h5 id="NSString处理路径"><a href="#NSString处理路径" class="headerlink" title="NSString处理路径"></a>NSString处理路径</h5><pre><code>//演示路径 
NSString *path = @&quot;/Users/apple/file.text&quot;;

1.获取路径的组成部分  结果: (“/”,”Users”, “apple”, “file.text”) 
NSArray *components = [path pathComponents];

2.路径的最后一个组成部分   结果: file.text
NSString *lastName = [path lastPathComponent]；

3.追加文件或目录  结果: /Users/apple/file.text/app.text
NSString *filePath = [path stringByAppendingPathComponent:@&quot;app.text&quot;];

4.删除最后部分的组成部分 结果: /Users/apple
NSString *filePath = [path stringByDeletingLastPathComponent];

5. 取路径最后部分的扩展名 结果: text
NSString *extName = [path pathExtension];

6. 追加扩展名   结果: /Users/apple/file.text.jpg
NSString *filePath = [path stringByAppendingPathExtension:@&quot;jpg&quot;];
</code></pre><p>​    </p>
<h4 id="NSData"><a href="#NSData" class="headerlink" title="NSData"></a>NSData</h4><ul>
<li><strong>NSData</strong> 是对数据的一种抽象.</li>
<li><p>任何数据都可以通过 <strong>NSData</strong> 来存储,<strong>NSMutableData</strong> 是可变的,继承于NSData.</p>
<h5 id="NSString-NSData"><a href="#NSString-NSData" class="headerlink" title="NSString  NSData"></a>NSString <-> NSData</-></h5><pre><code>NSString *s = @&quot;NSData是对数据的一种抽象&quot;;

//NSString -&gt; NSData
NSData *data1 = [s dataUsingEncoding:NSUTF8StringEncoding];

//NSData -&gt; NSString
NSString *s2 =[[NSString alloc] initWithData:data1 encoding:NSUTF8StringEncoding];
</code></pre></li>
</ul>
<h4 id="NSFileManager"><a href="#NSFileManager" class="headerlink" title="NSFileManager"></a>NSFileManager</h4><ul>
<li><strong>NSFileManager</strong> 主要对文件进行管理,主要有如下功能:创建、复制、删除、剪切等</li>
</ul>
<h5 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h5><pre><code>//创建 NSFileManager 对象
NSFileManager *fileManager = [[NSFileManager alloc] init];    
NSFileManager *fileManager = [NSFileManager defaultManager];  //同上

//1.构造文件的路径
NSString *homePath = NSHomeDirectory();
NSString *filePath = [homePath stringByAppendingPathComponent:@&quot;file.txt&quot;];

//2.构造数据
NSString *string = @&quot;Hello World!&quot;;

//3.将字符串中的文本数据存储到Data对象中
NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding];

//4.创建文件
//createFileAtPath 创建文件，如果文件已经存在，那么新创建的文件会将原文件覆盖
BOOL success = [fileManager createFileAtPath:filePath //路径
                                        contents:data //数据
                                      attributes:nil]; //属性
if (success) {
        NSLog(@&quot;create file success&quot;);
    }
</code></pre><h5 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h5><pre><code>[fileManager createDirectoryAtPath:(NSString *) withIntermediateDirectories:(BOOL) attributes:(NSDictionary *) error:(NSError *__autoreleasing *)] 
</code></pre><h5 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h5><pre><code>//创建 NSFileManager 对象
NSFileManager *fileManager = [NSFileManager defaultManager]; 

//构造文件的路径
NSString *homePath = NSHomeDirectory();
NSString *filePath = [homePath stringByAppendingPathComponent:@&quot;file.txt&quot;];

//根据路径读取文件
NSData *fileData = [fileManager contentsAtPath:filePath];

//将NSData转NSString
NSString *content = [[NSString alloc] initWithData:fileData
                             encoding:NSUTF8StringEncoding];
</code></pre><h5 id="移动，剪切文件"><a href="#移动，剪切文件" class="headerlink" title="移动，剪切文件"></a>移动，剪切文件</h5><pre><code>NSFileManager *fileManager = [NSFileManager defaultManager];

//构造路径
//文件的原路径
NSString *srcPath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;file.txt&quot;];     
//文件剪切之后的路径
NSString *toPath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;temp/file.txt&quot;];

//注意：如果目标路径已经存在此文件，那么会导致操作失败
NSError *error = nil;
BOOL success = [fileManager moveItemAtPath:srcPath
                                        toPath:toPath
                                         error:&amp;error];
if (!success) {
    NSLog(@&quot;剪切失败,%@&quot;,error);
    }
</code></pre><h5 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h5><pre><code>NSFileManager *fileManager = [NSFileManager defaultManager];

//1.构造路径
//文件的原路径
NSString *srcPath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;temp/file.txt&quot;];    
//文件复制之后的路径
NSString *toPath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;file.txt&quot;];

BOOL success = [fileManager copyItemAtPath:srcPath
                                        toPath:toPath
                                         error:nil];
/注意：如果目标路径已经存在此文件，那么会导致操作失败
if (!success) {
        NSLog(@&quot;复制失败&quot;);
    }
</code></pre><h5 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h5><pre><code>NSFileManager *fileManager = [NSFileManager defaultManager];

//1.构造文件路径
NSString *toPath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;file.txt&quot;];

//2.判断文件是否存在
BOOL exist = [fileManager fileExistsAtPath:toPath];
if (exist) {
//3.删除文件
    if ([fileManager removeItemAtPath:toPath error:nil]) {
            NSLog(@&quot;删除文件成功&quot;);
        }
    }
</code></pre><h5 id="删除文件夹"><a href="#删除文件夹" class="headerlink" title="删除文件夹"></a>删除文件夹</h5><pre><code>NSString *dir = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;temp&quot;];
[fileManager removeItemAtPath:dir error:nil];
</code></pre><h5 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h5><pre><code>NSFileManager *fileManager = [NSFileManager defaultManager];

//1.构造文件路径    
NSString *filePath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;file.txt&quot;];

//获得文件的属性字典     
NSDictionary *fileAttribute = [fileManager attributesOfItemAtPath:filePath error:nil];
NSLog(@&quot;%@&quot;,fileAttribute);

//获取文件大小    
NSNumber *fileSize = [fileAttribute objectForKey:@&quot;NSFileSize&quot;];
long size = [fileSize longValue];
NSLog(@&quot;size = %ld&quot;,size);
</code></pre><h5 id="获取文件夹中所有的文件"><a href="#获取文件夹中所有的文件" class="headerlink" title="获取文件夹中所有的文件"></a>获取文件夹中所有的文件</h5><pre><code>NSFileManager *fileManager = [NSFileManager defaultManager];

//1.构造路径
NSString *filePath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;壁纸&quot;];

//2.获取文件夹中所有的子文件路径(路径是相对路径)
NSArray *subPaths = [fileManager subpathsOfDirectoryAtPath:filePath error:nil];

//3.遍历每一个子路径
long sum = 0;
for (NSString *subpath in subPaths) {

//4.子路径与父路径拼接
NSString *path = [filePath stringByAppendingPathComponent:subpath];

//5.获取文件的属性，计算所有文件占用内存大小
NSDictionary *fileAttribute = [fileManager attributesOfItemAtPath:path error:nil];

NSNumber *filesize = fileAttribute[@&quot;NSFileSize&quot;];
long size = [filesize longValue];
sum += size;
}
//6.单位换算
float result = sum / (1000*1000.0);
NSLog(@&quot;result = %.1f&quot;,result);
</code></pre><h5 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h5><ul>
<li>数组、字典、字符串、NSData都是容纳数据的,他们都有一个writeToFile方法, 将数据写入文件。</li>
<li>数组、字典写入的文件叫属性列表 (plist) 文件,可以用xcode打开编辑。</li>
<li>数组只能将如下数据类型写入文件,如果包含其他对象,将写入失败。NSNumber、NSString、NSData、NSDate、NSArray、NSDictionary</li>
</ul>
<pre><code>//数组写文件
NSString *s1 = @&quot;zhangsan&quot;; 
NSString *s2 = @&quot;lisi&quot;; 
NSArray *array = [NSArray arrayWithObjects:s1,s2, nil];
</code></pre><p>​<br>​    //将数组中的数据写入文件<br>​    [array writeToFile:path atomically:YES]; </p>
<h5 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h5><pre><code>//数组读文件
//1.通过alloc创建，并读入文件数据
NSArray *alloc = [[NSArray alloc] initWithContentsOfFile:path]; 

//2.通过类方法创建，并读入文件数据
MSArray *array = [NSArray arrayWithContentsofFile:path];
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/08/iOS 编程：NSDate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/08/08/iOS 编程：NSDate/" class="post-title-link" itemprop="url">iOS 编程：NSDate</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-08 10:48:00" itemprop="dateCreated datePublished" datetime="2016-08-08T10:48:00+08:00">2016-08-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/08/08/iOS 编程：NSDate/" class="leancloud_visitors" data-flag-title="iOS 编程：NSDate">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<blockquote>
<p>💡<br>推荐使用的时间类框架：<br><a href="https://github.com/MatthewYork/DateTools" target="_blank" rel="noopener">DateTools</a> | <a href="https://www.jianshu.com/p/10c5a9e60880" target="_blank" rel="noopener">DateTools 使用「日期工具库」</a></p>
</blockquote>
<h1 id="NSDate"><a href="#NSDate" class="headerlink" title="NSDate"></a>NSDate</h1><ul>
<li><strong>NSDate</strong>: 用于处理日期的类，它提供日期的创建、比较、计算时间间隔等功能。</li>
<li><strong>NSDate</strong> 是一个类簇，我们所使用的 <strong>NSDate</strong> 对象，都是 <strong>NSDate</strong> 的私有子类的实体。</li>
<li><strong>NSDate</strong> 存储的是 <strong>GMT</strong> 时间，使用的时候会根据当前应用指定的 <strong>时区</strong> 进行时间上的增减，以供计算或显示。</li>
</ul>
<h3 id="创建时间对象"><a href="#创建时间对象" class="headerlink" title="创建时间对象"></a>创建时间对象</h3><ul>
<li>当前时间</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 现在时间</span><br><span class="line">NSDate *now1 = [NSDate date];</span><br><span class="line">// 现在时间（同上）</span><br><span class="line">NSDate *now2 = [[NSDate alloc] init];</span><br><span class="line">NSDate *now3 = [NSDate new];</span><br></pre></td></tr></table></figure>
<ul>
<li>未来时间和过去时间</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 可以表示的最远的未来时间 : 4001-01-01 00:00:00 +0000</span><br><span class="line">NSDate *distantFuture = [NSDate distantFuture];</span><br><span class="line">// 可以表示的最早的过去时间 : 0000-12-30 00:00:00 +0000</span><br><span class="line">NSDate *distantPast = [NSDate distantPast];</span><br></pre></td></tr></table></figure>
<ul>
<li>创建相对时间 = 某个时间节点 + 时间戳（<strong>NSTimeInterval</strong>）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// ----------------------------- 类方法 --------------------------------</span><br><span class="line">// 相对于当前时间</span><br><span class="line">NSDate *dateFromNow = [NSDate dateWithTimeIntervalSinceNow:0];</span><br><span class="line">// 相对于给定的某个已知时间</span><br><span class="line">NSDate *dateFromAnotherDate = [NSDate dateWithTimeInterval:0 sinceDate:now];</span><br><span class="line">// 相对于2001年1月1日0时0分0秒</span><br><span class="line">NSDate *dateFromReferenceDate = [NSDate dateWithTimeIntervalSinceReferenceDate:0];</span><br><span class="line">// 相对于1970年1月1日0时0分0秒</span><br><span class="line">NSDate *dateFrom1970 = [NSDate dateWithTimeIntervalSince1970:0];</span><br><span class="line"></span><br><span class="line">// ------------------------------ 实例化方法 (同上)-------------------------------</span><br><span class="line">// 相对于当前时间</span><br><span class="line">NSDate *dateFromNow2 = [[NSDate alloc] initWithTimeIntervalSinceNow:0];</span><br><span class="line">// 相对于给定的某个已知时间</span><br><span class="line">NSDate *dateFromAnotherDate2 = [[NSDate alloc] initWithTimeInterval:0 sinceDate:now];</span><br><span class="line">// 相对于2001年1月1日0时0分0秒</span><br><span class="line">NSDate *dateFromReferenceDate2 = [[NSDate alloc] initWithTimeIntervalSinceReferenceDate:0];</span><br><span class="line">// 相对于1970年1月1日0时0分0秒</span><br><span class="line">NSDate *dateFrom19702 = [[NSDate alloc] initWithTimeIntervalSince1970:0];</span><br></pre></td></tr></table></figure>
<ul>
<li>昨天、今天、明天</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 24H 的时间戳值</span><br><span class="line">NSTimeInterval time = 24 * 60 * 60;  </span><br><span class="line"></span><br><span class="line">//昨天此刻的时间</span><br><span class="line">NSDate *yesterday = [[NSDate alloc] initWithTimeIntervalSinceNow:- time];</span><br><span class="line">//现在的时间</span><br><span class="line">NSDate *today = [[NSDate alloc] initWithTimeIntervalSinceNow:0]; </span><br><span class="line">//明天此刻的时间</span><br><span class="line">NSDate 	*tomorrow = [[NSDate alloc] initWithTimeIntervalSinceNow:time];</span><br></pre></td></tr></table></figure>
<ul>
<li>日期的比较</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 1. 通过 compare: 比较</span><br><span class="line">NSComparisonResult result = [tomorrow compare:yesterday];</span><br><span class="line">switch (result) &#123;</span><br><span class="line">    case NSOrderedAscending:</span><br><span class="line">        // 升序</span><br><span class="line">        NSLog(@&quot;tomorrow &lt; yesterday&quot;);</span><br><span class="line">        break;</span><br><span class="line">    case NSOrderedSame:</span><br><span class="line">        // 相同</span><br><span class="line">        NSLog(@&quot;tomorrow = yesterday&quot;);</span><br><span class="line">        break;</span><br><span class="line">    case NSOrderedDescending:</span><br><span class="line">        // 降序</span><br><span class="line">        NSLog(@&quot;tomorrow &gt; yesterday&quot;);</span><br><span class="line">        break;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 2. 通过时间戳值比较</span><br><span class="line">if ([date1 timeIntervalSince1970] &gt;</span><br><span class="line">    [date3 timeIntervalSince1970])&#123;</span><br><span class="line">    NSLog(@&quot;date1 &gt; date3&quot;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    NSLog(@&quot;date1 &lt; date3&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 3. isEqualToDate:</span><br><span class="line">if (![yesterday isEqualToDate:tomorrow]) &#123;</span><br><span class="line">NSLog(@&quot;不同的一天&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 4. earlierDate:</span><br><span class="line">// 比较两个给定日期并返回更早的日期</span><br><span class="line">NSDate *earlierDate = [tomorrow earlierDate:yesterday];</span><br><span class="line">NSLog(@&quot;earlierDate: %@&quot;,earlierDate);	// earlierDate: Wed Apr 12 12:30:36 2017</span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 5. laterDate:</span><br><span class="line">// 比较两个给定日期并返回更晚的日期</span><br><span class="line">NSDate *laterDate = [tomorrow laterDate:yesterday];</span><br><span class="line">NSLog(@&quot;laterDate: %@&quot;,laterDate);	// laterDate: Fri Apr 14 12:30:36 2017</span><br></pre></td></tr></table></figure>
<ul>
<li>创建某个指定日期</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//mikey.hireDate = [NSDate dateWithNaturalLanguageString:@&quot;Aug 2nd,2010&quot;];</span><br><span class="line"></span><br><span class="line">//Specifying date</span><br><span class="line">NSDateComponents *components = [NSDateComponents new];</span><br><span class="line">[components setYear:2010];</span><br><span class="line">[components setDay:2];</span><br><span class="line">[components setMonth:8];</span><br><span class="line">//We need this calendar so that we can use -dateFromComponents function:)</span><br><span class="line">NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier: NSCalendarIdentifierGregorian];</span><br><span class="line">//Assigning final date to our Object/Employee</span><br><span class="line">mikey.hireDate = [gregorian dateFromComponents: components];</span><br><span class="line">//Giving date nice look (Aug %day, %year)</span><br><span class="line">NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">dateFormatter.timeStyle = NSDateFormatterNoStyle;</span><br><span class="line">dateFormatter.dateStyle = NSDateFormatterMediumStyle;</span><br><span class="line">//Displays time in ENG (or localization), i get russian output by default without these two lines: Август 2, 2010</span><br><span class="line">NSLocale *usLocale = [[NSLocale alloc] initWithLocaleIdentifier:@&quot;en_US&quot;];</span><br><span class="line">[dateFormatter setLocale:usLocale];</span><br><span class="line">//Applying dateFormatter to our date(mikey.hireDate), because it needs to look fancy... the result will be string, i just don&apos;t know how to make mikey.hireDate look right (%month %day, %year) without converting it to String    :&#125;</span><br><span class="line">NSString *finalDateItsStringNow = [dateFormatter stringFromDate:mikey.hireDate];</span><br><span class="line"></span><br><span class="line">//----------</span><br><span class="line">NSCalendar *calendar = [NSCalendar currentCalendar];</span><br><span class="line">NSDateComponents *components = [[NSDateComponents alloc] init];</span><br><span class="line">[components setYear:1998];</span><br><span class="line">[components setMonth:5];</span><br><span class="line">[components setDay:1];</span><br><span class="line">NSDate *birthday = [calendar dateFromComponents:components];</span><br></pre></td></tr></table></figure>
<h1 id="NSTimeInterval"><a href="#NSTimeInterval" class="headerlink" title="NSTimeInterval"></a>NSTimeInterval</h1><ul>
<li><strong>NSTimeInterval（时间戳）</strong>：用于指定两个时间节点之间的时间间隔（以秒为单位）。</li>
<li><strong>NSTimeInterval</strong> 始终以 <strong>秒</strong> 为单位指定; 它在10,000年的范围内产生了亚毫秒的精度。</li>
</ul>
<h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">typedef double NSTimeInterval;</span><br></pre></td></tr></table></figure>
<ul>
<li>获取时间戳</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 给定时间 相对于 现在时间 的时间戳</span><br><span class="line">NSDate *now = [NSDate date];</span><br><span class="line">NSTimeInterval timeInterval = [now timeIntervalSinceNow];</span><br><span class="line">NSLog(@&quot;timeInterval is %f&quot;,timeInterval); // timeInterval is -0.000023</span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 两个给定时间节点 之间的时间戳</span><br><span class="line">NSDate *distantFuture = [NSDate distantFuture];</span><br><span class="line">NSDate *distantPast = [NSDate distantPast];</span><br><span class="line">NSTimeInterval timeInterval = [distantFuture timeIntervalSinceDate:distantPast];</span><br><span class="line">NSLog(@&quot;timeInterval is %.f&quot;,timeInterval);	// timeInterval is 126227980800</span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 2001年1月1日0时0分0秒 与 现在时间 之间的时间戳</span><br><span class="line">NSDate *now = [NSDate date];</span><br><span class="line">NSTimeInterval timeInterval = [now timeIntervalSinceReferenceDate];</span><br><span class="line">NSLog(@&quot;timeInterval is %f&quot;,timeInterval); // timeInterval is 513745346.558782</span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">// 1970年1月1日0时0分0秒 与 现在时间 之间的时间戳</span><br><span class="line">NSDate *now = [NSDate date];</span><br><span class="line">NSTimeInterval timeInterval = [now timeIntervalSince1970];</span><br><span class="line">NSLog(@&quot;timeInterval is %f&quot;,timeInterval); // timeInterval is 1492052119.655184</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>NSDate</strong>对象 与 时间戳（<strong>NSTimeInterval</strong>） 相互转换</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// NSDate对象 ------&gt; 相对于1970年的时间戳</span><br><span class="line">NSDate *now =[[NSDate alloc] init]; //创建此刻的时间</span><br><span class="line">NSTimeInterval timeInterval = [now timeIntervalSince1970]; </span><br><span class="line"></span><br><span class="line">// 相对于1970年的时间戳 ------&gt; NSDate 对象</span><br><span class="line">NSDate *date = [NSDate dateWithTimeIntervalSince1970:timeInterval]; //获取时间</span><br></pre></td></tr></table></figure>
<ul>
<li>数字字符串 ——&gt; 时间戳 ——&gt; <strong>NSDate</strong> 对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSString *timeString = @&quot;1234567890&quot;;</span><br><span class="line">NSDate *convertDate = [NSDate dateWithTimeIntervalSince1970:[timeString doubleValue]];</span><br><span class="line">NSLog(@&quot;convertDate %@&quot;, convertDate);	// convertDate Sat Feb 14 07:31:30 2009</span><br></pre></td></tr></table></figure>
<h1 id="NSDateFormatter"><a href="#NSDateFormatter" class="headerlink" title="NSDateFormatter"></a>NSDateFormatter</h1><p><strong>NSDateFormatter</strong> 是 <strong>NSFormatter</strong> 的子类。另，<strong>NSFormatter</strong> 的用途是“将数据在字符串与特定类型的对象之间转换”，目前 <strong>NSFormatter</strong> 只有两个子类 <strong>NSNumberFormatter</strong> 和 <strong>NSDateFormatter</strong>。</p>
<p>尽管 <strong>NSDateFormatter</strong> 提供了许多已定义好的时间格式，但是开发中开发人员更加喜欢自定义时间格式。</p>
<p>过多使用 <strong>NSDateFormatter</strong> 将影响程序的性能，且程序中 <strong>NSDateFormatter</strong> 对象的时间格式基本一致，所以使用 <strong>NSDateFormatter</strong> 的时候尽量使用单例模式。</p>
<ul>
<li><a href="http://www.jianshu.com/p/82c1104aea6c" target="_blank" rel="noopener">性能优化之 NSDateFormatter</a></li>
</ul>
<ol>
<li><p>将时间字符串转换到 <strong>NSDate</strong> 对象，一般都是使用”年月日 时分秒”，数据库中的date类型基本上也是这样的时间类型。 格式一般为：yyyy-MM-dd HH:mm:ss。</p>
<blockquote>
<p>⚠️ yyyy是小写的；大写的YYYY的意思有些不同——“将这一年中第一周的周日当作今年的第一天”，因此有时结果和yyyy相同，有时就会不同。</p>
</blockquote>
</li>
<li><p>将 <strong>NSDate</strong> 对象转换成特定格式的字符串。</p>
<p>转换后的字符串会根据设备的“区域格式”，显示特定语言的结果。假如程序需要保证不同语言环境下显示一致，请注意这方面的问题，使用其他代替方法！</p>
</li>
</ol>
<p>日期格式RFC文档：<a href="http://www.unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns" target="_blank" rel="noopener">Date_Format_Patterns</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">NSDate *date = [NSDate date];</span><br><span class="line">NSLog(@&quot;date = %@\n&quot;,date);</span><br><span class="line">// date = 2017-10-27 05:03:09 +0000</span><br><span class="line"></span><br><span class="line">NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">[dateFormatter setTimeZone:[NSTimeZone defaultTimeZone]];</span><br><span class="line">[dateFormatter setLocale:[NSLocale currentLocale]];</span><br><span class="line">[dateFormatter setDateFormat:@&quot;yyyy-MM-dd aHH:mm:ss&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 2017-10-27 下午13:30:52</span><br><span class="line"></span><br><span class="line">NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;公元（G=GG=GGG=GGGG=GGGGG）&apos;:G&apos;=&apos;GG&apos;=&apos;GGG&apos;=&apos;GGGG&apos;=&apos;GGGGG&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 公元（G=GG=GGG=GGGG=GGGGG）:公元=公元=公元=公元=公元</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;年度（y=yy=yyy=yyyy=yyyyy）&apos;:y&apos;=&apos;yy&apos;=&apos;yyy&apos;=&apos;yyyy&apos;=&apos;yyyyy&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 年度（y=yy=yyy=yyyy=yyyyy）:2017=17=2017=2017=02017</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;季度（Q=QQ=QQQ=QQQQ）&apos;:Q&apos;=&apos;QQ&apos;=&apos;QQQ&apos;=&apos;QQQQ&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 季度（Q=QQ=QQQ=QQQQ）:4=04=4季度=第四季度</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;季度（q=qq=qqq=qqq）&apos;:q&apos;=&apos;qq&apos;=&apos;qqq&apos;=&apos;qqqq&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 季度（q=qq=qqq=qqq）:4=04=4季度=第四季度</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;月份（M=MM=MMM=MMMM=MMMMM）&apos;:M&apos;=&apos;MM&apos;=&apos;MMM&apos;=&apos;MMMM&apos;=&apos;MMMMM&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 月份（M=MM=MMM=MMMM=MMMMM）:10=10=10月=十月=10</span><br><span class="line">// 月份（M=MM=MMM=MMMM=MMMMM）:3=03=3月=三月=3</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;本年第几周（w）&apos;:w&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 本年第几周（w）:43</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;本月第几周（W）&apos;:W&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 本月第几周（W）:4</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;本年第几天（D）&apos;:D&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 本年第几天（D）:300</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;本月第几天（d=dd）&apos;:d&apos;=&apos;dd&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 本月第几天（d=dd）:27=27</span><br><span class="line">// 本月第几天（d=dd）:3=03</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;本周第几天（F）&apos;:F&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 本周第几天（F）:4</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;星期（e=ee=eee=eeee=eeeee）&apos;:e&apos;=&apos;ee&apos;=&apos;eee&apos;=&apos;eeee&apos;=&apos;eeeee&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 星期（e=ee=eee=eeee=eeeee）:6=06=周五=星期五=五</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;星期（c=ccc=cccc=ccccc）&apos;:c&apos;=&apos;ccc&apos;=&apos;cccc&apos;=&apos;ccccc&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 星期（c=ccc=cccc=ccccc）:6=周五=星期五=五</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;上午/下午（a）&apos;:a&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 上午/下午（a）:下午</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;小时（h=hh=H=HH）&apos;:h&apos;=&apos;hh&apos;=&apos;H&apos;=&apos;HH&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 小时（h=hh=H=HH）:1=01=13=13</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;分钟（m=mm）&apos;:m&apos;=&apos;mm&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 分钟（m=mm）:3=03</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;秒（s=ss）&apos;:s&apos;=&apos;ss&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 秒（s=ss）:9=09</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;毫秒（S）&apos;:S&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 毫秒（S）:9</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;一天中的毫秒（A）&apos;:A&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 一天中的毫秒（A）:46989943</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;时区（z/zz/zzz=zzzz=v=vvvv）&apos;:z&apos;=&apos;zzzz&apos;=&apos;v&apos;=&apos;vvvv&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 时区（z/zz/zzz=zzzz=v=vvvv）:GMT+8=中国标准时间=中国时间=中国标准时间</span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:@&quot;&apos;时区编号（Z/ZZ/ZZZ=ZZZZ）&apos;:Z&apos;=&apos;ZZZZ&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:date]);</span><br><span class="line">// 时区编号（Z/ZZ/ZZZ=ZZZZ）:+0800=GMT+08:00</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>NSDate</strong> 对象 —&gt; 格式化日期字符串</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NSDate *date = [NSDate date];</span><br><span class="line">//设置日期的格式 ：2015年01月03日 03：32：12</span><br><span class="line">NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];</span><br><span class="line">[dateFormat setDateFormat:@&quot;yyyy年MM月dd日 HH:mm:ss&quot;];</span><br><span class="line">NSString *dateString = [dateFormat stringFromDate:date];</span><br><span class="line">NSLog(@&quot;当前系统时间：%@ \n 格式化后的时间字符串：%@&quot;,date,dateString);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>当前系统时间：</strong> <strong>2017-04-13 04:38:23 +0000 </strong></p>
<p><strong>格式化后的时间字符串：</strong> <strong>2017</strong> <strong>年</strong> <strong>04</strong> <strong>月</strong> <strong>13</strong> <strong>日</strong> <strong>12:38:23</strong></p>
</blockquote>
<ul>
<li>日期字符串 —&gt; <strong>NSDate</strong> 对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">NSString *str = @&quot;2014-03-21 15:55:55&quot;;</span><br><span class="line">// 设置字符串的日期格式</span><br><span class="line">NSDateFormatter *dateFormater = [[NSDateFormatter alloc] init];</span><br><span class="line">[dateFormater setDateFormat:@&quot;yyyy-M-d HH:mm:ss&quot;];</span><br><span class="line"></span><br><span class="line">NSDate *date = [dateFormater dateFromString:str];</span><br><span class="line">NSLog(@&quot;date:%@&quot;,date); // date:Fri Mar 21 15:55:55 2014</span><br></pre></td></tr></table></figure>
<blockquote>
<p>⚠️ 日期字符串转换为 <strong>NSDate</strong> 对象时，设置的 <strong>NSDateFormatter</strong> 对象是字符串的日期格式，而不是转换后的 <strong>NSDate</strong> 对象格式。</p>
</blockquote>
<ul>
<li><p>NSString —&gt; NSDate —&gt; NSString</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// YYModel 框架方法、DateTool 方法</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)modelCustomTransformFromDictionary:(<span class="built_in">NSDictionary</span> *)dic &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自定义转换日期</span></span><br><span class="line">    <span class="built_in">NSString</span> *treatmentDateString = dic[<span class="string">@"就诊时间"</span>];</span><br><span class="line">    <span class="keyword">if</span> (![treatmentDateString isKindOfClass:[<span class="built_in">NSString</span> <span class="keyword">class</span>]]) <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// string -&gt; date -&gt; string</span></span><br><span class="line">    <span class="comment">// (yyyy-MM-dd HH:mm:ss) -&gt; (yyyy年MM月dd日 HH:mm:ss)</span></span><br><span class="line">    <span class="built_in">NSDate</span> *date = [<span class="built_in">NSDate</span> dateWithString:treatmentDateString formatString:<span class="string">@"yyyy-MM-dd"</span>];</span><br><span class="line">    _treatmentDate = [date formattedDateWithFormat:<span class="string">@"yyyy年MM月dd日"</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>NSDateFormatterStyle</strong></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">typedef NS_ENUM(NSUInteger, NSDateFormatterStyle) &#123;    // date and time format styles</span><br><span class="line">    NSDateFormatterNoStyle = kCFDateFormatterNoStyle,</span><br><span class="line">    NSDateFormatterShortStyle = kCFDateFormatterShortStyle,</span><br><span class="line">    NSDateFormatterMediumStyle = kCFDateFormatterMediumStyle,</span><br><span class="line">    NSDateFormatterLongStyle = kCFDateFormatterLongStyle,</span><br><span class="line">    NSDateFormatterFullStyle = kCFDateFormatterFullStyle</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>代码示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">- (NSDateFormatter *)dateFormatter  </span><br><span class="line">&#123;  </span><br><span class="line">    static NSDateFormatter *dateFormatter;  </span><br><span class="line">    if (!dateFormatter) &#123;  </span><br><span class="line">        dateFormatter = [[NSDateFormatter alloc] init];  </span><br><span class="line">          </span><br><span class="line">        dateFormatter = [[NSDateFormatter alloc] init];  </span><br><span class="line">        // NSDateFormatterStyle几种取值样式  </span><br><span class="line">        // NSDateFormatterNoStyle  </span><br><span class="line">        // 例如： （其实就是空白的，不显示）  </span><br><span class="line">  </span><br><span class="line">        // NSDateFormatterShortStyle  </span><br><span class="line">        // 例如：下午7:00 | 15/5/19  </span><br><span class="line">          </span><br><span class="line">        // NSDateFormatterMediumStyle  </span><br><span class="line">        // 例如：下午7:00:00 | 2013年5月19日  </span><br><span class="line">          </span><br><span class="line">        // NSDateFormatterLongStyle  </span><br><span class="line">        // 例如：GMT +8下午7:00:00 | 2013年5月19日  </span><br><span class="line">          </span><br><span class="line">        // NSDateFormatterFullStyle  </span><br><span class="line">        // 例如：中国标准时间下午7:00:00 | 2013年5月19日 星期日  </span><br><span class="line">        dateFormatter.timeStyle = NSDateFormatterFullStyle;  </span><br><span class="line">        dateFormatter.dateStyle = NSDateFormatterLongStyle;  </span><br><span class="line">    &#125;  </span><br><span class="line">    return dateFormatter;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="NSTimeZone"><a href="#NSTimeZone" class="headerlink" title="NSTimeZone"></a>NSTimeZone</h1><ul>
<li>时区是一个地理名字，是为了克服各个地区或国家之间在使用时间上的混乱。</li>
</ul>
<h3 id="基本概念："><a href="#基本概念：" class="headerlink" title="基本概念："></a>基本概念：</h3><ol>
<li><ul>
<li>GMT 0:00 格林威治标准时间; </li>
<li>UTC +00:00 校准的全球时间; </li>
<li>CCD +08:00 中国标准时间 ;</li>
</ul>
</li>
<li>夏时制，英文”DaylightSavingTime”。夏季时将时区内的时间提前（一般为1小时），以节省资源，提高效率。使用夏时制期间，当前时区相对于GMT的时间偏移量会发生变化。在某些应用中可能需要考虑。</li>
<li>任何时区都以 <strong>GMT</strong> 为基准，即，任何 <strong>NSTimeZone</strong> 对象所代表的时区都是相对于 <strong>GMT</strong> 的，这里的相对性是 <strong>NSTimeZone</strong> 中最重要的属性，我们称之为当前时区相对于GMT的偏移量。一旦知道了一个偏移量，便可以确定一个时区。在iOS中，偏移量是以”秒”为单位的。</li>
<li><strong>NSTimeZone</strong> 是一个类簇，我们所使用的任何 <strong>NSTimeZone</strong> 对象都是 <strong>NSTimeZone</strong> 的私有子类。</li>
<li>iOS中的时间类 <strong>NSDate</strong> 中存储的时间，都是相对于 <strong>GMT</strong> 的，我们使用 <strong>NSDate</strong> 时，会根据App的时区设置返回与时区对应的数据。</li>
<li><p>iOS系统中的 <figure class="highlight plain"><figcaption><span>地理位置名称 或 时区别名 得到的时区信息。时区别名都是与具体的地理位置一一对应的。(已越狱的童鞋请看)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7. iOS中的时区表示方法：```GMT+0800``` 、```GMT-0800```。(【+：东区】【 -：西区】【 08：小时数】【 00：分钟数】)。 ```GMT+0830 ```就是指比GMT早8小时外加30分钟的时区。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 方法</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* ```+ (NSArray *)knownTimeZoneNames;</span><br></pre></td></tr></table></figure></p>
<p>返回列出系统已知的所有时区ID的字符串数组。</p>
</li>
</ol>
<ul>
<li><figure class="highlight plain"><figcaption><span>(NSDictionary *)abbreviationDictionary;```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  获取所有的时区名称缩写</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+ ```+ (id)timeZoneWithName:(NSString *)tzName;</span><br></pre></td></tr></table></figure>
<p>由时区的名称获得对应的NSTimeZone对象<br>通过时区名称可以获得时区文件，通过时区文件就可以获得“偏移量”，“名称缩写”，“是否使用夏时制”等信息。</p>
</li>
</ul>
<ul>
<li><figure class="highlight plain"><figcaption><span>*)abbreviation;```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">  由时区名称缩写获得对应的NSTimeZone对象</span><br><span class="line">  &gt; 这里的时区名称缩写有两种情况：</span><br><span class="line">  &gt;</span><br><span class="line">  &gt; * 第一种是上面说的HKT这样的缩写，与时区名称一一对应，通过这样的缩写获得的NSTimeZone对象，与使用时区名称获得得NSTimeZone对象一样。（大概读取得是同一个时区文件）</span><br><span class="line">  &gt; * 第二种是&quot;GMT+0800&quot;这样格式得缩写，其实这就是偏移量。通过偏移量在iOS中是不能读到与之对应得时区文件的，因此就无法知道“时区名称”，“名称缩写”，“是否使用夏时制”这样的信息了。默认情况下，&quot;时区名称&quot;和&quot;名称缩写&quot;都会赋值为&quot;GMT+0800&quot;，&quot;是否使用夏时制&quot;则不会设置（默认不使用）。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+ ```+ (id)timeZoneForSecondsFromGMT:(NSInteger)seconds;``` </span><br><span class="line">  由偏移量获得对应的NSTimeZone对象</span><br><span class="line"></span><br><span class="line">  &gt; 只说一点：通过偏移量获得的 **NSTimeZone** 对象的“市区名称”，“名称缩写”都会赋值为&quot;GMT+0800&quot;，&quot;是否使用夏时制&quot;则不会设置（默认不使用）。</span><br><span class="line">  &gt;  注意！！！！该方法不做参数的范围检查！！！</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 根据指定时区格式化日期</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```objective-c</span><br><span class="line">NSDate *date = [NSDate date];</span><br><span class="line">//设置日期的格式</span><br><span class="line">NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];</span><br><span class="line">[dateFormat setDateFormat:@&quot;yyyy年MM月dd日 HH:mm:ss&quot;];</span><br><span class="line"></span><br><span class="line">//获取到所有时区的名字</span><br><span class="line">NSArray *zoneName = [NSTimeZone knownTimeZoneNames];</span><br><span class="line">NSLog(@&quot;%@&quot;,zoneName);</span><br><span class="line"></span><br><span class="line">//设置时区为纽约时区</span><br><span class="line">NSTimeZone *timeZone = [[NSTimeZone alloc] initWithName:@&quot;America/New_York&quot;];</span><br><span class="line">[dateFormat setTimeZone:timeZone];</span><br><span class="line">  </span><br><span class="line">NSString *dateString = [dateFormat stringFromDate:date];</span><br><span class="line">NSLog(@&quot;当前时间：%@ \n纽约时间:%@&quot;,date,dateString);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><strong>当前时间：</strong> <strong>2017-04-13 04:46:23 +0000 </strong></p>
<p><strong>纽约时间：</strong> <strong>2017</strong> <strong>年</strong> <strong>04</strong> <strong>月</strong> <strong>13</strong> <strong>日</strong> <strong>00:46:23</strong></p>
</blockquote>
<h1 id="NSLocale"><a href="#NSLocale" class="headerlink" title="NSLocale"></a>NSLocale</h1><p>若你只开发中国区的应用，需要保证用户修改当前语言环境时应用的显示不发生变化。而像NSDateFormatter这样的类，会根据设备的设置，自动返回不同语言的数据。为了保证返回数据的语言一致，我们需要设置NSLocale。 下面的代码就可以保证在任何语言环境下，只返回中文的数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NSLocale *locale = [[NSLocale alloc] initWithLocaleIdentifier:@&quot;zh&quot;];</span><br><span class="line">NSDateFormatter *secondDateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">[secondDateFormatter setDateFormat:@&quot;cccc&quot;];</span><br><span class="line">secondDateFormatter.locale = locale;</span><br><span class="line">NSDate *date = [NSDate date];</span><br><span class="line">NSLog(@&quot;%@&quot;, [secondDateFormatter stringFromDate:date]);</span><br></pre></td></tr></table></figure>
<p>当然，像上面的需求很罕见。</p>
<p>作为大家都不常用的一个类，NSLocale类是将与国家和语言相关的信息进行简单的组合，包括货币，文学方面的信息。 货币：货币的国际名称（人民币的国际货币名称是CNY）；货币符号（人民币的国际货币符号是¥） 文学：标点符号，文字的书写顺序（左右顺序），引用的起止符号等等 若做金融一类的应用可能会用到NSLocale这个类。</p>
<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h5 id="日期说明符号对照一览表"><a href="#日期说明符号对照一览表" class="headerlink" title="日期说明符号对照一览表"></a>日期说明符号对照一览表</h5><ul>
<li><a href="http://unicode.org/reports/tr35/tr35-10.html#Date_Format_Patterns" target="_blank" rel="noopener">UNICODE LOCALE DATA MARKUP LANGUAGE (LDML)</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">// -------------------------------------------------------------</span><br><span class="line">d 月中的某一天。一位数的日期没有前导零。  </span><br><span class="line"></span><br><span class="line">dd 月中的某一天。一位数的日期有一个前导零。  </span><br><span class="line"></span><br><span class="line">ddd 周中某天的缩写名称,在 AbbreviatedDayNames 中定义。  </span><br><span class="line"></span><br><span class="line">dddd 周中某天的完整名称,在 DayNames 中定义。  </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">M 月份数字。一位数的月份没有前导零。  </span><br><span class="line"></span><br><span class="line">MM 月份数字。一位数的月份有一个前导零。  </span><br><span class="line"></span><br><span class="line">MMM 月份的缩写名称,在 AbbreviatedMonthNames 中定义。  </span><br><span class="line"></span><br><span class="line">MMMM 月份的完整名称,在 MonthNames 中定义。  </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">y 不包含纪元的年份。如果不包含纪元的年份小于 10,则显示不具有前导零的年份。  </span><br><span class="line"></span><br><span class="line">yy 不包含纪元的年份。如果不包含纪元的年份小于 10,则显示具有前导零的年份。  </span><br><span class="line"></span><br><span class="line">yyyy 包括纪元的四位数的年份。  </span><br><span class="line"></span><br><span class="line">gg 时期或纪元。如果要设置格式的日期不具有关联的时期或纪元字符串,则忽略该模式。   </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">h 12小时制的小时。一位数的小时数没有前导零。  </span><br><span class="line"></span><br><span class="line">hh 12小时制的小时。一位数的小时数有前导零。  </span><br><span class="line"></span><br><span class="line">H 24小时制的小时。一位数的小时数没有前导零。  </span><br><span class="line"></span><br><span class="line">HH 24小时制的小时。一位数的小时数有前导零。  </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">m 分钟。一位数的分钟数没有前导零。  </span><br><span class="line"></span><br><span class="line">mm 分钟。一位数的分钟数有一个前导零。   </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">s 秒。一位数的秒数没有前导零。   </span><br><span class="line"></span><br><span class="line">ss 秒。一位数的秒数有一个前导零。   </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">f 秒的小数精度为一位。其余数字被截断。  </span><br><span class="line"></span><br><span class="line">ff 秒的小数精度为两位。其余数字被截断。  </span><br><span class="line"></span><br><span class="line">fff 秒的小数精度为三位。其余数字被截断。  </span><br><span class="line"></span><br><span class="line">ffff 秒的小数精度为四位。其余数字被截断。  </span><br><span class="line"></span><br><span class="line">fffff 秒的小数精度为五位。其余数字被截断。  </span><br><span class="line"></span><br><span class="line">ffffff 秒的小数精度为六位。其余数字被截断。  </span><br><span class="line"></span><br><span class="line">fffffff 秒的小数精度为七位。其余数字被截断。  </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">t 在 AMDesignator 或 PMDesignator 中定义的 AM/PM 指示项的第一个字符(如果存在)。   </span><br><span class="line"></span><br><span class="line">tt 在 AMDesignator 或 PMDesignator 中定义的 AM/PM 指示项(如果存在)。  </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">z 时区偏移量(“+”或“-”后 仅跟小时)。一位数的小时数没有前导零。例如,太平洋标准时间是“-8”。   </span><br><span class="line"></span><br><span class="line">zz 时区偏移量(“+”或“-”后 仅跟小时)。一位数的小时数有前导零。例如,太平洋标准时间是“-08”。   </span><br><span class="line"></span><br><span class="line">zzz 完整时区偏移量(“+”或“-”后 跟有小时和分钟)。一位数的小时数和分钟数有前导零。例如,太平 洋标准时间是“-08:00”。  </span><br><span class="line"></span><br><span class="line">// -------------------------------------------------------------</span><br><span class="line">: 在 TimeSeparator 中定义的默认时间分隔符。  </span><br><span class="line"></span><br><span class="line">/ 在 DateSeparator 中定义的默认日期分隔符。  </span><br><span class="line"></span><br><span class="line">% c 其中 c 是格式模式(如果单独使 )。如果格式模式与原义字符或其他格式模式合并,则可以省略 “%”字符。  </span><br><span class="line"></span><br><span class="line">\ c 其中 c 是任意字符。照原义显示字符。若要显示反斜杠字符,请使 “\”。</span><br></pre></td></tr></table></figure>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://my.oschina.net/yongbin45/blog/150114" target="_blank" rel="noopener">iOS时间那点事–NSDate</a></li>
<li><a href="https://my.oschina.net/yongbin45/blog/150667" target="_blank" rel="noopener">iOS时间那点事–NSDateFormatter</a></li>
<li><a href="https://my.oschina.net/yongbin45/blog/151376" target="_blank" rel="noopener">iOS时间那点事–NSTimeZone</a></li>
<li><a href="https://my.oschina.net/yongbin45/blog/156130" target="_blank" rel="noopener">ios时间那点事–NSLocale</a></li>
<li><a href="http://blog.csdn.net/ahut_qyb_6737/article/details/42494211" target="_blank" rel="noopener"><a href="http://blog.csdn.net/ahut_qyb_6737/article/details/42494211" target="_blank" rel="noopener">NSDateFormatterStyle 几种取值的区别</a></a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/03/Objective-C_简介/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/08/03/Objective-C_简介/" class="post-title-link" itemprop="url">Objective-C_简介</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-03 13:28:00" itemprop="dateCreated datePublished" datetime="2016-08-03T13:28:00+08:00">2016-08-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Objective-C-编程/" itemprop="url" rel="index"><span itemprop="name">Objective-C 编程</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/08/03/Objective-C_简介/" class="leancloud_visitors" data-flag-title="Objective-C_简介">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><strong>Object-C</strong> 通常写作 <strong>Objective-C</strong> 或者 <strong>Obj-C</strong> 或 <strong>OC</strong>，是根据C语言所衍生出来的语言，继承了C语言的特性，是扩充C的面向对象编程语言。<br><strong>Object-C</strong> 是一种<strong>面向对象</strong>的计算机语言。而C是<strong>面向过程</strong>的语言。<br><strong>Object-C</strong> 是MAC OSX和iOS开发的基础语言。</p>
<h3 id="优点及缺点"><a href="#优点及缺点" class="headerlink" title="优点及缺点"></a>优点及缺点</h3><ul>
<li>Object-C 是非常“实际”的语言。它使用一个用C写成，很小的运行库，OC写成的程序通常不会比其原始码大很多。</li>
<li>Objective-C 的最初版本并不支持垃圾回收。</li>
<li>Objective-C 不包括命名空间机制(namespace mechanism)。</li>
<li>虽然 Objective-C 是C的母集，但它也不视C的基本型别为第一级的对象。</li>
<li>和C++不同，Objective-C 不支持运算子重载（它不支持ad-hoc多型）。</li>
<li>Object-C 仅支持单一父类继承，不支持多重继承。</li>
</ul>
<h3 id="和C-的比较"><a href="#和C-的比较" class="headerlink" title="和C++的比较"></a>和C++的比较</h3><ol>
<li><p>目前好象只有<strong>Apple</strong>使用Objective-C作为其支持的语言吧。</p>
</li>
<li><p>与C++的不同之处有：</p>
<ul>
<li>O-C中所有的类都必须继承自NSObject;</li>
<li>O-C中所有对象都是指针的形式;</li>
<li>O-C用self代替this;</li>
<li>O-C使用id代替void;</li>
<li>O-C使用nil表示NULL;</li>
<li>O-C只支持单继承;</li>
<li>O-C使用YES/NO表示TRUE/FALSE;</li>
<li>O-C使用#import代替#include;</li>
<li>O-C中用消息表示类的方法，并采用<figure class="highlight plain"><figcaption><span>method:argv]```调用形式;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">	* O-C支持反射机制;</span><br><span class="line">	* O-C支持Dynamic Typing, Dynamic Binding和Dynamic Loading.</span><br><span class="line"></span><br><span class="line">3. 与C++的相同之处有：</span><br><span class="line">	* 与C共享的部分一致;</span><br><span class="line">	* 可以使用```assert(BOOL)```, 一般用```NSCParameterAssert(BOOL)```代替。</span><br><span class="line"></span><br><span class="line">4. O-C中的命名前缀说明：</span><br><span class="line">	* NS-：NextStep;</span><br><span class="line">	* CF-：Core Foundation;</span><br><span class="line">	* CA-：Core Animation;</span><br><span class="line">	* CG-：Core Graphics;</span><br><span class="line">	* UI-：User Interface;</span><br><span class="line"></span><br><span class="line">5. O-C中的消息特殊性：</span><br><span class="line">	* 调用消息的类可以不知道如何响应这个消息。如果它不知道如何处理这个消息，它会自动的将这个消息转给其他的类，比如它的父类。</span><br><span class="line">	* 调用消息的类可以是nil。在C++中，在使用类方法之前，我们都需要检查对象是否为空，所以在实现析构函数的时候，常会有如下的代码，如```if (var) &#123; delete var; &#125; ```但是在 Objective-C 中，我们就可以直接写```[var release];即使var == nil```, 也不会有问题。</span><br><span class="line"></span><br><span class="line">6. O-C中的函数声明格式有：</span><br><span class="line">	* ```-/+ (return type) function_name```;</span><br><span class="line">	* ```-/+ (return type) function_name : (parameter type) parameter```;</span><br><span class="line">	* ```-/+ (return type) function_name : (parameter type) parameter1 otherParameter: (parameter_type) parameter2```;</span><br><span class="line">	* 以上参数说明:-表示一般函数，+表示静态函数。otherParameter是参数的别名(第一个参数的别名省略),在函数调用时方便指定。</span><br><span class="line"></span><br><span class="line">7. O-C中的构造/析构函数:</span><br><span class="line">	* O-C中的 `init()/release()` 对应于C++的构造/析构函数。`alloc()/dealloc()`也就对应于C++的new和delete,其中的`dealloc()`由于引用计数的自动调用而不用手动调用。</span><br><span class="line">	* O-C中父类的`init()/release()`函数需要子类的手动调用。而且每次都必须调用。不同于C++的自动调用。</span><br><span class="line">	* 构造函数(- (id) init)调用形如:```CSample* pSample=[CSample alloc] init]```;其中alloc(+ (id) alloc)是继承来的static函数，init是继承来的一般函数，如重写一般函数时，则相当于C++的覆盖(不带参数)或重载(带参数)。</span><br><span class="line">	* 析构函数(- (void) release)将引用计数减1，当=0时父类的release()会自动调用dealloc(- (void) dealloc);</span><br><span class="line"></span><br><span class="line">8. 当O-C没有数据成员时，可省略&#123;&#125;,建议保留。</span><br><span class="line"></span><br><span class="line">9. 继承下来的方法，如：-(id) init可以头文件中省略，建议保留.</span><br><span class="line"></span><br><span class="line">10. 0-C中只有数据成员的访问限制，没有方法的访问限制。</span><br><span class="line">	* 同C++一样，数据成员有三种访问限制public, protected, private，缺省是protected。   </span><br><span class="line">	示例：   </span><br><span class="line">&gt; @interface AccessExample: NSObject &#123;    </span><br><span class="line">`@public`  </span><br><span class="line">int publicVar;   </span><br><span class="line">`@protected`  </span><br><span class="line">int protectedVar;   </span><br><span class="line">`@private`   </span><br><span class="line">int privateVar;   </span><br><span class="line">&#125;   </span><br><span class="line">@end   </span><br><span class="line"></span><br><span class="line">方法的访问限制可通过Category（类别）实现，示例代码：</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<p>// MyClass 类<br>@interface MyClass<br>-(void) sayHello<br>{<br>NSLog(@”Hello”);<br>}<br>@end<br>// MyClass  的扩展类<br>@interface MyClass(Private)<br>-(void) kissGoodbye;<br>@end<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">11</span>. O-C中没有类的静态变量，只有全局变量</span><br><span class="line"></span><br><span class="line"><span class="number">12</span>. O-C中的数组NSArray可以保存不同类型的数据。</span><br><span class="line"></span><br><span class="line"><span class="number">13</span>. O-C也支持run-time时的类型检查   </span><br><span class="line">```- (BOOL) isKindOfClass: classObj```   用于判断该对象是否属于某个类或者它的子类。</span><br><span class="line">```- (BOOL) isMemberOfClass: classObj```   用于判断该对象是否属于某个类（这里不包括子类) 。</span><br><span class="line">```- (BOOL) respondsToSelector: selector```   用于判断该对象是否能响应某个消息。这里，我们可以将@selector后面带的参数理解为C++中的函数指针。   </span><br><span class="line"><span class="symbol">注意:</span><span class="number">1</span>）不要忘了@    </span><br><span class="line">　　 <span class="number">2</span>）@selector后面用的是()，而不是[]。    </span><br><span class="line">　　<span class="number">3</span>）要在消息名称后面跟：，无论这个消息是否带参数。    </span><br><span class="line"><span class="symbol">	　　	如：```[pSquare    respondsToSelector:@selector(Set: andHeight:</span>)]。```   </span><br><span class="line">```+ (BOOL) instancesRespondToSelector: selector```   用于判断该类是否能响应某个消息。这是一个静态函数。   </span><br><span class="line">```-(id) performSelector: selector ：```   调用对象的selector方法。   </span><br><span class="line">```conformsToProtocol``` 类似于```respondsToSelector ```，用于动态检查某个对象是否遵守某个协议。</span><br><span class="line"></span><br><span class="line"><span class="number">14</span>. Category：范畴/扩展类：在没有源代码的情况下，为一个已经存在的类添加一些新的功能</span><br><span class="line">	* 只能添加新的方法，不能添加新的数据成员；</span><br><span class="line">	* Category的名字必须是唯一的。</span><br><span class="line"></span><br><span class="line"><span class="number">15</span>. Protocol：协议类：相当于C++中的纯虚类   </span><br><span class="line">	* 形如：</span><br></pre></td></tr></table></figure></p>
<p>//创建协议</p>
<p>#import &lt;Foundation/Foundation.h&gt;<br>@protocol MyProtocol <nsobject></nsobject></p>
<p>//规则1<br>//规则2</p>
<p>@required    //表示修饰的协议方法必须实现<br>//完成作业的协议方法</p>
<ul>
<li>(void)finishTask;</li>
</ul>
<p>//不能迟到的协议方法<br>-(void)dontLate;</p>
<p>@optional   //表示修饰的协议可选,可实现/可不实现<br>//穿戴整洁</p>
<ul>
<li>(void)wearNeat;</li>
</ul>
<p>@end<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>//  类签订协议:&lt;协议名&gt;<br>@interface Student: NSObject &lt; MyProtocol &gt; {</p>
<p>//实现协议方法</p>
<ul>
<li><p>(void)finishTask{…}<br>-(void)dontLate{…}</p>
<p>} @end</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>使用：<br>Student * student1 = [[Student alloc] init];<br>id&lt; MyProtocol &gt; student1 = dat;<br>[var print]。</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 说明：我们首先声明了MyProtocol协议，任何遵守这个协议的类，都必须实现<span class="keyword">@required</span>中的方法。在Objective-C 中，我们通过&lt;&gt;来表示遵守某个协议。当某个类声明要遵守某个协议之后，它就必须在.m文件中实现这个协议中的所有方法。使用<span class="keyword">id</span>&lt; MyProtocol &gt; 作为类型，而不是象C++中的MyProtocol* var。 </span><br><span class="line"></span><br><span class="line"><span class="number">16.</span> <span class="keyword">IBOutlet</span>, <span class="keyword">IBAction</span>: 告诉<span class="built_in">XCode</span>之后会使用Interface Builder关联该插座变量、动作。如果你希望在Interface Builder中能看到这个控件对象，那么在定义的时候前面加上<span class="keyword">IBOutlet</span>，在IB里就能看到这个对象的outlet，如果你希望在Interface Builder里控制某个对象执行某些动作，就在方法前面加上**(<span class="keyword">IBAction</span>)**。</span><br><span class="line">形如：</span><br></pre></td></tr></table></figure>
<p>//声明一个属性questionLabel，可以指向UILabel对象<br>  @property(nonatomic,weak) IBOutlet UILabel *questionLabel;<br>//方法：实现Bottond动作</p>
<ul>
<li>(IBAction)showQuestion:(id)sender{<br>//…<br>}<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">17.</span> <span class="string">尽量避免在一行语句中进行两层以上的嵌套.</span></span><br><span class="line"></span><br><span class="line"><span class="number">18.</span> <span class="string">消息转发：`-</span> <span class="string">(void)</span> <span class="attr">forwardInvocation:</span> <span class="string">(NSInvocation</span> <span class="string">*)anInvocation;`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 扩展的关键字</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#### @interface</span></span><br><span class="line"><span class="string">类型声明,类似于c++中的class，区别在于OC中的声明与实现是强制分开的，**@interface存放于.h文件中，而@implementation存放于.m文件中。**@interface关键字用于类型的声明，包括数据成员、方法声明、属性等。方法的参数传递采用中缀符的形式，利用“：”分割参数名和被传递参数，类型的声明以@interface开头，以@end结束，通常一个类型的声明采用下面的结构：</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>@class someOtherObject //外部类型声明<br>@interface NewClassName : ParentClassName //类型声明 子类：父类<br>{<br>//    定义属性<br>//    全局变量，成员变量，实例变量<br>    NSInteger _age;  //年龄<br>    NSString *_name;  //姓名<br>    float _weight;  //体重<br>}<br>//方法定义<br>-(void)shopping；//不带参数的方法<br>-(void)goshopping:(float)price; //带参数的方法<br>-(id)someMethod:(int)someArg someOtherArgName:(int)someOtherArg;<br>//类方法,使用类名调用的方法 [类名 方法]<br>//以’+’开头<br>+(id)someMethod:(int)someArg;<br>-(id)init; //初始化方法<br>@propertyint num; //属性,为属性自动生成set和get方法<br>@end<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### @<span class="keyword">implementation</span></span><br><span class="line">对应于@interface的类型声明，@<span class="keyword">implementation</span>表示一个类型的实现过程，存放于‘.m’文件中，同样以@end结束，实现的格式通常如下：</span><br></pre></td></tr></table></figure></p>
<p>//预编译指令，只编译 .m 文件，而 .h 文件导入到此处处理。<br>#import “Person.h”<br>@implementation NewClassName<br>-(id)someMethod:(int)someArg someOtherArgName:(int)someOtherArg<br>{<br>//实现代码<br>}<br>+(id)someMethod:(int)someArg<br>{<br>//类方法实现代码<br>//与实例方法的区别：类方法中不能使用属性<br> }<br>@synthesize num=i; //将属性与变量进行对应<br>@end<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### new、alloc</span><br><span class="line">Object-C中的方法调用形式采用消息发送的方式，通常调用的形式如  </span><br><span class="line">`[someObject someMethod:firstArg someOtherArgName:otherArg]`   </span><br><span class="line">实例的初始化也采用消息发送的形式，可以简单的调用类型的new方法来获取一个实例对象，简单实例化的方法通常是：   </span><br><span class="line">`someObject *obj = [someObject new]; `<span class="comment">//类的实例化    </span></span><br><span class="line">    </span><br><span class="line">**new** 方法的实际过程是调用 **alloc** 和 **init** 方法，因此如果需要采用自定义的方法来初始化实例，则需要自己重写init方法，通常的初始化方式为：    </span><br><span class="line">`someObject *obj = [[someObject alloc] init]; `<span class="comment">//采用无参数的init实例化   </span></span><br><span class="line">`someObject *obj = [[someObject alloc] initWithArg:Arg]; `<span class="comment">//采用参数的实例化 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### @<span class="keyword">class</span></span><br><span class="line">**@<span class="keyword">class</span>**是一个前向引用声明，类似于C++中的friend友元声明，其作用是告诉编译器其后面的字段代表一个类型名称，尽管不知道类型的具体实现，但是只需要将其作为一个类型名称处理即可。通常在使用复合的结构时可以采用**@<span class="keyword">class</span>**来减少头文件的相互引用，如果出现循环依赖，则需要依靠**@<span class="keyword">class</span>**来避免引用的死循环。   </span><br><span class="line">* @<span class="keyword">class</span>可以解决#<span class="keyword">import</span>引起的相互导入.   </span><br><span class="line">* 在头文件里要使用其他类,一般用@<span class="keyword">class</span>, 在实现文件用#<span class="keyword">import</span>导入类文件。   </span><br><span class="line">通常使用形式为：</span><br></pre></td></tr></table></figure></p>
<p><code>@class</code> someOtherObject;<br><code>@interface</code> someObject:NSObject<br>{<br>someOtherObject *obj;<br>}<br>@end<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#### #import </span></span><br><span class="line">类似于C语言中的 **<span class="meta">#include**，导入一个头文件,获取该头文件中类的定义—方法和属性。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#### @property</span></span><br><span class="line">* 尽管可以使用obj-&gt;arr的形式去强制读取对象的成员变量，但是良好的编程形式是对外界提供成员变量的读写接口。**<span class="keyword">@property</span>**关键字提供了外界对成员变量的访问接口，**其本质是自动为某一个属性生成set和get方法**。</span><br><span class="line">* 根据不同的需要，可以添加 **<span class="keyword">readonly</span>**（只读，相当于只添加get不添加set方法）或者 **<span class="keyword">readwrite</span>**（读写，如果不添加则为默认）；</span><br><span class="line">* 还有三种赋值方式可选 ：**<span class="keyword">assign</span>**（直接赋值，通常用于基本类型），**<span class="keyword">retain</span>**（释放旧值，增加新的retaincount），**<span class="keyword">copy</span>**（常用于字符串，生成一个新的拷贝）.      </span><br><span class="line"></span><br><span class="line"> **格式**：</span><br><span class="line"></span><br><span class="line">	<span class="keyword">@property</span>(原子性©,赋值©,读写性©)<span class="built_in">NSString</span> *XXX;  </span><br><span class="line">	      <span class="number">1.</span>原子性    </span><br><span class="line">	        * atomic:多线程环境下，存在线程保护；   </span><br><span class="line">	        * <span class="keyword">nonatomic</span>:多线程环境下，不存在线程保护；   </span><br><span class="line">	      <span class="number">2.</span>赋值     </span><br><span class="line">	        *  <span class="keyword">assign</span>:直接赋值，默认；(对象之外的类型使用)   </span><br><span class="line">	        * <span class="keyword">retain</span>：保留对象；（所有的对象，都使用<span class="keyword">retain</span>）   </span><br><span class="line">	        * <span class="keyword">copy</span>:拷贝对象；<span class="built_in">NSString</span>的对象都使用<span class="keyword">copy</span>    </span><br><span class="line">	      <span class="number">3.</span>读写性     </span><br><span class="line">	        * <span class="keyword">readwrite</span>:生成<span class="keyword">getter</span>、<span class="keyword">setter</span>方法，默认；   </span><br><span class="line">	        * <span class="keyword">readonly</span>:只生成<span class="keyword">getter</span>方法   </span><br><span class="line"></span><br><span class="line"> **作用**：   </span><br><span class="line"> <span class="number">1.</span>生成一个 _XXX 属性，此属性是 private ,不能被继承；   </span><br><span class="line"> <span class="number">2.</span>自动为该属性生成 set 和 get 方法。   </span><br><span class="line"> 通常使用的方式如下： </span><br><span class="line">```  </span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">someObject</span>:<span class="title">NSObject</span>   </span></span><br><span class="line">&#123;   </span><br><span class="line"><span class="keyword">int</span> i; <span class="comment">//成员变量    </span></span><br><span class="line">&#125;   </span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>,<span class="keyword">readonly</span>) <span class="keyword">int</span> num; <span class="comment">//属性(注意无需下划线)   </span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<h4 id="synthesize"><a href="#synthesize" class="headerlink" title="@synthesize"></a>@synthesize</h4><p>与 <strong>@property</strong> 对应，将一个外在属性与成员变量相关联，定义在 <strong>@implementation</strong> 中，如果属性名与变量名一致则可以省略变量名。常用方法：</p>
<pre><code>@implementation someObject 

@synthesize num=i;//如果属性名也为i，则可以直接写为 @synthesize i 

//更改属性名，将默认的 _username 改为 _name
@synthesize username = _name;  
@end   
</code></pre><h4 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h4><ul>
<li>内存管理是关于如何管理 <strong>对象</strong> 生命周期的编程原则。</li>
<li>Object-C采用<strong>引用计数</strong>的方式进行内存管理，由于所有的对象都继承于 <strong>NSObject</strong>，因此所有的对象都可以接受 <strong>NSObject</strong> 的三个方法：<br><code>-(id)retain;</code>   //retain方法将对象的引用计数加1并返回该对象<br><code>-(void)release;</code> //release将引用计数减1<br><code>-(unsigned)retainCount;</code> //retainCount方法返回对象当前的引用计数   </li>
<li>当采用<strong>new</strong>、<strong>alloc</strong>、<strong>copy</strong>方法创建一个对象时，它的引用计数被置为1，如果程序中对该对象进行操作，则应根据需要，通过调用<strong>retain</strong>和<strong>release</strong>方法来保证该对象在不需要的时候被清除。当一个对象的引用计数被置为0后，系统会自动向对象发送一个<strong>dealloc</strong>消息，将其占有的资源释放。通常情况下，如果一个对象的初始化过程调用了其他资源，则应该重写该对象的<strong>dealloc</strong>过程，保证在对象的销毁期正确释放这些资源。</li>
<li>Object-C进行内存管理的3条规则是：   </li>
</ul>
<ol>
<li>如果使用<strong>new</strong>、<strong>alloc</strong>或<strong>copy</strong>操作获得一个对象，则该对象的保留计数器值为1.      </li>
<li>如果通过任何其他方法获得一个对象，则假设该对象的保留计数器值为1，而且已经被设置为自动释放.   </li>
</ol>
<ul>
<li><p>如果保留了某个对象，则必须保持retain方法和release方法的使用次数相等。</p>
</li>
<li><p><strong>retainCount</strong>:内存管理默认为系统自动.<br>内存管理改为手动方法：选中Project -&gt; Build settings -&gt; 搜索框搜索“arc”,将 Object-C Automatic Reference Counting值设置为No；<br><em>手动内存管理(MRC)黄金法则:</em>如果对一个对象使用了 <strong>alloc</strong>,<strong>[mutable]copy</strong>,<strong>retain</strong>, 那么你必须使用相应的 <strong>release</strong> 或者 <strong>autorelease</strong> 释放.</p>
</li>
<li><p>为了更加方便的进行能存管理，cocoa中提供了一个自动释放池（<strong>autorelease pool</strong>）的概念，每一个类都继承了一个<strong>autorelease</strong>方法，当调用对象的<strong>autorelease</strong>方法时，该对象会被加入到开始创建的自动释放池中。当程序进行到不再需要自动释放池中的对象时，将自动释放池释放的时候会向池中的所有对象发送一个release消息，从而保证不再需要的对象被正确的释放。通常的用法如下：</p>
</li>
</ul>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NSAutoreleasePool *pool = <span class="comment">[<span class="comment">[NSAutoreleasePool alloc]</span> init]</span>;   </span><br><span class="line">someObject * obj = <span class="comment">[<span class="comment">[someObject alloc]</span> init]</span>;   </span><br><span class="line"><span class="comment">[obj autorelease]</span>; //将 obj 对象加入自动释放池中，引用计数不会-1.   </span><br><span class="line">//其他代码  </span><br><span class="line"><span class="comment">[pool release]</span>; //执行该语句时，系统会向池内所有的对象发送release消息；</span><br></pre></td></tr></table></figure>
<p>在这个例子中，如果对obj进行的其他<strong>retain</strong>操作和<strong>release</strong>操作保持一致的话，则会将obj的引用计数变为0，从而调用它的<strong>dealloc</strong>方法进行资源释放.</p>
<h4 id="ARC"><a href="#ARC" class="headerlink" title="ARC"></a>ARC</h4><ul>
<li>ARC自动引用计数(automatic reference counting),提供自动管理内存的功能。</li>
<li>不需要手动管理引用计数,不需要也不允许retain、release、autorelease。</li>
<li>注意版本的支持是在iOS4(不支持弱引用)、iOS5上。</li>
</ul>
<h4 id="内存中的区域划分"><a href="#内存中的区域划分" class="headerlink" title="内存中的区域划分"></a>内存中的区域划分</h4><ul>
<li><strong>栈</strong>:栈区(stack)由系统自动分配和释放 ,存放局部变量的值等。</li>
<li><strong>堆</strong>:一般由程序员分配和释放,如果不释放,则出现内存泄露。程序退出时, 系统会回收你的内存。特点:无序、速度慢、容量大。</li>
<li><strong>静态存储区</strong>:全局变量(外部变量)和静态变量都存放在静态区域。当程序结束时,系统回收。</li>
<li><strong>常量区</strong>:存放常量的内存区域,程序结束时,系统回收。</li>
<li><strong>代码区</strong>:存放二进制代码的区域。</li>
</ul>
<h5 id="数组内存管理"><a href="#数组内存管理" class="headerlink" title="数组内存管理"></a>数组内存管理</h5><ul>
<li>如果一个对象被添加到数组,那么这个对象的引用计数会被 <strong>retain</strong> 而 +1.</li>
<li>数组销毁或者 <strong>removeAllObjects</strong>,会给每一个元素发送 <strong>release</strong> 消息。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//对数组中的每一个元素发送<span class="keyword">release</span>消息  </span><br><span class="line">[<span class="built_in">array</span> removeAllObjects]; </span><br><span class="line"></span><br><span class="line">//移除下标为1的元素,同时向它发送<span class="keyword">release</span>消息  </span><br><span class="line">[<span class="built_in">array</span> removeObjectAtIndex:<span class="number">1</span>];</span><br></pre></td></tr></table></figure>
<h4 id="类方法创建的内存管理"><a href="#类方法创建的内存管理" class="headerlink" title="类方法创建的内存管理"></a>类方法创建的内存管理</h4><ul>
<li><strong>Foundation</strong> 中的类可以通过 <strong>alloc</strong> 创建和 <strong>类方法</strong> 创建,区别在于内存管理不一样。</li>
<li><strong>类方法</strong> 创建的对象是加入了自动释放池。</li>
<li>新语法（简便写法）创建的对象和类方法创建的对象相同,由自动释放池管理。</li>
</ul>
<h4 id="Category-（类别、类目）"><a href="#Category-（类别、类目）" class="headerlink" title="Category （类别、类目）"></a>Category （类别、类目）</h4><ul>
<li>类目是为现有的类提供一个新的方法的方法，即使没有一个类的源代码，仍然可以向类中添加一个方法以方便使用。</li>
<li>通过类目扩展的方法,子类也能继承下来。</li>
<li>类目不能为原始类增加属性.</li>
<li>无法调用原始类的方法.</li>
<li>类目的主要目的有3个：将类的实现分散到多个不同的文件或框架中，创建对私有方法的前向引用，向对象添加非正式协议。<br \> </li>
<li>类目的定义和类的定义相似。在.h文件里声明,.m文件里实现方法。</li>
<li>定义类目的文件命名规则: 类名+类目名称,如“NSString+Revert”。     </li>
</ul>
<p><strong>类目的创建：</strong> 菜单选File -&gt; New -&gt; File -&gt; Object-C File -&gt;选择File Type为 Category</p>
<p>类别的声明方法：</p>
<pre><code>@interface NSString (Extension)
{
//        NSString *s = @&quot;hello&quot;;  错误！类目不能创建属性！！！
}

// 要扩展的方法 
-(id)someMethod:(int)someArg; 

//覆写父类方法
- (NSArray&lt;NSString *&gt; *)componentsSeparatedByString:(NSString *)separator;

@end 
</code></pre><p>类别的实现方法：</p>
<pre><code>@implementation NSString (Extension)

-(id)someMethod:(int)someArg; {
//实现代码
}

- (NSArray&lt;NSString *&gt; *)componentsSeparatedByString:(NSString *)separator{
//无法调用原始类的方法
//实现代码
return expression;
}
@end  
</code></pre><h4 id="延展"><a href="#延展" class="headerlink" title="延展"></a>延展</h4><p>在类的实现文件.m中定义类目,叫<strong>延展</strong>。</p>
<pre><code>//延展：使用类目声明方法，在实现类中实现此方法
//延展可以在.h中声明,也可以在.m中声明
@interface Persion (p2)

-(id)someMethod:(int)someArg;

@end
</code></pre><h4 id="protocol-（协议）"><a href="#protocol-（协议）" class="headerlink" title="@protocol （协议）"></a>@protocol （协议）</h4><ul>
<li>Object-C中的协议类似于java中的接口，通过<strong>@protocol</strong>关键字定义一个或多个需要遵从协议的对象实现的方法。</li>
<li>协议本身不是类，它定义了一组方法，让其他类来实现。</li>
<li>在类实现时需要将协议中规定的方法都予以实现。Object C 2.0增加了2个新的协议修饰符<strong>@optional</strong>和<strong>@required</strong>，可以规定协议中的方法是否为必须实现的方法。   </li>
<li><strong>创建方式：</strong>菜单选File -&gt; New -&gt; File -&gt; Object-C File -&gt;自定义协议名，选择File Type为 Protocl。<br \><br>协议定义的方法：<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">`<span class="variable">@protocol</span>` MyProtocol &lt; NSObject &gt; &lt;br \&gt;   </span><br><span class="line"> <span class="built_in">`@required`</span> <span class="comment">//表示修饰的协议方法必须实现    </span></span><br><span class="line">-(void)someMethod1; <span class="comment">//协议方法 &lt;br \&gt;   </span></span><br><span class="line">`<span class="variable">@optional</span>` <span class="comment">//表示修饰的协议可选，可实现/可不实现      </span></span><br><span class="line">-(void)someMethod2;     </span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>采用协议的方法需在类声明时使用尖括号注明其需要使用的协议：<br><code>@interface someObject:NSObject &lt;MyProtocol&gt;</code><br>然后在 .m 文件中添加协议中需要实现的方法。</p>
<h4 id="self-和-super"><a href="#self-和-super" class="headerlink" title="self 和 super"></a>self 和 super</h4><ul>
<li>self指的是类对象本身;</li>
<li>super是父类对象本身;</li>
<li>self用来调用本类对象的方法;</li>
<li>self关键字先从本类中查找是否有此方法，如果没有，再从父类中调用此方法;</li>
<li>super调用从父类继承下来的方法;</li>
<li>super关键字直接调用父类中定义的方法.</li>
</ul>
<p>本文部分或参考自：<a href="http://baike.baidu.com/link?url=da9znr6i-KHqdfvWMs1YVSHwjL009DT8hwE_ETIm8iaEXxcHo8tblkzLd4fxZkHF-EEIAjDHbxNLLjhYxutiwK" target="_blank" rel="noopener">百度百科：Objective-C</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://andy0570.com/2016/08/03/iOS 编程：iOS 系统概述/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="独木舟的木">
      <meta itemprop="description" content="有时候阳光很好 有时候阳光很暗">
      <meta itemprop="image" content="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="独木舟的木">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/08/03/iOS 编程：iOS 系统概述/" class="post-title-link" itemprop="url">iOS 编程：iOS 系统概述</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-03 13:24:00" itemprop="dateCreated datePublished" datetime="2016-08-03T13:24:00+08:00">2016-08-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-28 15:13:44" itemprop="dateModified" datetime="2019-04-28T15:13:44+08:00">2019-04-28</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          
            <span id="/2016/08/03/iOS 编程：iOS 系统概述/" class="leancloud_visitors" data-flag-title="iOS 编程：iOS 系统概述">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1 id="iOS系统"><a href="#iOS系统" class="headerlink" title="iOS系统"></a>iOS系统</h1><h3 id="iOS系统概述与介绍"><a href="#iOS系统概述与介绍" class="headerlink" title="iOS系统概述与介绍"></a>iOS系统概述与介绍</h3><p><strong>iOS</strong>是一款由苹果公司开发的移动操作系统（OS：Operating System）。苹果公司最早于2007年1月9日的Macworld大会上公布该系统。<br><strong>操作系统</strong>：直接运行在硬件上的最基本的系统软件。<br><strong>iOS开发</strong>：开发运行在iOS系统上的应用或者游戏软件。                                                                                                                                                                             </p>
<h4 id="iOS开发归于移动开发领域"><a href="#iOS开发归于移动开发领域" class="headerlink" title="iOS开发归于移动开发领域"></a>iOS开发归于移动开发领域</h4><ul>
<li>Windows XP、Win7等 是ＰＣ操作系统</li>
<li>iOS 是手持设备(iPhone/iPod touch/iPad等 )操作系统</li>
</ul>
<h4 id="iOS开发的三种方式"><a href="#iOS开发的三种方式" class="headerlink" title="iOS开发的三种方式"></a>iOS开发的三种方式</h4><p>iOS设备开发的软件根据实现方法分为三大类。</p>
<ul>
<li>iPhone本地应用程序，也就是使用iPhone SDK 开发的，在iOS设备上本地运行的程序。</li>
<li>仅在网页上显示的内容，包括Web应用等，也就是像内置iPhone应用程序一样运行的网站。</li>
<li>混合应用程序，在Web视图区域中提供网页内容的访问，但是也包含了一些iOS用户界面元素。</li>
</ul>
<h4 id="iOS开发基本流程"><a href="#iOS开发基本流程" class="headerlink" title="iOS开发基本流程"></a>iOS开发基本流程</h4><p>确定需求 —&gt; 设计交互稿 —&gt;设计视觉稿 —&gt;编写代码 &lt;—&gt;提交测试 —&gt;提交AppStore审核 —&gt; 版本上线</p>
<h3 id="iOS系统架构"><a href="#iOS系统架构" class="headerlink" title="iOS系统架构"></a>iOS系统架构</h3><p><strong>Core OS</strong> <-> <strong>Core Services</strong> <-> <strong>Media</strong> <-> <strong>Cocoa Touch</strong></-></-></-></p>
<h4 id="Cocoa-Touch层"><a href="#Cocoa-Touch层" class="headerlink" title="Cocoa Touch层"></a>Cocoa Touch层</h4><p>Cocoa Touch层提供了基本的系统行为支持，而且将你的工作量降到最低，当你想要实现更为复杂的行为和界面时，才考虑向下层探寻技术支持。</p>
<ul>
<li>UIKit 框架：UIKit提供了一些程序运行所必须的关键对象，使得APP能够捕获用户输入和在屏幕上的显示内容。</li>
<li>MapKit 框架：iOS 3.0引入该框架，该框架提供一个可被嵌入到应用程序的地图界面，该界面包含一个可以滚动的地图视图。</li>
<li>Address Book UI 框架：IOS 3.0引入该框架，可以利用框架撰写电子邮件，并将其放入到用户的发件箱排队等候发送</li>
<li>Message UI 框架：显示创建或者编辑联系人的标准系统界面。</li>
</ul>
<h4 id="Media层"><a href="#Media层" class="headerlink" title="Media层"></a>Media层</h4><p>包含图形、音频、视频等技术。</p>
<ul>
<li>Quartz Core 框架：包含Core Animation接口。Core Animation是高级动画制作和混合技术，它使用经过优化的渲染路径实现复杂的动画和视觉效果</li>
<li>Media Player 框架：应用程序播放视频和音频内容。</li>
<li>AV Foundation 框架：该框架包含的Object—C类可用于播放音频内容。</li>
<li>Core Graphics 框架（CoreGraphics.framework）包含Quartz 2D绘图API接口。该框架基于C接口，提供绘画功能。</li>
</ul>
<h4 id="Core-Service层"><a href="#Core-Service层" class="headerlink" title="Core Service层"></a>Core Service层</h4><p>应用程序提供基础系统服务。可能应用程序并不直接使用这些服务，但它们是系统很多部分赖以建构的基础。</p>
<ul>
<li>Foundation 框架：为Core foundation 框架的许多功能提供Object-C封装。</li>
<li>Core foundation 框架：是一组C语言接口，它们为IOS应用程序提供基本数据管理和服务功能。</li>
<li>Core Location 框架：可用于定位某个设备当前经纬度。</li>
<li>其他框架：CFNetwork 框架、Core Data 框架、Core Media 框架、Core Telephon y框架、Event Kit 框架、Mobile Core Services 框架、Quick Look 框架、Store Kit 框架、System configuration 框架。</li>
</ul>
<h3 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h3><p>硬件 &lt;——&gt; <strong>操作系统</strong> &lt;——&gt; 应用软件 &lt;——&gt; 用户<br>操作系统可以看做用户与硬件的接口、桥梁，它为应用软件和用户提供了控制访问硬件的手段。</p>
<p>###iOS&amp;Android的区别<br>操作系统 | iOS | Android<br>———– | ————- | ————<br>系统架构 | 基于UNIX  | 基于Linux的虚拟机<br>系统安全性 | 安全、稳定  | 安全性略低，漏洞较多<br>是否开源 | 不开源 | 开源<br>公司 | Apple | Google<br>应用商店 | AppStore（08年上线) | GooglePlay<br>设备种类 | iphone/ipad等     | 数不清的设备种类（屏幕、系统适配难度大）</p>
<h4 id="出色手机软件的两点要素"><a href="#出色手机软件的两点要素" class="headerlink" title="出色手机软件的两点要素"></a>出色手机软件的两点要素</h4><ul>
<li>良好的用户体验与美观的用户界面</li>
<li>实用的功能</li>
</ul>
<h4 id="开发准备"><a href="#开发准备" class="headerlink" title="开发准备"></a>开发准备</h4><ol>
<li>编程语言：C语言、C++（可选）、Object—c、Swift</li>
<li>开发工具：Xcode</li>
<li>电脑系统：Mac OS X (iMac、MacBook、Mac mini)</li>
<li>真机设备：iPhone、iPad等（可选）</li>
<li>iOS证书：调试证书（可选）、发布证书（可选）（$99/year）</li>
</ol>
<h4 id="Apple设备"><a href="#Apple设备" class="headerlink" title="Apple设备"></a>Apple设备</h4><ul>
<li>iPhone1（2007年发布），iPhone4（2007年）Retina显示屏，支持前置摄像头</li>
<li>iPad（2010）</li>
<li>其他 iPod Touch、Apple TV等</li>
</ul>
<h5 id="经典广告"><a href="#经典广告" class="headerlink" title="经典广告"></a>经典广告</h5><blockquote>
<p>If you don’t have an iphone,well,you don’t have an iphone.  </p>
</blockquote>
<h3 id="Mac-OS-X"><a href="#Mac-OS-X" class="headerlink" title="Mac OS X"></a>Mac OS X</h3><ul>
<li>X代表罗马数字10；  </li>
<li>该系统以UNIX系统为基础开发，故所有文件存放在一个根目录中。</li>
</ul>
<h4 id="桌面"><a href="#桌面" class="headerlink" title="桌面"></a>桌面</h4><ul>
<li>DOC：桌面应用程序池</li>
<li>Finder：   我的电脑  </li>
<li>Launchpad： 应用程序</li>
<li>Safari： 浏览器</li>
<li>AppStore： 应用商店</li>
<li>spotlight： 搜索 （快捷键：Ctrl+space）</li>
<li>动态化顶部菜单栏</li>
<li>快速预览功能：选中文件后按space</li>
</ul>
<h4 id="软件下载"><a href="#软件下载" class="headerlink" title="软件下载"></a>软件下载</h4><ol>
<li>App Store</li>
<li>第三方网站  <ul>
<li><a href="http://soft.macx.cn" target="_blank" rel="noopener">MacX</a>    </li>
<li><a href="http://www.applex.net/downloads/" target="_blank" rel="noopener">applex</a>  </li>
<li><a href="http://www.macdang.com" target="_blank" rel="noopener">Mac党</a></li>
</ul>
</li>
</ol>
<h4 id="未完待续…"><a href="#未完待续…" class="headerlink" title="未完待续…"></a>未完待续…</h4>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/31/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><span class="page-number current">32</span>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://blog-andy0570-1256077835.cos.ap-shanghai.myqcloud.com/site_Images/avatar.png" alt="独木舟的木">
            
              <p class="site-author-name" itemprop="name">独木舟的木</p>
              <div class="site-description motion-element" itemprop="description">有时候阳光很好 有时候阳光很暗</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">317</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">36</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Andy0570" title="GitHub &rarr; https://github.com/Andy0570" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:andywhm@163.com" title="E-Mail &rarr; mailto:andywhm@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">独木舟的木</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





  



  






  



  
    
    
      
    
  
  <script color="17,119,176" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script>













  
  <script src="//cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

  
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  
  
  
    
  

  
    
      
    
  

  
  
  
    <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
    <script>
      
        window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://andy0570.com/page/32/',]
        });
      
        });
      
    </script>
  


  



  



  
  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">

  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js"></script>
  

  <script src="/js/algolia-search.js?v=7.1.0"></script>



  
  
  <script>
    
    function showTime(Counter) {
      var entries = [];
      var $visitors = $('.leancloud_visitors');

      $visitors.each(function() {
        entries.push( $(this).attr('id').trim() );
      });

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url: { '$in': entries } }) })
        .done(function({ results }) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'S7i1Y8YorMKFPaYbJbekD5el-gzGzoHsz',
                'X-LC-Key': 'brOnU8mOQvSjpipJvdKUAIbU',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            if ($('.post-title-link').length >= 1) {
              showTime(Counter);
            }
          
        });
    });
  </script>



  

  

  

  

  

  

  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script>pangu.spacingPage();</script>


  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script>
  <script>
  
    bookmark.loadBookmark();
  
  </script>


  

  

  


  <!-- red heart -->
  <script type="text/javascript" src="/js/src/love.js"></script>
  
</body>
</html>
